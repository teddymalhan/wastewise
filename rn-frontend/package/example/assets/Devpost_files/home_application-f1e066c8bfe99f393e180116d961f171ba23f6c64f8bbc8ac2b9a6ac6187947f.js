function groupJQueryMigrateErrors(t){t.message&&0===t.message.indexOf("JQMIGRATE:")&&(t.fingerprint=t.message)}function groupJSArticleReaderErrors(t){t.message&&-1!==t.message.indexOf("ReaderArticleFinderJS")&&(t.fingerprint="ReaderArticleFinderJS error")}!function(t,e){"use strict";var n={};!function(){var t=document.getElementsByTagName("script"),e=t[t.length-1];if(e)for(var i,r=e.attributes,o=0,s=r.length;s>o;o++)/data-(\w+)$/.test(r[o].nodeName)&&(i=r[o].nodeValue,"false"===i&&(i=!1),n[RegExp.$1]=i)}();var i=function(){var t=e(),i=t(n);return i.factory=t,i};"function"==typeof define&&define.amd?define([],i):"object"==typeof module&&module.exports?module.exports=i():t.Honeybadger=i()}(this,function(){function t(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}function e(t){return l?l.name!==t.name?!1:l.message!==t.message?!1:l.stack!==t.stack?!1:!0:!1}function n(t,e){var n=t.message;for(var i in e)if(n.match(e[i]))return!0;return!1}function i(){var t={};return t.HTTP_USER_AGENT=navigator.userAgent,document.referrer.match(/\S/)&&(t.HTTP_REFERER=document.referrer),t}function r(t){if("object"!=typeof t)return void 0;var e=[];for(var n in t)e.push(n+"="+t[n]);return e.join(";")}function o(t){return t.stacktrace||t.stack||void 0}function s(t){var e,n=10;if(t&&(e=o(t)))return{stack:e,generator:void 0};try{throw new Error("")}catch(i){if(e=o(i))return{stack:e,generator:"throw"}}e=["<call-stack>"];for(var r=arguments.callee;r&&e.length<n;){/function(?:\s+([\w$]+))+\s*\(/.test(r.toString())?e.push(RegExp.$1||"<anonymous>"):e.push("<anonymous>");try{r=r.caller}catch(i){break}}return{stack:e.join("\n"),generator:"walk"}}function a(t,e){var n,i,r;for(i=0,r=t.length;r>i;i++)if(n=t[i],n(e)===!1)return!0;return!1}var l,c,u="0.5.0",h={name:"honeybadger.js",url:"https://github.com/honeybadger-io/honeybadger-js",version:u,language:"javascript"},d=!1,p=!1,f=function(f){function m(t){g("debug")&&this.console&&console.log(t)}function g(t,e){var n=E[t];return void 0===n&&(n=E[t.toLowerCase()]),"false"===n&&(n=!1),void 0!==n?n:e}function v(){return"http"+(g("ssl",!0)&&"s"||"")+"://"+g("host","api.honeybadger.io")}function b(t){return/function|symbol/.test(typeof t)?!1:"object"==typeof t&&"undefined"==typeof t.hasOwnProperty?!1:!0}function y(t,e,n){var i,r,o,s;if(o=[],n||(n=0),n>=g("max_depth",8))return encodeURIComponent(e)+"=[MAX DEPTH REACHED]";for(i in t)s=t[i],t.hasOwnProperty(i)&&null!=i&&null!=s&&(b(s)||(s=Object.prototype.toString.call(s)),r=e?e+"["+i+"]":i,o.push("object"==typeof s?y(s,r,n+1):encodeURIComponent(r)+"="+encodeURIComponent(s)));return o.join("&")}function w(t){try{var e=new(this.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");return e.open("GET",t,g("async",!0)),void e.send()}catch(n){m("Error encountered during XHR request (will retry): "+n)}var i=new Image;i.src=t}function _(t){l=c=null;var e=g("apiKey",g("api_key"));if(!e)return m("Unable to send error report: no API key has been configured."),!1;var n=v()+"/v1/notices/js.gif?"+y({notice:t})+"&api_key="+e+"&t="+(new Date).getTime();return w(n),!0}function S(s,u){if(g("disabled",!1))return!1;if("object"!=typeof s)return!1;if("[object Error]"===Object.prototype.toString.call(s)){var p=s;s=t(s,{name:p.name,message:p.message,stack:o(p)})}if(e(s))return!1;if(c&&d&&_(c),0===function(){var t,e;e=[];for(t in s)({}).hasOwnProperty.call(s,t)&&e.push(t);return e}().length)return!1;if(u&&(s=t(s,u)),n(s,g("ignorePatterns")))return!1;if(a(E.beforeNotifyHandlers,s))return!1;var f=i();"string"==typeof s.cookies?f.HTTP_COOKIE=s.cookies:"object"==typeof s.cookies&&(f.HTTP_COOKIE=r(s.cookies));var v={notifier:h,error:{"class":s.name||"Error",message:s.message,backtrace:s.stack,generator:s.generator,fingerprint:s.fingerprint},request:{url:s.url||document.URL,component:s.component||g("component"),action:s.action||g("action"),context:t(E.context,s.context),cgi_data:f,params:s.params},server:{project_root:s.projectRoot||s.project_root||g("projectRoot",g("project_root",window.location.protocol+"//"+window.location.host)),environment_name:s.environment||g("environment"),revision:s.revision||g("revision")}};return c=v,l=s,d?(m("Deferring notice.",s,v),window.setTimeout(function(){e(s)&&_(v)})):(m("Queuing notice.",s,v),T.push(v)),s}function x(t){return"function"!=typeof Object.isExtensible?!0:Object.isExtensible(t)}function k(t,e){try{return"function"!=typeof t?t:x(t)?(t.___hb||(t.___hb=function(){var n=g("onerror",!0);if(!(I&&(n||e)||e&&!n))return t.apply(this,arguments);try{return t.apply(this,arguments)}catch(i){throw S(i),i}}),t.___hb):t}catch(n){return t}}function C(t,e,n){if(!p&&t&&e&&n){var i=t[e];t[e]=n(i)}}var $=[],T=[],E={context:{},beforeNotifyHandlers:[]};if("object"==typeof f)for(var P in f)E[P]=f[P];var I=!0;if(window.atob||(I=!1),window.ErrorEvent)try{0===new window.ErrorEvent("").colno&&(I=!1)}catch(O){}E.notify=function(e,n,i){if(e||(e={}),"[object Error]"===Object.prototype.toString.call(e)){var r=e;e=t(e,{name:r.name,message:r.message,stack:o(r)})}if("object"!=typeof e){var a=String(e);e={message:a}}if(n&&"object"!=typeof n){var l=String(n);n={name:l}}return n&&(e=t(e,n)),"object"==typeof i&&(e=t(e,i)),S(e,s(e))},E.wrap=function(t){return k(t,!0)},E.setContext=function(e){return"object"==typeof e&&(E.context=t(E.context,e)),E},E.resetContext=function(e){return"object"==typeof e?E.context=t({},e):E.context={},E},E.configure=function(t){for(var e in t)E[e]=t[e];return E},E.beforeNotify=function(t){return E.beforeNotifyHandlers.push(t),E};var A=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};E.reset=function(){E.context={},E.beforeNotifyHandlers=[];for(var t in E)-1==A.call($,t)&&(E[t]=void 0);return E},E.getVersion=function(){return u};var R=function(t){return function(e,n){if("function"==typeof e){var i=Array.prototype.slice.call(arguments,2);return e=k(e),t(function(){e.apply(null,i)},n)}return t(e,n)}};C(window,"setTimeout",R),C(window,"setInterval",R),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(t){var e=window[t]&&window[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(C(e,"addEventListener",function(t){return function(e,n,i,r){try{n&&null!=n.handleEvent&&(n.handleEvent=k(n.handleEvent))}catch(o){m(o)}return t.call(this,e,k(n),i,r)}}),C(e,"removeEventListener",function(t){return function(e,n,i,r){return t.call(this,e,n,i,r),t.call(this,e,k(n),i,r)}}))}),C(window,"onerror",function(t){function e(t,e,n,i,r){if(!l&&g("onerror",!0)){if(0===n&&/Script error\.?/.test(t))return void m("Ignoring cross-domain script error. Use CORS to enable tracking of these types of errors.");if(m("Error caught by window.onerror"),r)return void S(r);var o=[t,"\n    at ? (",e||"unknown",":",n||0,":",i||0,")"].join("");S({name:"window.onerror",message:t,stack:o})}}return function(n,i,r,o,s){return e(n,i,r,o,s),"function"==typeof t?t.apply(this,arguments):!1}}),p=!0;for(var P in E)$.push(P);if(m("Initializing honeybadger.js "+u),/complete|interactive|loaded/.test(document.readyState))d=!0,m("honeybadger.js "+u+" ready");else{m("Installing ready handler");var V=function(){d=!0,m("honeybadger.js "+u+" ready");for(var t;t=T.pop();)_(t)};document.addEventListener?document.addEventListener("DOMContentLoaded",V,!0):window.attachEvent("onload",V)}return E};return f}),Honeybadger.configure({api_key:"acc49d39",environment:"production",disabled:"false"}),Honeybadger.setContext({tags:"js"}),Honeybadger.beforeNotify(function(t){return/safari-extension:\/\/|chrome-extension:\/\//.test(t.stack)?!1:t.message&&0===t.message.indexOf("JQMIGRATE:")?!1:(groupJQueryMigrateErrors(t),void groupJSArticleReaderErrors(t))}),function(){this.JST||(this.JST={}),this.JST["home/templates/software/portfolios/starring_error"]=function(obj){var __p=[];with(obj||{}){__p.push('<a class="close-reveal-modal close-reveal-modal-x">&#215;</a>\n\n<h2>Oopsies</h2>\n\n');for(i in errorMessages)__p.push("\n<p>\n  ",errorMessages[i],"\n</p>\n");__p.push("\n\n\n"),errorCount>=3&&__p.push('\n  <p>\n    It looks like you\'re getting a lot of errors.\n    Sometimes a good old refresh can help get things\n    working again. <a href="">Refresh now.</a>\n  </p>\n'),__p.push('\n\n<a class="button radius small close-reveal-modal" href="#">Dismiss</a>\n')}return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/filter"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="#">\n  <span class="right label small-label ',classes,'">\n    ',query,"\n  </span>\n  ",description,"\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/filter_help_item"]=function(obj){var __p=[];with(obj||{})__p.push('<li><a href="#" class="help">\n  <i class="ss-icon ss-fill"></i>\n  View advanced search syntax</a>\n</li>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/results_title"]=function(obj){var __p=[];with(obj||{})__p.push("<li class='result-title'><h4>",title,"</h4></li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/search_icon"]=function(obj){var __p=[];with(obj||{})__p.push(""),isLoading?__p.push('\n  <img id="spinner" src="/assets/large-ajax-loader-24ed9db3eb0d97ecf1f0832cbd30bd37744e0d2b520ccdad5af60f7a08a45b90.gif" alt="Large ajax loader" />\n'):isNavigating?__p.push("\n  <div id=\"nav-icons\">\n    <i class='ss-icon ss-directup'></i>\n    <i class='ss-icon ss-dropdown'></i>\n  </div>\n"):__p.push("\n  <i class='ss-icon ss-search' id=\"search-icon\"></i>\n"),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/software"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="',url,'">\n  <div class="row">\n    <div class="large-7 columns">\n      <div class="software-photo" style="'),photo&&__p.push("background-image: url(",photo,")"),__p.push('">\n        '),winner&&__p.push('\n          <img alt="Winner" class="winner" src="/assets/shared/software/winner-ribbon-85c4be5085ae1445920f3efa67e2e429d6b32bceffd6921ca3f4bf34de3ba712.png" />\n        '),__p.push("\n        "),has_video&&__p.push('\n          <div class="player"></div>\n        '),__p.push('\n      </div>\n\n      <div class="result-content">\n        <h5>\n          <span>',name,'</span>\n        </h5>\n        <p class="tagline">\n          ',tagline,'\n        </p>\n        <div class="paragraph-end"></div>\n      </div>\n    </div>\n    <div class="large-3 small-7 columns">\n      <div class="members">\n        <span class="faded">by ',members,'</span>\n      </div>\n    </div>\n    <div class="large-2 small-5 columns counts">\n      '),like_count>0&&__p.push('\n        <span class="like-count count">\n          <i class="ss-icon ss-heart"></i> ',like_count,"\n        </span>\n      "),__p.push("\n\n      "),comment_count>0&&__p.push('\n        <span class="comment-count count">\n          <i class="ss-icon ss-chat"></i> ',comment_count,"\n        </span>\n      "),__p.push("\n    </div>\n  </div>\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/software_total_results"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="#">\n  <div class="row">\n    <div class="large-12 columns">\n      <i class="left ss-icon ss-rows"></i>\n      <h5 class="result-content">\n        <span>',remainingCount," more results</span>\n        <small>&middot; View all</small>\n      </h5>\n    </div>\n  </div>\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/suggestion"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="#">\n  <div class="row">\n    <div class="large-12 columns">\n      <i class="left ss-icon ss-',icon,'"></i>\n      <h5 class="result-content">\n        <span>',description,'</span>\n        <span class="faded">&middot; ',query,"</span>\n      </h5>\n    </div>\n  </div>\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software/search/tag"]=function(obj){var __p=[];with(obj||{})__p.push('\n<a href="https://devpost.com/software/built-with/',slug,'">\n  <div class="row">\n    <div class="large-12 columns">\n      <i class="left">#</i>\n      <h5 class="result-content">\n        <span>',title,"</span>\n        <span class='faded slim'>&middot; #",slug," gallery</span>\n      </h5>\n    </div>\n  </div>\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software_members/invite_form"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="',error_class,'">\n  <span class="attachable">\n    <input id="email" name="email" placeholder="Add team members via email \u2013 someone@example.com"\n    type="email" value="',(""+email).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'" class="attachable-base is-marginless">\n\n    <button type="button" class="button flat attach-on-right">\n      Send invite\n    </button>\n  </span>\n\n  '),errors.email&&__p.push('\n    <span class="errors">',errors.email,"</span>\n  "),__p.push("\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/software_members/software_member"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="row collapse clearfix">\n  <div class="large-6 columns software-member-info">\n    ',avatar,'\n    <strong class="software-member-name">\n      '),user_joined?__p.push("\n        ",user_profile_path,"\n        <p class='screen-name is-marginless faded'>\n          <small>@",screen_name,"</small>\n        </p>\n      "):__p.push("\n        ",invitation_email,"\n      "),__p.push('\n    </strong>\n  </div>\n\n  <div class="large-4 small-8 columns unconfirmed-software-member">\n    '),user_joined||__p.push('\n\n      <span class="status invited faded">\n        <small><i class="far fa-paper-plane"></i> Invite sent, unconfirmed</small>\n      </span>\n\n    '),__p.push('\n  </div>\n\n  <div class="large-2 small-4 columns text-center status remove-software-member">\n    '),destroyable&&__p.push('\n      <a href="#" rel="nofollow" data-role="delete">\n        <i class="far fa-times-circle"></i>\n      </a>\n    '),__p.push("\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/templates/user_stylesheets/attached_photo"]=function(obj){var __p=[];with(obj||{})__p.push('<strong class="filename">',displayName,'</strong>\n<span class="filesize">(',size,")</span>\n"),isUploading?__p.push('\n  <a class="ss-icon ss-delete abort"></a>\n  <img src="/assets/challenges/indicator-ajax-spinner.gif" class="loading" />\n\n'):wasCanceled?__p.push('\n  <strong> &mdash; <span>Canceled upload</span></strong>\n  <a class="remove">Remove</span>\n\n'):uploadError?__p.push("\n  <span>",uploadError,'</span>\n  <a class="remove">Remove</span>\n\n'):isUploaded?__p.push('\n  <span class="ss-icon ss-check"></span>\n  <a class="remove">Remove</span>\n\n'):__p.push('\n  <a class="remove">Remove</span>\n'),__p.push("\n");return __p.join("")}}.call(this),window.CP=window.CP||{},window.CP.Home=window.CP.Home||{},function(){var t;t=function(){function t(t){this.messageSelector=t,this.$message=$(this.messageSelector)}return t.prototype.setup=function(){return this.addCloseButton()},t.prototype.addCloseButton=function(){return this.$message.append(this.$closeLink()).css("paddingRight","3em")},t.prototype.$closeLink=function(){return $("<a>").attr({href:"#",title:"Close"}).addClass("close").html("&times;")},t.setup=function(e){return new t(e).setup()},t}(),this.CP.Home.DismissableMessage=t}.call(this),function(){$(document).ready(function(){return $("a[data-needs-query]").each(function(){var t,e;return t=$(this).attr("href"),e=$(this).closest("[data-ref-params]").data("refParams"),t&&e?(t+=(t.match(/\?/)?"&":"?")+e,$(this).attr("href",t)):void 0})})}.call(this),function(){var t;t=function(){function t(t){this.$input=$(t),this.wrapInput()}return t.prototype.valueIsEmail=!1,t.prototype.$wrapper=null,t.prototype.suggestionsUrl=function(){return null!=this.url?this.url:this.url=this.$input.data("source")},t.prototype.makeAutocompleteable=function(){return this.$input.autocomplete({minLength:3,source:$.proxy(this.loadSuggestions,this),select:$.proxy(this.markAsValid,this),open:$.proxy(this.fixZIndex,this)}),this.bindEvents(),this.patchRendering()},t.prototype.loadSuggestions=function(t,e){var n,i;return i=t.term,this.valueIsEmail?void 0:(this.showLoading(),n=$.ajax({url:this.suggestionsUrl(),dataType:"json",data:{q:i}}),n.done($.proxy(function(t){return this.displaySuggestions(t,e)},this)),n.always($.proxy(this.hideLoading,this)))},t.prototype.displaySuggestions=function(t,e){var n,i,r,o;for(o=[],n=0,i=t.length;i>n;n++)r=t[n],o.push({label:r.label,value:r.value,photo:r.photo});return 0===o.length&&this.markAsInvalid(),e(o)},t.prototype.showLoading=function(){return this.$wrapper.addClass("autocomplete-loader")},t.prototype.hideLoading=function(){return this.$wrapper.removeClass("autocomplete-loader")},t.prototype.displayEmail=function(){return this.$wrapper.addClass("autocomplete-email")},t.prototype.hideEmail=function(){return this.$wrapper.removeClass("autocomplete-email")},t.prototype.markAsValid=function(){return this.$input.addClass("autocomplete-valid")},t.prototype.markAsInvalid=function(){return this.$input.removeClass("autocomplete-valid")},t.prototype.bindEvents=function(){return this.$input.on("keyup",$.proxy(this.onKeyUp,this))},t.prototype.onKeyUp=function(){var t;return t=this.$input.val(),/@/.test(t)?(this.valueIsEmail||this.displayEmail(),this.valueIsEmail=!0):(this.valueIsEmail&&this.hideEmail(),this.valueIsEmail=!1),t.length<3?this.markAsInvalid():void 0},t.prototype.wrapInput=function(){var t;return t=$("<span/>").addClass("autocomplete-wrapper"),this.$input.wrap(t),this.$wrapper=this.$input.parent()},t.prototype.fixZIndex=function(){return this.$input.autocomplete("widget").css("z-index",100)},t.prototype.patchRendering=function(){return this.$input.data("ui-autocomplete")._renderItem=function(t,e){var n;return n=$("<li/>").data("ui-autocomplete-item",e),n.append("<a class='item-link'>\n  <img src='"+e.photo+"'>\n  <span class='label'>"+e.label+"</span>\n</a>"),n.appendTo(t)}},t}(),$.fn.cp_autocomplete=function(e){return this.each(function(){var e;return e=new t(this),e.makeAutocompleteable()}),this}}.call(this),function(){var t,e;t=function(){function t(t,e){this.$el=t,this.callback=e}return t.prototype.open=function(t){return!this.confirmMessage()||confirm(this.confirmMessage())?"get"===this.method()?this.openGetLink(t):this.openPostLink():void 0},t.prototype.openPostLink=function(){var t;return t=$.post({url:this.target(),data:{_method:this.method()}}),t.then(function(t){return function(e){return t.callback(t,e)}}(this))},t.prototype.openGetLink=function(t){return t?window.open(this.target()):window.location=this.target()},t.prototype.method=function(){return this._method||(this._method=this.$el.data("method")||"get")},t.prototype.target=function(){return this.$el.data("url")},t.prototype.confirmMessage=function(){return this._confirmMessage||(this._confirmMessage=this.$el.data("confirm"))},t}(),e=function(){function e(e,n){$(e).on("mouseup",function(e){return function(i){var r;return i.preventDefault(),i.stopImmediatePropagation(),r=new t($(i.currentTarget),n),r.open(e.openInNewWindow(i))}}(this)).on("click",function(t){return function(t){return t.preventDefault(),t.stopImmediatePropagation()}}(this))}return e.prototype.openInNewWindow=function(t){return 2===t.which||t.metaKey},e.setup=function(t,n){return null==t&&(t="[data-nested-link]"),null==n&&(n=$.noop),new e(t,n)},e}(),this.CP.NestedLinkHandler=e}.call(this),function(){var t;t=function(){function t(t,e){this.targetSelectors=null!=e?e:null,this.$colorPicker=$(t),this.$colors=this.$colorPicker.find(".color"),this.$inputField=this.$colorPicker.find("input"),this.setupColors(),this.setupColorPicking(),this.setupInputField(),this.highlightSelectedColor(),this.updateTargets()}return t.prototype.setupColors=function(){return this.$colors.each(function(t,e){var n,i;return i=e.getAttribute("data-color"),n=$(e).find("a"),n.css("background-color",i)})},t.prototype.setupColorPicking=function(){return this.$colorPicker.on("click",".color a",function(t){return function(e){var n,i;return e.preventDefault(),n=$(e.currentTarget).closest(".color"),i=n.attr("data-color"),t.$inputField.val(i).change(),t.highlightSelectedColor(i,n),t.updateTargets(i)}}(this))},t.prototype.setupInputField=function(){return this.$inputField.keyup(function(t){return function(){var e;return e=t.value,t.highlightSelectedColor(e),t.updateTargets(e)}}(this))},t.prototype.highlightSelectedColor=function(t,e){return null==t&&(t=this.$inputField.val()),null==e&&(e=this.$colors.filter("[data-color='"+t+"']")),this.$colors.find(".selected").removeClass("selected"),e.find("a").addClass("selected")},t.prototype.updateTargets=function(t){return null==t&&(t=this.$inputField.val()),this.isHexColor(t)?$(this.targetSelectors).css("background-color",t):void 0},t.prototype.isHexColor=function(t){return/^#([A-F0-9]{6}|[A-F0-9]{3})$/i.test(t)},t.setup=function(e,n){return new t(e,n)},t}(),this.CP.SimpleColorPicker=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t,n){this.displayIllustrationByTimeOfDay=e(this.displayIllustrationByTimeOfDay,this),this.hour=t,this.imagePaths=n,this.displayIllustrationByTimeOfDay()}return t.prototype.illustrationByTimeOfDay=function(){switch(!1){case!(this.hour<6):return this.imagePaths.night;case!(this.hour<12):return this.imagePaths.morning;case!(this.hour<17):return this.imagePaths.afternoon;case!(this.hour<22):return this.imagePaths.evening;default:return this.imagePaths.night}},t.prototype.displayIllustrationByTimeOfDay=function(){return $("#homepage-header").css("background-image","url('"+this.illustrationByTimeOfDay()+"')").addClass("bg-ready")},t}(),this.CP.Home.HeroDayNightCycle=t}.call(this),function(){var t;null==(t=this.CP.Home).Entities&&(t.Entities={})}.call(this),function(){var t;t=this.CP.Home.Entities,t.SoftwareMember=Backbone.Model.extend({defaults:{email:"",errors:{}},parse:function(t){return t.software_member?t.software_member:t},valid:function(){return _.isEmpty(this.get("errors"))}}),t.SoftwareMembers=Backbone.Collection.extend({initialize:function(t,e){return null==e&&(e={}),this.softwareMembersPath=e.softwareMembersPath},model:t.SoftwareMember,url:function(){return this.softwareMembersPath},parse:function(t){return t.software_members}}),Backbone.Radio.channel("entities").reply("softwareMembers",function(e){var n,i;return i=new t.SoftwareMembers(null,{softwareMembersPath:e}),n=$.Deferred(),i.fetch({reset:!0,success:function(t){return n.resolve(i)},error:function(){return n.resolve(void 0)}}),n.promise()}),Backbone.Radio.channel("entities").reply("new:softwareMember",function(){return new t.SoftwareMember})}.call(this),function(){var t,e;null==(e=this.CP.Home).SoftwareMembersApp&&(e.SoftwareMembersApp={}),t=this.CP.Home.SoftwareMembersApp,t.channel=Backbone.Radio.channel("softwareMembersApp"),t.start=function(e){return t.controller=new t.SoftwareMembersController(e),t.channel.trigger("index")}}.call(this),function(){var t;t=this.CP.Home.SoftwareMembersApp,t.SoftwareMemberView=Backbone.View.extend({template:JST["home/templates/software_members/software_member"],tagName:"li",events:{"click [data-role=delete]":"destroy"},attributes:function(){return{id:"software_member_"+this.model.get("id")}},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el},destroy:function(e){return e.preventDefault(),this.remove(),t.channel.trigger("member:remove",this.model)}}),t.SoftwareMembersView=Backbone.View.extend({el:'[data-role="software-members"]',initialize:function(t){return null==t&&(t={}),this.listenTo(this.collection,"sync",this.sync),this.listenTo(this.collection,"remove",this.removeMember)},render:function(){return this.collection.each(_.bind(this.renderMember,this))},sync:function(t){return t instanceof Backbone.Model?this.syncMember(t):void 0},syncMember:function(e){return t.channel.trigger("member:synced",e),_.isEmpty(e.get("errors"))?this.renderMember(e):void 0},renderMember:function(e){var n;return n=new t.SoftwareMemberView({model:e,collection:this}),this.listenTo(n,"all",function(t){return function(e,n){return t.trigger("childview:"+e)}}(this)),this.$el.append(n.render())}}),t.InviteForm=Backbone.View.extend({el:'[data-role="invite-form"]',template:JST["home/templates/software_members/invite_form"],ui:{$input:"input[type=email]"},events:{"click button":"onSubmit","keydown input[type=email]":"onKeydown"},render:function(){return this.$el.html(this.template(this.serializeData())),this.setupUI()},add:function(e){return t.channel.trigger("member:add",this.$input.val())},onSubmit:function(t){return t.preventDefault(),this.add()},onKeydown:function(t){return 13!==t.which?!0:(t.preventDefault(),this.add())},serializeData:function(){var t,e;return e={error_class:("function"==typeof(t=this.model).valid?t.valid():void 0)?"":"fieldWithErrors"},_.extend(e,this.model.toJSON())},setupUI:function(){var t,e,n,i;t=this.ui,e=[];for(n in t)i=t[n],e.push(this[n]=this.$el.find(i));return e}})}.call(this),function(){var t,e;t=this.CP.Home.SoftwareMembersApp,e=Backbone.Radio.channel("entities"),t.SoftwareMembersController=function(){function n(t){this.softwareMembersPath=t}return n.prototype.index=function(){var n;return n=e.request("softwareMembers",this.softwareMembersPath),n.done(function(e){return function(n){return e.softwareMembersView=new t.SoftwareMembersView({collection:n}),e.softwareMembersView.render(),e.softwareMembersView.on({"childview:member:remove":function(e){return t.channel.trigger("member:remove",e)}})}}(this)),this.inviteFormView=new t.InviteForm({model:e.request("new:softwareMember")}),this.inviteFormView.render()},n.prototype.create=function(t){return this.softwareMembersView.collection.create({software_member:{email:t}})},n.prototype.remove=function(t){return t.destroy()},n.prototype.sync=function(t){return("function"==typeof t.valid?t.valid():void 0)&&(t=e.request("new:softwareMember")),this.inviteFormView.model=t,this.inviteFormView.render()},n}(),t.channel.on({index:function(){return t.controller.index()},"member:add":function(e){return t.controller.create(e)},"member:remove":function(e){return t.controller.remove(e)},"member:synced":function(e){return t.controller.sync(e)}})}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/comments/list/edit_comment"]=function(obj){var __p=[];with(obj||{})__p.push('<div class="comment-column">\n  <div class="actions right">\n    <a href="#" data-role="cancel" title="Cancel"><i class="ss-icon ss-delete"></i></a>\n  </div>\n\n  <p class="author">\n    <a class="user-profile-link" href="',user.path,'">\n      <img alt="',user.screen_name,'"\n        class="user-avatar user-photo gravatar_image image-replacement"\n        title="',user.screen_name,'"\n        src="',user.avatar_url,'">\n      '),official&&__p.push('\n        <img src="/assets/devpost-icon-rgb.svg" class="org-badge">\n      '),__p.push('\n    </a>\n\n    <a href="',user.path,'">',user.display_name,'</a>\n\n    <span class="date light-text">\n      &middot; <time class="timeago" datetime="',created_at,'"></time>\n    </span>\n  </p>\n\n\n  <form action="" class="comment-form">\n    <textarea name="comment[body]" id="edit_comment_body">',body,'</textarea>\n    <input type="submit" data-role="submit" value="',button_text,'" class="button tiny radius"/>\n    &nbsp;\n    <a href="#" data-role="cancel" class="light-text"><small>Cancel</small></a>\n  </form>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/comments/list/load_more"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="#">View previous comments</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/comments/list/show_comment"]=function(obj){var __p=[];with(obj||{})__p.push(""),id&&(__p.push('\n  <div class="comment-column">\n    <div class="actions right">\n      '),permissions.can_edit&&__p.push('\n        <a href="#" data-role="edit" title="Edit"><i class="ss-icon ss-write"></i></a>\n      '),__p.push("\n\n      "),permissions.can_destroy&&__p.push('\n        <a href="#" data-role="destroy"><i class="ss-icon ss-trash"></i></a>\n      '),__p.push("\n\n      "),permissions.can_flag&&__p.push('\n        <a href="',new_flag_url,'" data-role="flag"><i class="ss-icon ss-flag"></i></a>\n      '),__p.push('\n    </div>\n\n\n    <div class="media">\n      <div class="media-left">\n        '),user.path?__p.push('\n          <a class="comment-avatar user-profile-link " href="',user.path,'">\n        '):__p.push('\n          <div class="comment-avatar">\n        '),__p.push('\n\n          <img alt="',user.screen_name,'"\n            class="user-avatar user-photo image-replacement"\n            title="',user.screen_name,'"\n            src="',user.avatar_url,'"\n            onerror="this.onerror=null; this.src=\'',user.fallback_avatar_url,"'\"\n          >\n          "),official&&__p.push('\n            <img src="/assets/devpost-icon-rgb.svg" class="org-badge">\n          '),__p.push("\n\n        "),user.path?__p.push("\n          </a>\n        "):__p.push("\n          </div>\n        "),__p.push('\n      </div>\n      <div class="media-content">\n        <p class="author">\n          '),user.path?__p.push('\n            <a href="',user.path,'">',(""+user.display_name).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</a>\n          "):__p.push("\n            ",user.display_name,"\n          "),__p.push('\n\n          <span class="date light-text">\n            &middot; <time class="timeago" datetime="',created_at,'"></time>\n          </span>\n\n          '),flagged&&permissions.can_moderate&&__p.push('\n            &middot;\n            <span class="small flag"><i class="ss-icon ss-flag"></i></span>\n            <a class="all-caps small" rel="nofollow" data-method="delete" href="',unflag_url,'">\n              <small>unflag</small>\n            </a>\n          '),__p.push("\n        </p>\n\n        ",html_body,"\n      </div>\n    </div>\n  </div>\n")),__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/common/emoji/display"]=function(obj){var __p=[];with(obj||{})__p.push("<li>\n  ",name,"\n  <img\n    src='https://d54vifg6o9if8.cloudfront.net/",encodeURIComponent(name),".png'\n    alt='",name," emoji'\n    height='20'\n    width='20' />\n</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/common/emoji/insert"]=function(obj){var __p=[];with(obj||{})__p.push(":",name,":\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/common/flash_message"]=function(obj){var __p=[];with(obj||{})__p.push('<span class="inline-flash ',type,'">\n  ',message,"\n</span>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/common/mention/display"]=function(obj){var __p=[];with(obj||{})__p.push("<li>\n  "),photo||(__p.push("\n    "),photo="/assets/defaults/no-avatar-25-686437dde8f4c66b4d0ad6a6f4cfb2b8d80eb93ea6fb7ed53b3e79eba0104c95.png",__p.push("\n  ")),__p.push("\n  <img src='",photo,"' height='20' width='20' class='user-avatar' />\n    "),full_name?__p.push("\n      ",full_name,' <span class="light-text">(@',screen_name,")</span>\n    "):__p.push("\n      @",screen_name,"\n    "),__p.push("\n</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/common/mention/insert"]=function(obj){var __p=[];with(obj||{})__p.push("@",screen_name,"\n");return __p.join("");
}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/hackathon_picker/choice"]=function(obj){var __p=[];with(obj||{})__p.push('<header>\n  <h3 class="text-center">Is this project part of a hackathon?</h3>\n</header>\n\n<div class="flex">\n  <div>\n   <a href="" data-option="yes" class="option option-yes '),"yes"===choice&&__p.push(" selected "),__p.push('">\n    <strong>Yes,</strong>\n    I\'m submitting to a hackathon\n  </a>\n  </div>\n  <div>\n    <a href="" data-option="no" class="option option-no '),"yes"!==choice&&__p.push(" selected "),__p.push("\">\n    <strong>No,</strong>\n    I'm just adding it to my portfolio\n  </a>\n </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/hackathon_picker/hackathon"]=function(obj){var __p=[];with(obj||{})__p.push('<a href="',start_a_submission_url,'" class="clearfix">\n  <figure class="left">\n    <img src="',thumbnail_url,'" alt="',(""+title).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),'">\n  </figure>\n\n  <div class="challenge-content">\n    <h5>',(""+title).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),"</h5>\n    <p>",displayed_location.location,'</p>\n  </div>\n\n  <i class="ss-icon ss-check text-center"></i>\n</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/hackathon_picker/hackathon_list"]=function(obj){var __p=[];with(obj||{})__p.push('<header class="text-center">\n  <h4>Select a hackathon</h4>\n  <p class="small">\n    <small>You can keep editing your project after you submit it, but you must submit to demo / be eligible for prizes.</small>\n  </p>\n</header>\n\n<ul class="no-bullet" data-hackathon-list></ul>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["home/marionette/templates/software_updates/actions"]=function(obj){var __p=[];with(obj||{})__p.push(""),user_signed_in&&(__p.push('\n  <a data-dropdown="',dropdown_id,'" aria-controls="update-dropdown" aria-expanded="false" href="#">\n    <i class="ss-icon ss-dropdown"></i>\n  </a>\n  <ul id="',dropdown_id,'" class="f-dropdown" data-dropdown-content aria-hidden="true" tabindex="-1">\n    '),active_subscription?__p.push('\n      <li>\n        <a data-subscription="off" href="#">\n          <i class="ss-icon ss-mail"></i>\n          Turn off notifications\n        </a>\n      </li>\n    '):__p.push('\n      <li>\n        <a data-subscription="on" href="#">\n          <i class="ss-icon ss-mail"></i>\n          Turn on notifications\n        </a>\n      </li>\n    '),__p.push("\n  </ul>\n")),__p.push("\n");return __p.join("")}}.call(this),function(){this.CP.Mn.app.module("Common.Emoji",function(t,e,n,i,r,o){return this.startWithParent=!1,this.setupAtWho=function(t){var e;return null==t&&(t={}),t=o.extend({scope:"body",commentFormSelector:"form.comment-form textarea"},t),e=r(t.scope).find(t.commentFormSelector),e.atwho({at:":",data:reqresChannel("entities").request("emojis"),displayTpl:JST["home/marionette/templates/common/emoji/display"],insertTpl:JST["home/marionette/templates/common/emoji/insert"],delay:100,callbacks:{beforeInsert:function(t,e){return r.trim(t)}}}),e.atwho({at:"@",displayTpl:JST["home/marionette/templates/common/mention/display"],insertTpl:JST["home/marionette/templates/common/mention/insert"],delay:200,limit:8,callbacks:{remoteFilter:function(t,e){return t?r.ajax({url:CP.env.routes.api.users_url,data:{query:t},xhrFields:{withCredentials:!0}}).done(function(t){return e(t.users)}):e([])},beforeInsert:function(t,e){return r.trim(t)},sorter:function(t,e,n){return e}}})},this.on("start",function(){return t.setupAtWho()}),commandsChannel("emoji").setHandlers({setup:function(e){return t.setupAtWho(e)}})})}.call(this),function(){this.CP.Mn.app.module("Common",function(t,e,n,i,r,o){return this.FlashMessage=i.ItemView.extend({template:JST["home/marionette/templates/common/flash_message"],expirationDelay:1e4,tagName:"span",initialize:function(){return this.model=reqresChannel("entities").request("flash_message:new"),this.listenTo(this.model,"change",this.render),commandsChannel("flash").setHandlers({notice:function(t){return function(e){return t.model.notice(e)}}(this),alert:function(t){return function(e){return t.model.alert(e)}}(this)})},onRender:function(){return this.expireAfterDelay()},expireAfterDelay:function(){return this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(t){return function(){return t.$el.fadeOut(function(){return t.model.reset(),t.$el.show()})}}(this),this.expirationDelay)},serializeData:function(){return this.model.toJSON()}})})}.call(this),function(){this.CP.Mn.app.module("CommentApp",function(t,e,n,i,r,o){var s;return s={listComments:function(e){return t.List.Controller.listComments(e)}},ventChannel().on({"comments:list":function(t){return s.listComments(t)}}),this.on("start",function(){return e.module("Common.Emoji").start()})})}.call(this),function(){this.CP.Mn.app.module("CommentApp",function(t,e,n,i,r,o){return this.CommentsLayout=n.Marionette.LayoutView.extend({el:function(){return"[data-layout=comments]"},initialize:function(t){return this.model?this.setElement("[data-commentable-id="+this.model.get("id")+"]"):void 0},regions:{loadMore:'[data-region="load-more"]',comments:'[data-region="comments"]',form:'[data-region="form"]'}})})}.call(this),function(t){"use strict";t.fn.serializeJSON=function(e){var n,i,r,o,s,a,l;return a=t.serializeJSON,l=a.setupOpts(e),i=this.serializeArray(),a.readCheckboxUncheckedValues(i,this,l),n={},t.each(i,function(t,e){r=a.splitInputNameIntoKeysArray(e.name,l),o=r.pop(),"skip"!==o&&(s=a.parseValue(e.value,o,l),l.parseWithFunction&&"_"===o&&(s=l.parseWithFunction(s,e.name)),a.deepSet(n,r,s,l))}),n},t.serializeJSON={defaultOptions:{checkboxUncheckedValue:void 0,parseNumbers:!1,parseBooleans:!1,parseNulls:!1,parseAll:!1,parseWithFunction:null,customTypes:{},defaultTypes:{string:function(t){return String(t)},number:function(t){return Number(t)},"boolean":function(t){var e=["false","null","undefined","","0"];return-1===e.indexOf(t)},"null":function(t){var e=["false","null","undefined","","0"];return-1===e.indexOf(t)?t:null},array:function(t){return JSON.parse(t)},object:function(t){return JSON.parse(t)},auto:function(e){return t.serializeJSON.parseValue(e,null,{parseNumbers:!0,parseBooleans:!0,parseNulls:!0})}},useIntKeysAsArrayIndex:!1},setupOpts:function(e){var n,i,r,o,s,a;a=t.serializeJSON,null==e&&(e={}),r=a.defaultOptions||{},i=["checkboxUncheckedValue","parseNumbers","parseBooleans","parseNulls","parseAll","parseWithFunction","customTypes","defaultTypes","useIntKeysAsArrayIndex"];for(n in e)if(-1===i.indexOf(n))throw new Error("serializeJSON ERROR: invalid option '"+n+"'. Please use one of "+i.join(", "));return o=function(t){return e[t]!==!1&&""!==e[t]&&(e[t]||r[t])},s=o("parseAll"),{checkboxUncheckedValue:o("checkboxUncheckedValue"),parseNumbers:s||o("parseNumbers"),parseBooleans:s||o("parseBooleans"),parseNulls:s||o("parseNulls"),parseWithFunction:o("parseWithFunction"),typeFunctions:t.extend({},o("defaultTypes"),o("customTypes")),useIntKeysAsArrayIndex:o("useIntKeysAsArrayIndex")}},parseValue:function(e,n,i){var r,o;return o=t.serializeJSON,r=i.typeFunctions&&i.typeFunctions[n],r?r(e):i.parseNumbers&&o.isNumeric(e)?Number(e):!i.parseBooleans||"true"!==e&&"false"!==e?i.parseNulls&&"null"==e?null:e:"true"===e},isObject:function(t){return t===Object(t)},isUndefined:function(t){return void 0===t},isValidArrayIndex:function(t){return/^[0-9]+$/.test(String(t))},isNumeric:function(t){return t-parseFloat(t)>=0},optionKeys:function(t){if(Object.keys)return Object.keys(t);var e,n=[];for(e in t)n.push(e);return n},splitInputNameIntoKeysArray:function(e,n){var i,r,o,s,a;return a=t.serializeJSON,s=a.extractTypeFromInputName(e,n),r=s[0],o=s[1],i=r.split("["),i=t.map(i,function(t){return t.replace(/\]/g,"")}),""===i[0]&&i.shift(),i.push(o),i},extractTypeFromInputName:function(e,n){var i,r,o;if(i=e.match(/(.*):([^:]+)$/)){if(o=t.serializeJSON,r=o.optionKeys(n?n.typeFunctions:o.defaultOptions.defaultTypes),r.push("skip"),-1!==r.indexOf(i[2]))return[i[1],i[2]];throw new Error("serializeJSON ERROR: Invalid type "+i[2]+" found in input name '"+e+"', please use one of "+r.join(", "))}return[e,"_"]},deepSet:function(e,n,i,r){var o,s,a,l,c,u;if(null==r&&(r={}),u=t.serializeJSON,u.isUndefined(e))throw new Error("ArgumentError: param 'o' expected to be an object or array, found undefined");if(!n||0===n.length)throw new Error("ArgumentError: param 'keys' expected to be an array with least one element");o=n[0],1===n.length?""===o?e.push(i):e[o]=i:(s=n[1],""===o&&(l=e.length-1,c=e[l],o=u.isObject(c)&&(u.isUndefined(c[s])||n.length>2)?l:l+1),""===s?(u.isUndefined(e[o])||!t.isArray(e[o]))&&(e[o]=[]):r.useIntKeysAsArrayIndex&&u.isValidArrayIndex(s)?(u.isUndefined(e[o])||!t.isArray(e[o]))&&(e[o]=[]):(u.isUndefined(e[o])||!u.isObject(e[o]))&&(e[o]={}),a=n.slice(1),u.deepSet(e[o],a,i,r))},readCheckboxUncheckedValues:function(e,n,i){var r,o,s,a,l;null==i&&(i={}),l=t.serializeJSON,r="input[type=checkbox][name]:not(:checked):not([disabled])",o=n.find(r).add(n.filter(r)),o.each(function(n,r){s=t(r),a=s.attr("data-unchecked-value"),a?e.push({name:r.name,value:a}):l.isUndefined(i.checkboxUncheckedValue)||e.push({name:r.name,value:i.checkboxUncheckedValue})})}}}(window.jQuery||window.Zepto||window.$),function(){this.CP.Mn.app.module("CommentApp.List",function(t,e,n,i,r,o){return this.Form=i.ItemView.extend({events:{"click input.button":"submit","submit form":"submit"},ui:{textarea:"textarea",form:".comment-form"},initialize:function(t){return this.bindUIElements(),this.setElement(this.ui.form),this.defaultHeight=this.ui.textarea.height(),this.ui.textarea.autosize()},submit:function(t){var e;return t.preventDefault(),e=this.ui.form.serializeJSON(),ventChannel("comments",this.model).trigger("comment:new",e.comment),this.ui.textarea.val("").height(this.defaultHeight)}})})}.call(this),function(){this.CP.Mn.app.module("CommentApp.List",function(t,e,n,i,r,o){var s,a;return this.Controller={listComments:function(n){var i;return i=new e.CommentApp.CommentsLayout({model:n}),("function"==typeof a?a():void 0)&&new t.Form({el:i.el,model:n}),s(n).done(function(e){var r,o;return r=new t.Comments({collection:e}),i.getRegion("comments").show(r),e?("function"==typeof e.lastPage?e.lastPage():void 0)?void 0:(o=new t.loadMore({model:n}),i.getRegion("loadMore").show(o)):void 0})}},s=function(t){return reqresChannel("entities").request("comments",{commentable:t})},a=function(){var t;return"function"==typeof(t=reqresChannel("entities").request("current_user")).signedIn?t.signedIn():void 0}})}.call(this),function(){this.CP.Mn.app.module("CommentApp.List",function(t,e,n,i,r,o){return this.Comment=i.ItemView.extend({tagName:"li",isEditing:!1,buttonText:"Save",triggers:{"click [data-role=edit]":"comment:edit","submit form":"comment:update","click [data-role=destroy]":"comment:destroy","click [data-role=cancel]":"comment:show"},ui:{textarea:"textarea",form:"form",submitButton:"[data-role=submit]",timestamp:"time.timeago"},attributes:function(){return{"class":"comment",id:"comment_"+this.model.get("id")}},template:function(t){return t.is_editing?JST["home/marionette/templates/comments/list/edit_comment"](t):JST["home/marionette/templates/comments/list/show_comment"](t)},initialize:function(t){return this.listenTo(this.model,{"change:id":this.render}),this.listenTo(this,{"comment:edit":this.editComment,"comment:update":this.updateComment,"comment:show":this.showComment,"comment:destroy":this.destroyComment,change:this.render})},serializeData:function(){return o.extend({is_editing:this.isEditing,button_text:this.buttonText},this.model.toViewAttributes())},editComment:function(t){return this.isEditing=!0,this.$el.addClass("editing"),this.trigger("change")},showComment:function(){return this.isEditing=!1,this.$el.removeClass("editing"),this.trigger("change")},updateComment:function(){return this.commentBody()?(this.model.set("body",this.commentBody()),this.disableSubmitButton(),r.when(this.model.save()).done(function(t){return function(){return t.showComment()}}(this)).fail(function(t){return function(){return t.enableSubmitButton()}}(this))):this.showComment()},destroyComment:function(){return confirm("Are you sure?")?this.model.destroy():void 0},onDomRefresh:function(){return this.ui.timestamp.timeago(),this.isEditing?(this.ui.textarea.autosize().trigger("input"),commandsChannel("emoji").execute("setup",{scope:this.$el})):void 0},commentBody:function(){return this.ui.textarea.val()},disableSubmitButton:function(){return this.ui.submitButton.attr("disabled","disabled").val("Saving")},enableSubmitButton:function(){return this.ui.submitButton.removeAttr("disabled").val(this.buttonText)}}),this.Comments=i.CollectionView.extend({childView:t.Comment,tagName:"ul",attributes:{"class":"no-bullet"}})})}.call(this),function(){this.CP.Mn.app.module("CommentApp.List",function(t,e,n,i,r,o){return this.loadMore=i.ItemView.extend({tagName:"p",attributes:{"class":"load-more"},template:JST["home/marionette/templates/comments/list/load_more"],events:{click:"loadMoreComments"},initialize:function(){return ventChannel("comments",this.model).on({"loading:start":o.bind(this.loadingStart,this),"loading:complete":o.bind(this.loadingComplete,this),"results:end":o.bind(this.hide,this)})},loadMoreComments:function(t){return t.preventDefault(),commandsChannel("comments",this.model).execute("load:more")},loadingStart:function(){return this.$el.find("a").html("Loading...")},loadingComplete:function(){return this.$el.find("a").html("View previous comments")},hide:function(){return this.$el.hide()}})})}.call(this),function(){this.CP.Mn.app.module("HackathonPicker",function(t,e,n,i,r,o){return this.startWithParent=!1,ventChannel("hackathon_picker").on({show:function(){return t.Show.Controller.show()},showList:function(){return t.Show.Controller.showList()},showNewForm:function(){return t.Show.Controller.showNewForm()}}),this.on("start",function(t){return ventChannel("hackathon_picker").trigger("show")})})}.call(this),function(){this.CP.Mn.app.module("HackathonPicker",function(t,e,n,i,r,o){return this.Layout=n.Marionette.LayoutView.extend({el:function(){return"[data-hackathon-picker]"},regions:{yesNo:'[data-region="yes-no"]',hackathonPicker:'[data-region="hackathon-picker"]',newForm:'[data-region="new-form"]'}})})}.call(this),function(){this.CP.Mn.app.module("HackathonPicker.Show",function(t,e,n,i,r,o){return this.Choice=n.Marionette.ItemView.extend({template:JST["home/marionette/templates/hackathon_picker/choice"],triggers:{"click [data-option=yes]":"clicked:yes","click [data-option=no]":"clicked:no"}})})}.call(this),function(){this.CP.Mn.app.module("HackathonPicker.Show",function(t,e,n,i,r,o){return this.Hackathon=n.Marionette.ItemView.extend({template:JST["home/marionette/templates/hackathon_picker/hackathon"],tagName:"li",initialize:function(t){},serializeData:function(){return this.model.toJSON()}}),this.HackathonList=n.Marionette.CompositeView.extend({childView:t.Hackathon,childViewContainer:"[data-hackathon-list]",childViewOptions:function(t,e){return{model:t}},template:JST["home/marionette/templates/hackathon_picker/hackathon_list"]})})}.call(this),function(){this.CP.Mn.app.module("HackathonPicker.Show",function(t,e,n,i,r,o){var s,a,l,c;return s=new n.Model({choice:"yes"}),c=null,a=new t.Choice({model:s}),l=null,this.Controller={show:function(e){return function(){var n;return n=reqresChannel("entities").request("hackathons:search",{status:"open",per_page:40}),e.choiceView().on({"clicked:no":function(){return ventChannel("hackathon_picker").trigger("showNewForm")},"clicked:yes":function(){return ventChannel("hackathon_picker").trigger("showList")}}),n.done(function(e){return l=new t.HackathonList({collection:e}),ventChannel("hackathon_picker").trigger("showList")}),e.layout().getRegion("newForm").$el.toggle(!1),e.layout().getRegion("yesNo").show(e.choiceView())}}(this),showList:function(t){return function(){return t.renderChoice("yes"),t.layout().getRegion("hackathonPicker").show(l),t.layout().getRegion("newForm").$el.toggle(!1)}}(this),showNewForm:function(t){return function(){return t.renderChoice("no"),t.layout().getRegion("hackathonPicker").empty({preventDestroy:!0}),t.layout().getRegion("newForm").$el.toggle(!0)}}(this)},this.renderChoice=function(t){return this.choiceModel().set({choice:t}),this.choiceView().render()},this.choiceModel=function(){return s},this.choiceView=function(){return a},this.layout=function(){return c||(c=new e.HackathonPicker.Layout)}})}.call(this),function(){this.CP.Mn.app.module("SoftwareUpdateApp.List",function(t,e,n,i,r,o){var s;return this.Controller={listUpdates:function(e){var n;return n=reqresChannel("entities").request("software_updates",{data:{ids:s()}}),r.when(n).done(function(e){return e.each(function(e){return new t.Update({model:e})})}),r("[data-role='update-form']").find("textarea").autosize()}},s=function(){return r.map(r("[data-commentable-id]"),function(t){return t.getAttribute("data-commentable-id")})}})}.call(this),function(){this.CP.Mn.app.module("SoftwareUpdateApp.List",function(t,e,n,i,r,o){return this.Update=i.ItemView.extend({el:function(){return"[data-commentable-id="+this.model.get("id")+"]"},initialize:function(e){return ventChannel().trigger("comments:list",this.model),this.layout=new t.UpdateLayout({el:this.el}),this.renderActions(),ventChannel("comments",this.model).on({"comment:added":o.bind(this.fetchUpdate,this)})},fetchUpdate:function(){return this.model.fetch()},renderActions:function(){return this.layout.showChildView("actions",new t.ActionsView({model:this.model.subscription}))}}),this.UpdateLayout=i.LayoutView.extend({template:!1,regions:{actions:'[data-region="actions"]'}}),this.ActionsView=i.ItemView.extend({attributes:{"class":"update-dropdown right"},triggers:{"click [data-subscription=on]":"subscription:on","click [data-subscription=off]":"subscription:off"},template:JST["home/marionette/templates/software_updates/actions"],initialize:function(){return this.listenTo(this.model,"change:active",this.render),this.listenTo(this,{"subscription:on":this.turnOnSubscription,"subscription:off":this.turnOffSubscription})},turnOnSubscription:function(){return this.model.set("active",!0),this.model.save()},turnOffSubscription:function(){return this.model.set("active",!1),this.model.save()},serializeData:function(){return{user_signed_in:"function"==typeof e.userSignedIn?e.userSignedIn():void 0,active_subscription:this.model.get("active"),dropdown_id:"update_dropdown_"+this.model.get("software_update_id")}}})})}.call(this),function(){this.CP.Mn.app.module("SoftwareUpdateApp.Show",function(t,e,n,i,r,o){return this.Controller={showUpdate:function(t,n){var i;return i=reqresChannel("entities").request("software_update",{id:n}),r.when(i).done(function(t){return new e.SoftwareUpdateApp.List.Update({el:"[data-commentable-id='"+n+"']",model:t})})}}})}.call(this),function(){this.CP.Mn.app.module("SoftwareUpdateApp",function(t,e,n,i,r,o){var s;return s={listUpdates:function(e){return t.List.Controller.listUpdates(e)},showUpdate:function(e,n){return t.Show.Controller.showUpdate(e,n)}},ventChannel().on({"updates:list":function(t){return s.listUpdates(t)},"updates:show":function(t,e){return s.showUpdate(t,e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){return this.Comment=n.Model.extend({defaults:{id:null},toJSON:function(){return{comment:o.clone(this.attributes)}},toViewAttributes:function(){return this.toJSON().comment},parse:function(t){return t.comment||t}}),reqresChannel("entities").setHandlers({"comment:new":function(e){return new t.Comment(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){return this.CommentCollection=n.Collection.extend({url:function(){return this.commentable.url()+"/comments"},model:e.Entities.Comment,loading:!1,initialize:function(t,e){return this.commentable=e.commentable,this.commentableVentChannel=ventChannel("comments",this.commentable),this.commentableCommandsChannel=commandsChannel("comments",this.commentable),this.setupHandlers()},setupHandlers:function(){return this.commentableCommandsChannel.setHandlers({"load:more":o.bind(this.loadMore,this)}),this.commentableVentChannel.on({"loading:start":function(t){return function(){return t.loading=!0}}(this),"loading:complete":function(t){return function(){return t.loading=!1}}(this),"comment:new":o.bind(this.addComment,this)})},addComment:function(t){var e;return e=reqresChannel("entities").request("comment:new"),e.set(t),this.push(e),e.save().done(function(t){return function(){return t.commentableVentChannel.trigger("comment:added")}}(this))},comparator:function(t){return Date.parse(t.get("created_at"))},parse:function(t){return this.pagination=t.meta.pagination,t.comments},loadMore:function(){var t;return this.loading?!0:(this.commentableVentChannel.trigger("loading:start"),t=this.fetch({data:{page:this.pagination.current_page+1},remove:!1}),t.done(function(t){return function(e){return e.comments&&("function"==typeof t.lastPage?t.lastPage():void 0)?t.commentableVentChannel.trigger("results:end"):void 0}}(this)),t.always(function(t){return function(){return t.commentableVentChannel.trigger("loading:complete")}}(this)),t.promise())},lastPage:function(){return this.pagination?this.pagination.current_page===this.pagination.total_pages:!0}}),this.getCommentCollection=function(e){var n,i;return n=new t.CommentCollection([],e),i=r.Deferred(),n.fetch({reset:!0,success:function(t){return i.resolve(t)},error:function(){return i.resolve(void 0)}}),i.promise()},reqresChannel("entities").setHandlers({comments:function(e){return null==e&&(e={}),t.getCommentCollection(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){var s;return s=6,this.getEmojis=function(){return this.emojis||(this.emojis=["bowtie","smile","laughing","blush","smiley","relaxed","smirk","heart_eyes","kissing_heart","kissing_closed_eyes","flushed","relieved","satisfied","grin","wink","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","grinning","kissing","kissing_smiling_eyes","stuck_out_tongue","sleeping","worried","frowning","anguished","open_mouth","grimacing","confused","hushed","expressionless","unamused","sweat_smile","sweat","disappointed_relieved","weary","pensive","disappointed","confounded","fearful","cold_sweat","persevere","cry","sob","joy","astonished","scream","neckbeard","tired_face","angry","rage","triumph","sleepy","yum","mask","sunglasses","dizzy_face","imp","smiling_imp","neutral_face","no_mouth","innocent","alien","yellow_heart","blue_heart","purple_heart","heart","green_heart","broken_heart","heartbeat","heartpulse","two_hearts","revolving_hearts","cupid","sparkling_heart","sparkles","star","star2","dizzy","boom","collision","anger","exclamation","question","grey_exclamation","grey_question","zzz","dash","sweat_drops","notes","musical_note","fire","hankey","poop","shit","+1","thumbsup","-1","thumbsdown","ok_hand","punch","facepunch","fist","v","wave","hand","raised_hand","open_hands","point_up","point_down","point_left","point_right","raised_hands","pray","point_up_2","clap","muscle","metal","fu","runner","running","couple","family","two_men_holding_hands","two_women_holding_hands","dancer","dancers","ok_woman","no_good","information_desk_person","raising_hand","bride_with_veil","person_with_pouting_face","person_frowning","bow","couplekiss","couple_with_heart","massage","haircut","nail_care","boy","girl","woman","man","baby","older_woman","older_man","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","construction_worker","cop","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","guardsman","skull","feet","lips","kiss","droplet","ear","eyes","nose","tongue","love_letter","bust_in_silhouette","busts_in_silhouette","speech_balloon","thought_balloon","feelsgood","finnadie","goberserk","godmode","hurtrealbad","rage1","rage2","rage3","rage4","suspect","trollface","sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","crescent_moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel","bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","package","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn","house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de","one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","back","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_small_square","white_small_square","black_medium_small_square","white_medium_small_square","black_medium_square","white_medium_square","black_large_square","white_large_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit","hellyeah","storm_trooper","boba_fett","c3p0","bb8","r2d2","tie_fighter","falcon","x_wing","lightsaber_green","lightsaber_red","leia","chewbacca","anakin","dark_anakin","darth_vader","broken_darth_vader","death_star","luke_skywalker","yoda","han_solo"]);
},reqresChannel("entities").setHandlers({emojis:function(){return t.getEmojis()}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){return this.FlashMessage=n.Model.extend({defaults:{type:"notice",message:null},reset:function(){return this.set(this.defaults)},notice:function(t){return this.set({type:"notice",message:t})},alert:function(t){return this.set({type:"alert",message:t})}}),reqresChannel("entities").setHandlers({"flash_message:new":function(e){return new t.FlashMessage(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){return this.Hackathon=n.Model.extend()})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){var s;return this.HackathonCollection=n.Collection.extend({url:function(){return CP.env.routes.search_hackathons_url},parse:function(t,e){return t.hackathons},model:e.Entities.Hackathon,per_page:20,search:function(t){return this.fetch({data:o.extend({per_page:this.per_page},t),reset:!0})}}),s=null,this.searchHackathons=function(e){var n;return s||(s=new t.HackathonCollection([])),n=r.Deferred(),s.search(e).done(function(){return n.resolve(s).fail(function(){return n.resolve(void 0)})}),n.promise()},reqresChannel("entities").setHandlers({"hackathons:search":function(e){return t.searchHackathons(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){return this.Software=n.Model.extend(),reqresChannel("entities").setHandlers({"software:new":function(){return new t.Software}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){return this.SoftwareUpdate=n.Model.extend({defaults:{id:null,type:"SoftwareUpdate",subscription:{}},urlRoot:function(){return"/software_updates"},initialize:function(){return this.setSubscription(),this.listenTo(this,"change:subscription",this.setSubscription)},valid:function(){return o.isEmpty(this.get("errors"))},setSubscription:function(){var t;return this.subscription||(this.subscription=reqresChannel("entities").request("subscription:new")),t=o.extend({software_update_id:this.get("id")},this.get("subscription")),this.subscription.set(t)},parse:function(t){return t.software_update||t},toJSON:function(t){return o.extend({software_update:o.clone(this.attributes)},t)}}),this.getSoftwareUpdate=function(e){var n,i;return i=new t.SoftwareUpdate(e),n=r.Deferred(),i.fetch().done(function(){return n.resolve(i)}).fail(function(){return n.resolve(void 0)}),n.promise()},reqresChannel("entities").setHandlers({"software_update:new":function(e){return new t.SoftwareUpdate(e)},software_update:function(e){return t.getSoftwareUpdate(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){return this.SoftwareUpdateCollection=n.Collection.extend({url:"/software_updates",model:e.Entities.SoftwareUpdate,parse:function(t){return t.software_updates||t}}),this.getSoftwareUpdateCollection=function(e){var n,i;return n=new t.SoftwareUpdateCollection([],e),i=r.Deferred(),n.fetch({data:e.data,reset:!0,success:function(t){return i.resolve(t)},error:function(){return i.resolve(void 0)}}),i.promise()},reqresChannel("entities").setHandlers({software_updates:function(e){return t.getSoftwareUpdateCollection(e)}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){return this.Subscription=n.Model.extend({defaults:{id:null},urlRoot:"/software_update_subscriptions",toJSON:function(){return{software_update_subscription:o.clone(this.attributes)}},parse:function(t){return t.subscription||t}}),reqresChannel("entities").setHandlers({"subscription:new":function(){return new t.Subscription}})})}.call(this),function(){this.CP.Mn.app.module("Entities",function(t,e,n,i,r,o){var s;return s=null,this.User=n.Model.extend({defaults:{id:0,screen_name:"",display_name:"",avatar_url:""},signedIn:function(){return this.get("id")>0}}),reqresChannel("entities").setHandlers({current_user:function(){return s||(s=new t.User(e.user))}})})}.call(this),function(){var t;t=function(){function t(t){this.$navigation=$(t),this.$toggleButton=this.$navigation.find(".toggle-button"),this.$toggleButtonLink=this.$toggleButton.find("a"),this.setupToggleButton()}return t.prototype.setupToggleButton=function(){return this.$toggleButton.on("click","a",function(t){return function(e){return e.preventDefault(),t.$navigation.toggleClass("expanded"),t.toggleText(t.$toggleButtonLink,"Descend","Ascend")}}(this))},t.prototype.toggleText=function(t,e,n){return t.text()===e?t.text(n):t.text(e)},t.setup=function(t){return new this(t)},t}(),this.CP.TabbedNavigation=t}.call(this),function(t){"undefined"==typeof t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var n=t([0]),i=-1,r=this.length;++i<r&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(e){var n=t(document.createTextNode(""));e.before(n),n.before(e),n.remove()}function i(t){var e,n,i,r;if(!t||t.length<1)return t;for(e="",n=0,i=t.length;i>n;n++)r=t.charAt(n),e+=H[r]||r;return e}function r(t,e){for(var n=0,i=e.length;i>n;n+=1)if(s(t,e[n]))return n;return-1}function o(){var e=t(L);e.appendTo("body");var n={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),n}function s(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function a(e,n){var i,r,o;if(null===e||e.length<1)return[];for(i=e.split(n),r=0,o=i.length;o>r;r+=1)i[r]=t.trim(i[r]);return i}function l(t){return t.outerWidth(!1)-t.width()}function c(n){var i="keyup-change-value";n.on("keydown",function(){t.data(n,i)===e&&t.data(n,i,n.val())}),n.on("keyup",function(){var r=t.data(n,i);r!==e&&n.val()!==r&&(t.removeData(n,i),n.trigger("keyup-change"))})}function u(n){n.on("mousemove",function(n){var i=N;(i===e||i.x!==n.pageX||i.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function h(t,n,i){i=i||e;var r;return function(){var e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,e)},t)}}function d(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function p(t,e){var n=h(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){r(t.target,e.get())>=0&&n(t)})}function f(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],i=t.val().length;t.focus();var r=n.offsetWidth>0||n.offsetHeight>0;r&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function m(e){e=t(e)[0];var n=0,i=0;if("selectionStart"in e)n=e.selectionStart,i=e.selectionEnd-n;else if("selection"in document){e.focus();var r=document.selection.createRange();i=document.selection.createRange().text.length,r.moveStart("character",-e.value.length),n=r.text.length-i}return{offset:n,length:i}}function g(t){t.preventDefault(),t.stopPropagation()}function v(t){t.preventDefault(),t.stopImmediatePropagation()}function b(e){if(!j){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);j=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),j.attr("class","select2-sizer"),t("body").append(j)}return j.text(e.val()),j.width()}function y(e,n,i){var r,o,s=[];r=e.attr("class"),r&&(r=""+r,t(r.split(" ")).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),r=n.attr("class"),r&&(r=""+r,t(r.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&s.push(o))})),e.attr("class",s.join(" "))}function w(t,e,n,r){var o=i(t.toUpperCase()).indexOf(i(e.toUpperCase())),s=e.length;return 0>o?void n.push(r(t)):(n.push(r(t.substring(0,o))),n.push("<span class='select2-match'>"),n.push(r(t.substring(o,o+s))),n.push("</span>"),void n.push(r(t.substring(o+s,t.length))))}function _(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function S(n){var i,r=null,o=n.quietMillis||100,s=n.url,a=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,o=s,c=n.transport||t.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||e,dataType:n.dataType||"json"},h=t.extend({},t.fn.select2.ajaxDefaults.params,u);i=i?i.call(a,l.term,l.page,l.context):null,o="function"==typeof o?o.call(a,l.term,l.page,l.context):o,r&&"function"==typeof r.abort&&r.abort(),n.params&&(t.isFunction(n.params)?t.extend(h,n.params.call(a)):t.extend(h,n.params)),t.extend(h,{url:o,dataType:n.dataType,data:i,success:function(t){var e=n.results(t,l.page);l.callback(e)}}),r=c.call(a,h)},o)}}function x(e){var n,i,r=e,o=function(t){return""+t.text};t.isArray(r)&&(i=r,r={results:i}),t.isFunction(r)===!1&&(i=r,r=function(){return i});var s=r();return s.text&&(o=s.text,t.isFunction(o)||(n=s.text,o=function(t){return t[n]})),function(e){var n,i=e.term,s={results:[]};return""===i?void e.callback(r()):(n=function(r,s){var a,l;if(r=r[0],r.children){a={};for(l in r)r.hasOwnProperty(l)&&(a[l]=r[l]);a.children=[],t(r.children).each2(function(t,e){n(e,a.children)}),(a.children.length||e.matcher(i,o(a),r))&&s.push(a)}else e.matcher(i,o(r),r)&&s.push(r)},t(r().results).each2(function(t,e){n(e,s.results)}),void e.callback(s))}}function k(n){var i=t.isFunction(n);return function(r){var o=r.term,s={results:[]};t(i?n():n).each(function(){var t=this.text!==e,n=t?this.text:this;(""===o||r.matcher(o,n))&&s.results.push(t?this:{id:this,text:this})}),r.callback(s)}}function C(e,n){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(n+" must be a string, function, or falsy value")}function $(e){if(t.isFunction(e)){var n=Array.prototype.slice.call(arguments,1);return e.apply(null,n)}return e}function T(e){var n=0;return t.each(e,function(t,e){e.children?n+=T(e.children):n++}),n}function E(t,n,i,r){var o,a,l,c,u,h=t,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return e;for(;;){for(a=-1,l=0,c=r.tokenSeparators.length;c>l&&(u=r.tokenSeparators[l],a=t.indexOf(u),!(a>=0));l++);if(0>a)break;if(o=t.substring(0,a),t=t.substring(a+u.length),o.length>0&&(o=r.createSearchChoice.call(this,o,n),o!==e&&null!==o&&r.id(o)!==e&&null!==r.id(o))){for(d=!1,l=0,c=n.length;c>l;l++)if(s(r.id(o),r.id(n[l]))){d=!0;break}d||i(o)}}return h!==t?t:void 0}function P(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}if(window.Select2===e){var I,O,A,R,V,j,M,D,N={x:0,y:0},I={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case I.LEFT:case I.RIGHT:case I.UP:case I.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case I.SHIFT:case I.CTRL:case I.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},L="<div class='select2-measure-scrollbar'></div>",H={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};M=t(document),V=function(){var t=1;return function(){return t++}}(),M.on("mousemove",function(t){N.x=t.pageX,N.y=t.pageY}),O=P(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var i,r,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+V()).replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.containerSelector="#"+this.containerId,this.container.attr("id",this.containerId),this.body=d(function(){return n.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css($(n.containerCss)),this.container.addClass($(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass($(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=i=this.container.find(s),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),u(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",s,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchend",s,this.bind(this.selectHighlighted)),this.dropdown.on("touchmove",s,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",s,this.bind(this.clearTouchMoved)),p(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&i.mousewheel(function(t,e,n,r){var o=i.scrollTop();r>0&&0>=o-r?(i.scrollTop(0),g(t)):0>r&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(t))}),c(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown focusin",function(t){t.stopPropagation()}),this.nextSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===e&&(a=!1),this.enable(!a);var l=n.element.prop("readonly");l===e&&(l=!1),this.readonly(l),D=D||o(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,n=t.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==e&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:s(t.attr("locked"),"locked")||s(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(n){var i,r,o,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,r,o){var s,a=this.opts.id,l=this.liveRegion;(s=function(i,r,u){var h,d,p,f,m,g,v,b,y,w;for(i=n.sortResults(i,r,o),h=0,d=i.length;d>h;h+=1)p=i[h],m=p.disabled===!0,f=!m&&a(p)!==e,g=p.children&&p.children.length>0,v=t("<li></li>"),v.addClass("select2-results-dept-"+u),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(p)),v.attr("role","presentation"),b=t(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+V()),b.attr("role","option"),w=n.formatResult(p,b,o,c.opts.escapeMarkup),w!==e&&(b.html(w),v.append(b)),g&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),s(p.children,y,u+1),v.append(y)),v.data("select2-data",p),r.append(v);l.text(n.formatMatches(i.length))})(r,i,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(o=n.id,n.id=function(t){return t[o]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(r?(n.query=this.bind(function(t){var n,r,o,s={results:[],more:!1},a=t.term;o=function(e,n){var i;e.is("option")?t.matcher(a,e.text(),e)&&n.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(t,e){o(e,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==e&&n.length>0&&(r=this.getPlaceholderOption(),r&&(n=n.not(r))),n.each2(function(t,e){o(e,s.results)}),t.callback(s)}),n.id=function(t){return t.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=S.call(n.element,n.ajax)):"data"in n?n.query=x(n.data):"tags"in n&&(n.query=k(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),n.initSelection===e&&(n.initSelection=function(e,i){var r=[];t(a(e.val(),n.separator)).each(function(){var e={id:this,text:this},i=n.tags;t.isFunction(i)&&(i=i()),t(i).each(function(){return s(this.id,e.id)?(e=this,!1):void 0}),r.push(e)}),i(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var t,n,i=this.opts.element;i.on("change.select2",this.bind(function(t){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t=i.prop("disabled");t===e&&(t=!1),this.enable(!t);var n=i.prop("readonly");n===e&&(n=!1),this.readonly(n),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass($(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass($(this.opts.dropdownCssClass))}),i.on("propertychange.select2",t),this.mutationCallback===e&&(this.mutationCallback=function(e){e.forEach(t)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var n=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,i,r,o,s=this.dropdown,a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),h=t(window),d=h.width(),p=h.height(),f=h.scrollLeft()+d,m=h.scrollTop()+p,g=a.top+l,v=a.left,b=m>=g+u,y=a.top-u>=h.scrollTop(),w=s.outerWidth(!1),_=f>=v+w,S=s.hasClass("select2-drop-above");S?(n=!0,!y&&b&&(i=!0,n=!1)):(n=!1,!b&&y&&(i=!0,n=!0)),i&&(s.hide(),a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),f=h.scrollLeft()+d,m=h.scrollTop()+p,g=a.top+l,v=a.left,w=s.outerWidth(!1),_=f>=v+w,s.show()),this.opts.dropdownAutoWidth?(o=t(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),w=s.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:D.width),w>c?c=w:w=c,_=f>=v+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(e=this.body().offset(),g-=e.top,v-=e.left),_||(v=a.left+this.container.outerWidth(!1)-w),r={left:v,width:c},n?(r.top=a.top-u,r.bottom="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(r.top=g,r.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),r=t.extend(r,$(this.opts.dropdownCss)),s.css(r)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){
var e,i=this.containerId,r="scroll."+i,o="resize."+i,s="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),e=t("#select2-drop-mask"),0==e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body()),e.on("mousedown touchstart click",function(i){n(e);var r,o=t("#select2-drop");o.length>0&&(r=o.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){t(this).on(o+" "+r+" "+s,function(t){a.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerId,n="scroll."+e,i="resize."+e,r="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(n).off(i).off(r)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return $(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,n,i,r,o,s,a,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void l.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),i=t(e[n]),r=i.offset().top+i.outerHeight(!0),n===e.length-1&&(a=l.find("li.select2-more-results"),a.length>0&&(r=a.offset().top+a.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),r>o&&l.scrollTop(l.scrollTop()+(r-o)),s=i.offset().top-l.offset().top,0>s&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=e;var r=t(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var n,i,o=this.findHighlightableChoices();return 0===arguments.length?r(o.filter(".select2-highlighted")[0],o.get()):(e>=o.length&&(e=o.length-1),0>e&&(e=0),this.removeHighlight(),n=t(o[e]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),i=n.data("select2-data"),void(i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,r=this,o=this.search.val(),s=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:s,matcher:this.opts.matcher,callback:this.bind(function(t){r.opened()&&(r.opts.populateResults.call(this,e,t.results,{term:o,page:i,context:s}),r.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).text($(r.opts.formatLoadMore,i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),d.positionDropdown(),u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(u.text()):d.liveRegion.text(d.opts.formatMatches(u.find(".select2-result-selectable").length))}function r(t){u.html(t),i()}var o,a,l,c=this.search,u=this.results,h=this.opts,d=this,p=c.val(),f=t.data(this.container,"select2-last-term");if((n===!0||!f||!s(p,f))&&(t.data(this.container,"select2-last-term",p),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(o=this.data(),t.isArray(o)&&o.length>=m&&C(h.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+$(h.formatSelectionTooBig,m)+"</li>");if(c.val().length<h.minimumInputLength)return r(C(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+$(h.formatInputTooShort,c.val(),h.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(h.maximumInputLength&&c.val().length>h.maximumInputLength)return void r(C(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+$(h.formatInputTooLong,c.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+$(h.formatSearching)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=e&&null!=a&&c.val(a),this.resultsPage=1,h.query({element:h.element,term:c.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(o){var a;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=o.context===e?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(d,c.val(),o.results),a!==e&&null!==a&&d.id(a)!==e&&null!==d.id(a)&&0===t(o.results).filter(function(){return s(d.id(this),d.id(a))}).length&&this.opts.createSearchChoicePosition(o.results,a)),0===o.results.length&&C(h.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+$(h.formatNoMatches,c.val())+"</li>");u.empty(),d.opts.populateResults.call(this,u,o.results,{term:c.val(),page:this.resultsPage,context:null}),o.more===!0&&C(h.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+d.opts.escapeMarkup($(h.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),i(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){f(this.search)},selectHighlighted:function(t){if(this._touchMoved)return void this.clearTouchMoved();var e=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){function n(){var n,i,r,o,s,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(i=n.split(";"),o=0,s=i.length;s>o;o+=1)if(a=i[o].replace(/\s/g,""),r=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),A=P(O,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(r=this.search.val().length,n.setSelectionRange(r,r)),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,i,r=this.container,o=this.dropdown,s=V();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+s),this.focusser.attr("aria-labelledby","select2-chosen-"+s),this.results.attr("id","select2-results-"+s),this.search.attr("aria-owns","select2-results-"+s),this.focusser.attr("id","s2id_autogen"+s),i=t("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===I.PAGE_UP||t.which===I.PAGE_DOWN)return void g(t);switch(t.which){case I.UP:case I.DOWN:return this.moveHighlight(t.which===I.UP?-1:1),void g(t);case I.ENTER:return this.selectHighlighted(),void g(t);case I.TAB:return void this.selectHighlighted({noFocus:!0});case I.ESC:return this.cancel(t),void g(t)}}})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==I.TAB&&!I.isControl(t)&&!I.isFunctionKey(t)&&t.which!==I.ESC){if(this.opts.openOnEnter===!1&&t.which===I.ENTER)return void g(t);if(t.which==I.DOWN||t.which==I.UP||t.which==I.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void g(t)}return t.which==I.DELETE||t.which==I.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(t)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),v(t),this.close(),this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(i){n(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(i)})),o.on("mousedown touchstart",this.bind(function(){this.search.focus()})),e.on("focus",this.bind(function(t){g(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var n=this.selection.data("select2-data");if(n){var i=t.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(n,t.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()?(t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val():!1},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=t.find("option").filter(function(){return this.selected&&!this.disabled});e(n.optionToData(i))}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var r=n.val(),o=null;e.query({matcher:function(t,n,i){var a=s(r,e.id(i));return a&&(o=i),a},callback:t.isFunction(i)?function(){i(o)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,n){var i=0,r=this;if(this.findHighlightableChoices().each2(function(t,e){return s(r.id(e.data("select2-data")),r.opts.element.val())?(i=t,!1):void 0}),n!==!1&&(e===!0&&i>=0?this.highlight(i):this.highlight(0)),e===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(T(t.results)>=o)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),s(n,this.id(t))||this.triggerChange({added:t,removed:i})}},updateSelection:function(t){var n,i,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),r.empty(),null!==t&&(n=this.opts.formatSelection(t,r,this.opts.escapeMarkup)),n!==e&&r.append(n),i=this.opts.formatSelectionCssClass(t,r),i!==e&&r.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,n=!1,i=null,r=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return i=r.optionToData(e),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(!t&&0!==t)return void this.clear(n);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){r.opts.element.val(t?r.id(t):""),r.updateSelection(t),r.setPlaceholder(),n&&r.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(arguments.length>1&&(i=arguments[1]),void(t?(n=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),i&&this.triggerChange({added:t,removed:n})):this.clear(i)))}}),R=P(O,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){i.push(n.optionToData(e))}),e(i)}:"data"in e&&(e.initSelection=e.initSelection||function(n,i){var r=a(n.val(),e.separator),o=[];e.query({matcher:function(n,i,a){var l=t.grep(r,function(t){return s(t,e.id(a))}).length;return l&&o.push(a),l},callback:t.isFunction(i)?function(){for(var t=[],n=0;n<r.length;n++)for(var a=r[n],l=0;l<o.length;l++){var c=o[l];if(s(a,e.id(c))){t.push(c),o.splice(l,1);break}}i(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(e){i.search[0].focus(),i.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+V()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var n=e.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),r=n.next(".select2-search-choice:not(.select2-locked)"),o=m(this.search);if(n.length&&(t.which==I.LEFT||t.which==I.RIGHT||t.which==I.BACKSPACE||t.which==I.DELETE||t.which==I.ENTER)){var s=n;return t.which==I.LEFT&&i.length?s=i:t.which==I.RIGHT?s=r.length?r:null:t.which===I.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),s=i.length?i:r):t.which==I.DELETE?this.unselect(n.first())&&(this.search.width(10),s=r.length?r:null):t.which==I.ENTER&&(s=null),this.selectChoice(s),g(t),void(s&&s.length||this.open())}if((t.which===I.BACKSPACE&&1==this.keydowns||t.which==I.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void g(t);if(this.selectChoice(null),this.opened())switch(t.which){case I.UP:case I.DOWN:return this.moveHighlight(t.which===I.UP?-1:1),void g(t);case I.ENTER:return this.selectHighlighted(),void g(t);case I.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case I.ESC:return this.cancel(t),void g(t)}if(t.which!==I.TAB&&!I.isControl(t)&&!I.isFunctionKey(t)&&t.which!==I.BACKSPACE&&t.which!==I.ESC){if(t.which===I.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===I.PAGE_UP||t.which===I.PAGE_DOWN)&&g(t),t.which===I.ENTER&&g(t)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),n=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var n=[],i=[],o=this;t(e).each(function(){r(o.id(this),n)<0&&(n.push(o.id(this)),i.push(this))}),e=i,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,n){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r,o=!n.locked,s=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?s:a,c=this.id(n),u=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=e&&l.find("div").replaceWith("<div>"+i+"</div>"),r=this.opts.formatSelectionCssClass(n,l.find("div")),r!=e&&l.addClass(r),o&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(e){var n,i,o=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(n=e.data("select2-data")){var s=t.Event("select2-removing");if(s.val=this.id(n),s.choice=n,this.opts.element.trigger(s),s.isDefaultPrevented())return!1;for(;(i=r(this.id(n),o))>=0;)o.splice(i,1),this.setVal(o),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(t,e,n){var i=this.getVal(),o=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),a=this;o.each2(function(t,e){var n=a.id(e.data("select2-data"));r(n,i)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&C(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+$(a.opts.formatNoMatches,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var t,e,n,i,r,o=l(this.search);t=b(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(e-i)-o,t>r&&(r=n-o),40>r&&(r=n-o),0>=r&&(r=t),this.search.width(Math.floor(r))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),a(t,this.opts.separator))},setVal:function(e){var n;this.select?this.select.val(e):(n=[],t(e).each(function(){r(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),n=0;n<e.length;n++)for(var i=0;i<t.length;i++)s(this.opts.id(e[n]),this.opts.id(t[i]))&&(e.splice(n,1),n>0&&n--,t.splice(i,1),i--);return{added:e,removed:t}},val:function(n,i){var r,o=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t.map(e,o.id);o.setVal(n),o.updateSelection(e),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(r,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,n){var i,r,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(r=this.data(),e||(e=[]),i=t.map(e,function(t){return o.opts.id(t)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data())),void 0)}}),t.fn.select2=function(){var n,i,o,s,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],h=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:t.extend({},l[0]),n.element=t(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),i=a?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(r(l[0],c)<0)throw"Unknown method: "+l[0];
if(s=e,i=t(this).data("select2"),i===e)return;if(o=l[0],"container"===o?s=i.container:"dropdown"===o?s=i.dropdown:(d[o]&&(o=d[o]),s=i[o].apply(i,l.slice(1))),r(l[0],u)>=0||r(l[0],h)&&1==l.length)return!1}}),s===e?this:s},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var r=[];return w(t.text,n.term,r,i),r.join("")},formatSelection:function(t,n,i){return t?i(t.text):e},sortResults:function(t,e,n){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(t,n){return e},formatMatches:function(t){return t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},matcher:function(t,e){return i(""+e).toUpperCase().indexOf(i(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:E,escapeMarkup:_,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null},nextSearchTerm:function(t,n){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return t.opts.minimumResultsForSearch<0?!1:!0}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:S,local:x,tags:k},util:{debounce:h,markMatch:w,escapeMarkup:_,stripDiacritics:i},"class":{"abstract":O,single:A,multi:R}}}}(jQuery),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].slice;t=function(){function t(t,n,i){this.$select=t,this.tagsPath=n,this.softwarePath=i,this.redirectToTagName=e(this.redirectToTagName,this),this.changed=e(this.changed,this),this.tagSearchAjaxSettings=e(this.tagSearchAjaxSettings,this),this.setupBindings=e(this.setupBindings,this)}return t.prototype.location=window.location,t.prototype.multiple=!0,t.prototype.setup=function(){return this.setupSearchBox(),this.setupBindings()},t.prototype.setupBindings=function(){return this.$select.on("change",this.changed)},t.prototype.setupSearchBox=function(){return this.$select.select2(this.options())},t.prototype.options=function(){return $.extend(this.baseOptions(),this.additionalOptions())},t.prototype.additionalOptions=function(){return{}},t.prototype.baseOptions=function(){return{multiple:this.multiple,maximumSelectionSize:1,ajax:this.tagSearchAjaxSettings(),formatSelection:this.formatSelection,formatResult:this.formatResult,id:this.id}},t.prototype.tagSearchAjaxSettings=function(){return{url:this.tagsPath,cache:!0,quietMillis:100,data:this.formatData,results:this.formatResults}},t.prototype.formatSelection=function(t){return this.escapeMarkup(t.name)},t.prototype.formatResult=function(t){return $("<div/>").text(t.name)},t.prototype.id=function(t){return t.slug},t.prototype.formatData=function(t,e){return{tag:t,page:e}},t.prototype.formatResults=function(t){return{results:t.tags,more:t.more}},t.prototype.changed=function(t){return this.trackAndRedirect(t.val[0])},t.prototype.trackAndRedirect=function(t){return this.tagName=t,window.mixpanel.track("Specific Tag Search",{"Tag Name":this.tagName},this.redirectToTagName)},t.prototype.redirectToTagName=function(){return this.location.assign(""+this.softwarePath+this.tagName)},t.setup=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,t,function(){}).setup()},t}(),this.CP.TagSearch=t}.call(this),function(){var t;t=function(){function t(t,e){this.$select=t,this.tagsPath=e}return t.prototype.setup=function(){return this.$select.select2({multiple:!0,minimumInputLength:1,tokenSeparators:[","," "],ajax:{url:this.tagsPath,cache:!0,quietMillis:100,data:function(t,e){return{tag:t,page:e,original:!0}},results:function(t){return{results:t.tags,more:t.more}}},createSearchChoice:this.createSearchChoice,initSelection:this.initSelection,formatSelection:function(t){var e;return e=this.escapeMarkup(t.name),'<span class="label">'+e+"</span>"},formatResult:function(t){return $("<div/>").text(t.name)},id:function(t){return t.name}}),this.$select.closest("form").find("input[type='reset']").on("click",function(t){return function(){return t.$select.select2("val","")}}(this))},t.prototype.createSearchChoice=function(t,e){return 0===$(e).filter(function(){return 0===this.name.localeCompare(t)}).length?{name:t}:void 0},t.prototype.initSelection=function(t,e){var n,i;return n=t.val(),"[]"===n?t.val(""):(i=n.split(/,/),e($.map(i,function(t){return t=$.trim(t),{name:t}})))},t.setup=function(t,e){return new this(t,e).setup()},t}(),this.CP.TagTextField=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t,n){this.$list=t,this.postUrl=n,this.update=e(this.update,this),this.setupSortable=e(this.setupSortable,this),this.setup=e(this.setup,this)}return t.prototype.setup=function(){return this.setupSortable(),this},t.prototype.setupSortable=function(){return this.$list.sortable({items:"li",update:this.update})},t.prototype.update=function(t,e){var n;return n=this.$list.sortable("serialize",{attribute:"data-id"}),$.ajax({url:this.postUrl,data:n,type:"post"})},t.setup=function(t,e){return new this(t,e).setup()},t}(),CP.SortableSorter=t}.call(this),function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(){function t(t){$(t).each(function(){return new CP.Home.EditableContributionView({el:this})})}return t}(),e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.events={'click [data-contribution="edit"]':"edit",'submit [data-contribution="form"]':"save",'click [data-contribution="cancel"]':"cancel"},e.prototype.initialize=function(t){return null==t&&(t={}),this.setupVariables(),this.cacheContribution(),this.listenTo(this,"show",this.showView),this.listenTo(this,"edit",this.editView),this.listenTo(this,"update",this.update)},e.prototype.setupVariables=function(){return this.$contribution=this.$el.find('[data-contribution="contribution"]'),this.$edit=this.$el.find('[data-contribution="edit"]'),this.$form=this.$el.find('[data-contribution="form"]'),this.$saveButton=this.$form.find("input:submit"),this.$textarea=this.$form.find("textarea"),this.$cancel=this.$form.find('[data-contribution="cancel"]')},e.prototype.edit=function(t){return t.preventDefault(),this.trigger("edit")},e.prototype.save=function(t){var e;return t.preventDefault(),this.trigger("update",this.formattedTextareaValue(),!1),this.cacheContribution(),this.disableButton(),e=$.ajax({url:this.$form.attr("action"),data:this.$form.serialize(),type:"POST",dataType:"json"}),e.then(_.bind(this.onSuccessfulUpdate,this)),e.always(_.bind(this.enableButton,this)),e.fail(function(t){return function(){return t.trigger("edit")}}(this))},e.prototype.onSuccessfulUpdate=function(t){return this.trigger("update",t.software_member.contribution,!0),null!=t.event?mixpanel.track(t.event.title,t.event.properties):void 0},e.prototype.cancel=function(t){return t.preventDefault(),("function"==typeof this.noContribution?this.noContribution():void 0)?(this.$textarea.val(""),this.$textarea.blur()):this.trigger("show")},e.prototype.update=function(t,e){return null==e&&(e=!1),t=$.trim(t),this.$contribution.html(""),t&&"<p></p>"!==t?(e?this.$contribution.html(t):this.$contribution.text(t),this.trigger("show")):this.$textarea.blur()},e.prototype.showView=function(){return("function"==typeof this.noContribution?this.noContribution():void 0)?!1:(this.$form.hide(),this.$contribution.show(),this.$edit.show())},e.prototype.editView=function(){return this.$edit.hide(),this.$contribution.hide(),this.restoreCachedContribution(),this.$form.show()},e.prototype.restoreCachedContribution=function(){return this.$textarea.val(this.$contribution.data("contribution"))},e.prototype.cacheContribution=function(){return this.$contribution.data("contribution",this.$textarea.val())},e.prototype.noContribution=function(){return!this.$contribution.html()},e.prototype.formattedTextareaValue=function(){return"<p>"+this.$textarea.val().replace(/\r?\n/g,"<br />")+"</p>"},e.prototype.disableButton=function(){return this.$saveButton.attr("disabled","disabled")},e.prototype.enableButton=function(){return this.$saveButton.removeAttr("disabled")},e}(Backbone.View),this.CP.Home.EditableContribution=t,this.CP.Home.EditableContributionView=e}.call(this),function(){var t;t=function(){function t(t){this.software_ids=t,this.awardFeaturedRibbons()}return t.prototype.awardFeaturedRibbons=function(){var t;return t=$.each(this.software_ids,function(t){return function(e,n){var i;return i=$("#software_"+n+", #submission_"+n),i.length?t.awardFeaturedRibbon(i):void 0}}(this))},t.prototype.awardFeaturedRibbon=function(t){return t.find(".entry-badge").append(this.featuredRibbon(t))},t.prototype.featuredRibbon=function(t){return $("<img>").attr({src:this.ribbonImg(t),alt:"Featured"})},t.prototype.ribbonImg=function(t){var e;return e="featured-ribbon",this.isWinner(t)||(e+="-small"),"/assets/shared/software/"+e+".png"},t.prototype.isWinner=function(t){return!!t.find(".entry-badge .winner").length},t.setup=function(e){return new t(e)},t}(),this.CP.Home.FeaturedSoftware=t}.call(this),function(){var t,e;this.CP.Home.SoftwareSearch={},e=this.CP.Home.SoftwareSearch,t=function(){function t(){_.extend(this,Backbone.Events)}return t.prototype.start=function(t){return this.userSignedIn=t,new e.SearchAppView},t.prototype.controller={help:function(){return this.helpbox||(this.helpbox=new e.SearchHelpboxView),this.helpbox.render()}},t}(),e.app=new t}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.ResultViewMixin={tagName:"li",onSelectEvent:null,events:{click:"onClick"},open:function(){return setTimeout(function(t){return function(){return t.openWithoutDelay()}}(this),200),this.triggerSelectEvent(),!0},openWithoutDelay:function(){return window.location=this.url()},render:function(){return this.$el.html(this.template(this.toJSON())),this},triggerSelectEvent:function(){return this.onSelectEvent?this.collection.trigger("select:"+this.onSelectEvent,this.selectOptions()):void 0},toJSON:function(){return this.model.toJSON()},select:function(){return this.$el.addClass("selected")},unselect:function(){return this.$el.removeClass("selected")},selectOptions:function(){return{}}}}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.ResultsViewMixin={views:[],selectedView:null,selectedIndex:null,lastQuery:null,titleTemplate:JST["home/templates/software/search/results_title"],render:function(){return this.resetCollection(),this.results.isEmpty()?this.noResultsTemplate&&this.$el.append(this.noResultsTemplate):(this.renderTitle(),this.results.each(_.bind(this.renderResult,this))),this.trigger("render:done"),this.trigger("resize"),this},renderResult:function(t){var e;return e=new this.resultView({model:t,collection:this}),this.views.push(e),this.$el.append(e.render().el)},select:function(){return this.selectedView.open()},reset:function(){return this.resetCollection(),this.results.reset(void 0,{silent:!0}),this.lastQuery=null,this.trigger("resize")},resetCollection:function(){return this.resetSelection(),this.$el.empty(),this.views=[]},resetSelection:function(t){return null==t&&(t={}),this.selectedView&&(this.selectedView.unselect(),this.selectedView=null,t.silent||this.trigger("select:reset",this)),this.selectedIndex=null,!0},selectViewAt:function(t){return this.selectedView&&this.selectedView.unselect(),this.selectedIndex=t,this.selectedView=this.views[this.selectedIndex],this.selectedView.select(),this.trigger("select:change",this,this.selectedView.selectOptions())},next:function(){return this.move(1)},prev:function(){return this.move(-1)},move:function(t){if(!this.results.isEmpty()){if("function"==typeof this.emptySelection?this.emptySelection():void 0){switch(t){case 1:this.selectFirstResult();break;case-1:this.selectLastResult()}return!0}return this.selectedIndex+=t,("function"==typeof this.indexOutOfBounds?this.indexOutOfBounds():void 0)?this.resetSelection({silent:!0}):this.selectViewAt(this.selectedIndex),!("function"==typeof this.emptySelection?this.emptySelection():void 0)}},emptySelection:function(){return null===this.selectedView},indexOutOfBounds:function(){return this.selectedIndex<0||this.selectedIndex>this.viewCount()-1},selectFirstResult:function(){return this.selectViewAt(0)},selectLastResult:function(){return this.selectViewAt(this.viewCount()-1)},requestStart:function(){return this.trigger("fetch:start")},fetchResults:function(t){return this.abortPreviousRequest(),this.request=this.results.fetch(_.extend(this.fetchCallbacks(t),this.fetchOptions(t)))},fetchCallbacks:function(t){return{complete:function(e){return function(){return e.trigger("fetch:complete",t)}}(this),success:function(e){return function(){return e.trigger("fetch:success",t)}}(this),error:function(e){return function(){return e.trigger("fetch:error",t)}}(this)}},abortPreviousRequest:function(){return this.request&&_.contains([1,2,3],this.request.readyState)?this.request.abort():void 0},cacheLastQuery:function(t){return t=$.trim(t),this.lastQuery===t?!1:(this.lastQuery=t,!0)},callToActionText:function(){return this.selectedView.callToActionText},renderTitle:function(){return this.$el.html(this.titleTemplate({title:this.title}))},resultCount:function(){return this.results.length},viewCount:function(){return this.views.length},height:function(){return this.$el.outerHeight()},observes:function(t,e){return _.each(e,function(e){return function(n,i){return e.listenTo(t,i,n)}}(this))}}}.call(this),function(){var t,e;t=this.CP.Home.SoftwareSearch,t.SearchInputView=Backbone.View.extend({el:"[data-cp-search=query]",operators:{tag:"#",user:"@",is:"is:",has:"has:"},events:{keydown:"navigate",keyup:"onChange",focus:"onFocus",blur:"onBlur",click:"onChange"},initialize:function(){return this.placeholderText="Search projects by keyword, #tag, @username, and more...",this.writeSlowly(this.placeholderText.length-1),this.$form=this.$el.closest("form"),this.createOperatorTags(),this.valueChanged()},onChange:function(t){return("function"==typeof this.isNavigatingDropdown?this.isNavigatingDropdown(t):void 0)||("function"==typeof this.escapeKeyPressed?this.escapeKeyPressed(t):void 0)||("function"==typeof this.enterKeyPressed?this.enterKeyPressed(t):void 0)?void 0:(this.triggerChange(),this.trackQuery())},triggerChange:function(){return this.cacheCurrentValue(),this.trigger("change",this.changeEventOptions())},changeEventOptions:function(){return{data:this.serializedData(),currentWord:this.currentWord()}},onFocus:function(t){return this.blurTimeout&&clearTimeout(this.blurTimeout),this.trigger("focus",this.changeEventOptions())},onBlur:function(){return this.blurTimeout=setTimeout(function(t){return function(){return document.hasFocus()?t.trigger("blur",{data:t.serializedData()}):void 0}}(this),200)},onSelectionChange:function(t,e){return e.query?this.setTemporaryVal(e.query+" "):this.restoreCachedVal()},onSelectionReset:function(){return this.restoreCachedVal()},setTemporaryVal:function(t){return void 0===this.cachedVal()&&this.cacheCurrentValue(),this.val(t)},restoreCachedVal:function(){return this.val()!==this.cachedVal()?this.val(this.cachedVal()):void 0},cachedVal:function(){return this.$el.data("val")},cacheCurrentValue:function(){return this.$el.data("val",this.val())},focus:function(){return this.$el.focus()},submit:function(t){return t.preventDefault(),this.trigger("select"),this.focus()},navigate:function(t){switch((("function"==typeof this.isNavigatingDropdown?this.isNavigatingDropdown(t):void 0)||("function"==typeof this.escapeKeyPressed?this.escapeKeyPressed(t):void 0))&&t.preventDefault(),t.which){case e.UP:return this.trigger("prev");case e.DOWN:return this.trigger("next");case e.ESC:return this.trigger("escape",_.bind(this.$el.blur,this.$el));case e.ENTER:return this.submit(t)}},serializedData:function(){var t;return t={query:this.query(),order_by:this.$form.find("#cp-search-order").val(),tag_id:this.$form.find("#cp-search-tag").val()},_(t).reduce(function(t,e,n){return e&&(t[n]=e),t},{})},trackQuery:function(){return this.trackQueryTimeout&&clearTimeout(this.trackQueryTimeout),this.trackQueryTimeout=setTimeout(function(t){return function(){return t.trigger("track:query",{query:t.query()})}}(this),1e3)},currentWord:function(){var t,e,n,i;return i=this.val(),e=this.cursorPosition(),t=i.slice(0,e).search(/\S+$/),0>t?"":(n=i.slice(e).search(/\s/),0>n?i.slice(t):i.slice(t,e+n))},cursorPosition:function(){return this.$el[0].selectionEnd},createOperatorTags:function(){var e,n;return n=new t.OperatorTagsView({$input:this.$el}),e={change:n.render,valueChange:n.render,focus:n.render,blur:n.render},_.each(e,function(t){return function(e,i){return n.listenTo(t,i,e)}}(this))},writeSlowly:function(t){var e;return 0>=t?this.$el.attr("placeholder",this.placeholderText):(e=function(){switch(t){case 29:case 12:return 150;default:return 20}}(),setTimeout(function(e){return function(){return e.$el.attr("placeholder",e.placeholderText.slice(0,-t)+"|"),e.writeSlowly(t-1)}}(this),e))},isNavigatingDropdown:function(t){return-1!==$.inArray(t.which,[e.UP,e.DOWN])},escapeKeyPressed:function(t){return t.which===e.ESC},sKeyPressed:function(t){return t.which===e.S_KEY},enterKeyPressed:function(t){return t.which===e.ENTER},update:function(t){return this.restoreCachedVal(),t?(this.val($.trim(this.val()+" "+t.get("query"))),this.triggerChange()):void 0},valueChanged:function(){return this.trigger("valueChange",this.changeEventOptions())},val:function(t){return null==t&&(t=null),null!=t?(this.$el.val(t),this.valueChanged()):this.$el.val()},query:function(){return this.val()}}),e={ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,CTRL:17,CMD:91,OPT:18,S_KEY:83}}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.OperatorTagsView=Backbone.View.extend({el:"[data-cp-search='operator-tags']",val:null,currentWord:null,operatorsClasses:{"@":"at-operator","#":"hashtag-operator","tag:":"hashtag-operator","has:":"has-operator","is:":"is-operator"},entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},initialize:function(t){return this.$content=this.$el.find("#operator-tags-content"),this.$input=t.$input,this.updateMaxWidth(),$(window).on("resize",_.bind(this.onResize,this))},render:function(t){var e,n,i;return n=[t.data.query,t.currentWord],i=n[0],e=n[1],i?(this.valChanged=this.cacheVal(i),this.currentWordChanged=this.cacheCurrentWord(e),!this.valChanged&&this.currentWordChanged?this.renderCurrentWord():this.renderHtml(this.queryWithTags(this.escapeHtml(i)))):this.reset()},escapeHtml:function(t){return String(t).replace(/[&<>"'\/]/g,function(t){return function(e){return t.entityMap[e]}}(this))},renderCurrentWord:function(){return this.$content.find(".current").removeClass("current"),("function"==typeof this.currentWordIsOperator?this.currentWordIsOperator():void 0)?this.highlightCurrentOperator():void 0},queryWithTags:function(t){return _.each(this.operatorsClasses,function(e,n){return t=t.replace(new RegExp("(^|\\s)("+n+")(\\S*)","g"),"$1<span class='"+e+"'>$2$3</span>")}),t},highlightCurrentOperator:function(){var t;if("function"==typeof this.currentWordIsOperator?this.currentWordIsOperator():void 0)return t=this,this.$content.find("span").filter(function(){return this.innerHTML===t.currentWord}).addClass("current")},reset:function(){return this.$content.html(""),this.val=null,this.currentWord=null},cacheVal:function(t){return t=$.trim(t),this.val===t?!1:this.val=t},cacheCurrentWord:function(t){return this.currentWord===t?!1:(this.currentWord=t,!0)},currentWordIsOperator:function(){var t;return t=_.findWhere(this.operators(),function(t){return function(e){return 0===t.currentWord.indexOf(e)}}(this)),!!t},renderHtml:function(t){return this.$content.html(t),("function"==typeof this.overflow?this.overflow():void 0)?this.reset():this.highlightCurrentOperator()},overflow:function(){return this.$content.width()>this.maxWidth},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},operators:function(){return this._operators||(this._operators=_.keys(this.operatorsClasses))},updateMaxWidth:function(){return this.maxWidth=this.$input.width()},onResize:function(){return clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(t){return function(){return t.updateMaxWidth(),("function"==typeof t.overflow?t.overflow():void 0)?t.reset():void 0}}(this),50)}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchButtonView=Backbone.View.extend({el:"[data-cp-search=button]",events:{click:"onClick"},initialize:function(){return this.on("change",this.render),this.defaultValue=this.$el.val(),this.currentValue=this.defaultValue},onClick:function(t){return t.preventDefault(),this.trigger("click",t)},reset:function(){return this.enable(),this.changeValue(this.defaultValue)},change:function(t){return this.disable(),this.changeValue(this.callToActionText(t))},callToActionText:function(t){return t.callToActionText&&t.callToActionText()||this.defaultValue},changeValue:function(t){return this.currentValue=t,this.trigger("change")},render:function(){return this.$el.val(this.currentValue)},enable:function(){return this.toggleClasses(!0)},disable:function(){return this.toggleClasses(!1)},toggleClasses:function(t){var e;return e=["secondary","primary disabled"],t||e.reverse(),this.$el.addClass(e[0]).removeClass(e[1])}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchFooterView=Backbone.View.extend({el:"[data-cp-search=footer]",helpboxSelector:"[data-cp-search=helpbox]",events:{"click a":"openHelpBox"},initialize:function(e){return this.helpbox=new t.SearchHelpboxView},openHelpBox:function(e){return e.preventDefault(),t.app.trigger("help")}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchHelpboxView=Backbone.View.extend({el:'[data-cp-search="helpbox-overlay"]',events:{"click .close":"close",click:"close","click [data-cp-search=helpbox]":"onHelpboxClick"},contentLoaded:!1,initialize:function(t){return this.$body=$("body"),this.url=this.$el.data("url"),this.setupEvents(),this.setupListeners(),("function"==typeof this.renderOnInit?this.renderOnInit():void 0)?this.render():void 0},render:function(){return this.open(),this.contentLoaded?void 0:this.load()},load:function(){return this.trigger("loading:start"),$.ajax({url:this.url,success:function(t){return function(e){return t.$el.append(e),t.trigger("loading:done")}}(this)})},spinner:function(){return this._spinner||(this._spinner=new Spinner({color:"#FFD333",length:5,radius:40,width:10}))},startSpinner:function(){return this.spinner().spin(this.$el.get(0))},stopSpinner:function(){return this.spinner().stop()},open:function(){return this.$el.fadeIn(100),this.$body.addClass("helpbox")},close:function(t){return t&&t.preventDefault(),this.$body.removeClass("helpbox"),this.$el.fadeOut(100)},onHelpboxClick:function(t){return t.stopPropagation()},renderOnInit:function(){return"#search/help"===window.location.hash},setupListeners:function(){return this.listenTo(this,"close",this.close),this.listenTo(this,"loading:done",function(t){return function(){return t.contentLoaded=!0,t.stopSpinner()}}(this)),this.listenTo(this,"loading:start",function(t){return function(){return t.startSpinner()}}(this))},setupEvents:function(){return this.$body.on("keyup",function(t){return function(e){return 27===e.which?t.trigger("close"):void 0}}(this))}}),t.app.on("help",function(){return this.controller.help()})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchIconView=Backbone.View.extend({el:"[data-cp-search=loader]",template:JST["home/templates/software/search/search_icon"],isNavigating:!1,isLoading:!1,caretUpSelector:".ss-directup",caretDownSelector:".ss-dropdown",initialize:function(){return this.on("change",this.render),this.render()},active:function(){return this},start:function(){return this.setLoadingState(!0)},stop:function(){return this.setLoadingState(!1)},navigate:function(){return this.setNavigationState(!0)},rest:function(){return this.setNavigationState(!1)},prev:function(){return this.highlight(this.$el.find(this.caretUpSelector))},next:function(){return this.highlight(this.$el.find(this.caretDownSelector))},highlight:function(t){return this.isNavigating?(clearTimeout(this.navTimeout),t.css("color","#08C"),this.navTimeout=setTimeout(function(){return t.css("color","#615F5A")},200)):void 0},setNavigationState:function(t){return this.isNavigating=t,this.trigger("change")},setLoadingState:function(t){return this.isLoading=t,this.trigger("change")},toJSON:function(){return{isLoading:this.isLoading,isNavigating:this.isNavigating}},render:function(){return this.$el.html(this.template(this.toJSON()))}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchPanelView=Backbone.View.extend({el:"#search-panel",selectedCollectionView:null,events:{click:"onClick"},initialize:function(){return this.softwareResultsView=new t.SoftwareResultsView({searchPanelView:this}),this.tagResultsView=new t.TagResultsView({searchPanelView:this}),this.suggestionResultsView=new t.SuggestionResultsView({searchPanelView:this}),this.collectionViews=[this.suggestionResultsView,this.tagResultsView,this.softwareResultsView],this.$resultsWrapper=this.$el.find("[data-cp-search='results-wrapper']"),this.setupObservers()},open:function(t){var e;return e=t.data,this.$el.slideDown(function(t){return function(){return t.$el.removeClass("hide")}}(this)),this.trigger("open",e)},close:function(){return this.trigger("close"),this.$el.slideUp()},getNextCollection:function(t){var e,n,i,r,o,s,a,l,c;for(o=_.indexOf(this.collectionViews,this.selectedCollectionView)+t,i=this.collectionViews.length,e=1===t?i-1:0,this.selectedCollectionView||(o=1===t?0:i-1),r=s=a=o,l=e,c=t;c>0?l>=s:s>=l;r=s+=c)if((n=this.collectionViews[r])&&n.resultCount())return n},move:function(t){var e;return e=1===t?"next":"prev",this.selectedCollectionView?this.selectedCollectionView[e]()||this.moveToNextCollection(t,e)?void 0:this.trigger("select:reset",this.selectedCollectionView):this.moveToNextCollection(t,e)},moveToNextCollection:function(t,e){var n;return(n=this.getNextCollection(t))?(n[e](),!0):void 0},next:function(){return this.move(1)},prev:function(){return this.move(-1)},reset:function(){return this.trigger("reset")},update:function(t){return this.trigger("update",t)},onSelectionChange:function(t,e){return this.setSelectedCollectionView(t)},onResetSelection:function(t){return t===this.selectedCollectionView?this.resetSelectedCollectionView():void 0},unselect:function(t){return this.resetSelection()||t()},resetSelection:function(){return this.selectedCollectionView?this.selectedCollectionView.resetSelection():void 0},select:function(){return this.selectedCollectionView?this.selectedCollectionView.select():this.search()},search:function(t){return this.trigger("search",t)},onClick:function(t){return this.trigger("click",t)},setSelectedCollectionView:function(t){return this.selectedCollectionView=t},resetSelectedCollectionView:function(){return this.selectedCollectionView=null},resize:function(){return this.$resultsWrapper.stop().animate({height:this.height()})},height:function(){return _.reduce(this.collectionViews,function(t,e){return t+e.height()},0)},setupObservers:function(){return this.on("resize",this.resize),this.on("select:reset",this.onResetSelection),this.on("select:change",this.onSelectionChange),this.echoEvents([this.softwareResultsView,this.tagResultsView],["fetch:start","fetch:complete","fetch:success","fetch:error","select:change","select:reset","select:viewTagGallery","select:viewSoftware","resize","render","submit","search"]),this.echoEvents([this.suggestionResultsView],["select:change","select:reset","select:suggestion","resize","search"])},echoEvents:function(t,e){return _.each(t,function(t){return function(n){return _.each(e,function(e){return t.listenTo(n,e,_.bind(function(){return Array.prototype.unshift.call(arguments,e),this.trigger.apply(this,arguments)},t))})}}(this))}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SoftwareView=Backbone.View.extend(_.extend({},t.ResultViewMixin,{className:"result software-result clearfix",callToActionText:"Open software",onSelectEvent:"viewSoftware",template:JST["home/templates/software/search/software"],toJSON:function(){return this.model.viewAttributes()},url:function(){return this.model.get("url")},name:function(){return this.model.get("name")},onClick:function(e){return e.preventDefault(),2===e.which||e.metaKey?(window.open(this.url()),t.MixpanelTracker.trackViewSoftware(this.selectOptions())):t.MixpanelTracker.trackViewSoftware(this.selectOptions(),function(t){return function(){return window.location=t.url()}}(this)),!0},selectOptions:function(){return{name:this.name()}}}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SoftwareResultsView=Backbone.View.extend(_.extend({},t.ResultsViewMixin,{el:'[data-cp-search="software-results"]',resultView:t.SoftwareView,noResultsTemplate:"<li><h5>No software projects match your query.</h5></li>",title:"Software projects",initialize:function(e){return this.searchPanelView=e.searchPanelView,this.results=new t.SoftwareResults,this.setupObservers()},setupObservers:function(){return this.observes(this.results,{reset:this.render,request:this.requestStart,viewAll:this.search}),this.observes(this.searchPanelView,{reset:this.reset,update:this.update,open:this.open,close:this.resetSelection}),this.on("render:done",this.displayTotalResults)},update:function(t){var e;return e=t.data,this.typewatch(function(t){return function(){if(e.query){if(!t.cacheLastQuery(e.query))return;return t.fetchResults(e)}return t.reset()}}(this),300)},fetchOptions:function(t){return{reset:!0,data:_.extend({},t,{per_page:this.results.perPage})}},open:function(t){return t.query&&this.results.isEmpty()&&!this.$el.find("li").length?this.fetchResults(t):void 0},search:function(t){return this.trigger("search",t)},displayTotalResults:function(){var e,n;if("function"==typeof(e=this.results).more?e.more():void 0)return n=new t.SoftwareTotalResultsView(this.results),this.views.push(n),this.$el.append(n.render().el)},typewatch:function(){var t;return t=0,function(e,n){return clearTimeout(t),t=setTimeout(e,n)}}()}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SoftwareTotalResultsView=Backbone.View.extend(_.extend({},t.ResultViewMixin,{className:"total-count one-liner",callToActionText:"Search projects",template:JST["home/templates/software/search/software_total_results"],events:{click:"onClick"},initialize:function(t){return this.results=t},onClick:function(t){return t.preventDefault(),this.open()},open:function(){return this.results.trigger("viewAll"),!1},remainingCount:function(){return this.results.remainingCount()},toJSON:function(){return{remainingCount:this.remainingCount()}}}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.TagView=Backbone.View.extend(_.extend({},t.ResultViewMixin,{className:"result tag-result clearfix",callToActionText:"Open tag gallery",onSelectEvent:"viewTagGallery",template:JST["home/templates/software/search/tag"],url:function(){return this.$el.find("> a").attr("href")},name:function(){return this.model.get("name")},onClick:function(e){return e.preventDefault(),2===e.which||e.metaKey?(window.open(this.url()),t.MixpanelTracker.trackViewTagGallery(this.selectOptions())):t.MixpanelTracker.trackViewTagGallery(this.selectOptions(),function(t){return function(){return window.location=t.url()}}(this)),!0},selectOptions:function(){return{name:this.name()}}}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.TagResultsView=Backbone.View.extend(_.extend({},t.ResultsViewMixin,{el:'[data-cp-search="tag-results"]',resultView:t.TagView,tagOperator:"#",title:"Tag suggestions",initialize:function(e){return this.searchPanelView=e.searchPanelView,
this.results=new t.TagResults,this.setupObservers()},setupObservers:function(){return this.observes(this.results,{reset:this.render,request:this.requestStart}),this.observes(this.searchPanelView,{update:this.update,reset:this.reset,close:this.resetSelection})},update:function(t){var e,n,i;return i=[t.data,t.currentWord],n=i[0],e=i[1],this.search(e)},isTag:function(t){return t.charAt(0)===this.tagOperator},fetchOptions:function(t){var e;return e=t.query,{reset:!0,data:{tag:e.substring(1),recognized:!0,per_page:3}}},search:function(t){return this.typewatch(function(e){return function(){if(!("function"==typeof e.isTag?e.isTag(t):void 0))return e.reset();if(e.cacheLastQuery(t))return e.fetchResults({query:t})}}(this),300)},typewatch:function(){var t;return t=0,function(e,n){return clearTimeout(t),t=setTimeout(e,n)}}()}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SuggestionView=Backbone.View.extend(_.extend({},t.ResultViewMixin,{className:"result suggestion-result clearfix one-liner",template:JST["home/templates/software/search/suggestion"],onSelectEvent:"suggestion",onClick:function(t){return t.preventDefault(),this.collection.trigger("search",{query:this.query(),source:"suggestion"})},open:function(){return this.triggerSelectEvent(),!1},selectOptions:function(){return{query:this.query()}},query:function(){return this.model.get("query")}}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SuggestionResultsView=Backbone.View.extend(_.extend({},t.ResultsViewMixin,{el:'[data-cp-search="suggestion-results"]',resultView:t.SuggestionView,title:"Suggestions",initialize:function(e){return this.searchPanelView=e.searchPanelView,this.results=new t.SuggestionResults,this.setupObservers()},setupObservers:function(){return this.observes(this.results,{search:this.search,reset:this.delayedRender}),this.observes(this.searchPanelView,{reset:this.reset,update:this.update,open:this.open})},update:function(t){return this.open(t.data)?void 0:this.reset()},open:function(t){return t.query?(this.reset(),!1):(this.loadSuggestions(),!0)},loadSuggestions:function(){return this.results.loadSuggestions()},delayedRender:function(){return setTimeout(function(t){return function(){return t.render()}}(this),250)},search:function(t){return this.trigger("search",t)}}))}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.FilterView=Backbone.View.extend({tagName:"li",template:JST["home/templates/software/search/filter"],events:{click:"select"},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el},query:function(){return this.model.get("query")},select:function(t){return t.preventDefault(),this.trigger("select",this.model)}}),t.FilterHelpItemView=Backbone.View.extend({tagName:"li",template:JST["home/templates/software/search/filter_help_item"],events:{click:"select"},render:function(){return this.$el.html(this.template()),this.$el},select:function(e){return e.preventDefault(),t.app.trigger("help")}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.FiltersView=Backbone.View.extend({el:'[data-cp-search="form"] [data-dropdown-content]',initialize:function(e){return this.filters=new t.Filters,this.listenTo(this.filters,"reset",this.render),this.filters.load()},render:function(){return this.$el.empty(),this.filters.each(function(e){return function(n){var i;return i=new t.FilterView({model:n,collection:e}),e.listenTo(i,"select",e.filterSelected),e.$el.append(i.render())}}(this)),this.$el.append((new t.FilterHelpItemView).render())},filterSelected:function(t){return this.trigger("filter:selected",t)},close:function(){return Foundation.libs.dropdown.close($("#"+this.$el.attr("id")))}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SearchAppView=Backbone.View.extend({el:"[data-cp-search=base]",events:{click:"onClick"},initialize:function(){return this.searchInputView=new t.SearchInputView,this.searchPanelView=new t.SearchPanelView,this.searchIconView=new t.SearchIconView,this.filtersView=new t.FiltersView,this.searchButtonView=new t.SearchButtonView,this.searchFooterView=new t.SearchFooterView,this.mixpanelTracker=new t.MixpanelTracker,this.setupObservers()},setupObservers:function(){return this.setupInputViewObservers(),this.setupSearchPanelViewObservers(),this.setupSearchButtonViewObservers(),this.setupFiltersViewObservers(),this.setupSearchAppViewObservers(),this.setupTracking()},setupInputViewObservers:function(){return this.observes(this.searchInputView,this.searchPanelView,{prev:"prev",next:"next",blur:"close",focus:"open",escape:"unselect",select:"select",change:"update"}),this.observes(this.searchInputView,this.searchIconView,{next:"next",prev:"prev"}),this.observes(this.searchInputView,this.filtersView,{blur:"close"})},setupSearchPanelViewObservers:function(){return this.observes(this.searchPanelView,this.searchInputView,{click:"focus","select:suggestion":"triggerChange","select:change":"onSelectionChange","select:reset":"onSelectionReset"}),this.observes(this.searchPanelView,this.searchIconView,{"fetch:start":"start","fetch:complete":"stop","select:change":"navigate","select:reset":"rest"}),this.observes(this.searchPanelView,this.searchButtonView,{"select:change":"change","select:reset":"reset"}),this.listenTo(this.searchPanelView,"search",this.search)},setupSearchButtonViewObservers:function(){return this.observes(this.searchButtonView,this.searchInputView,{click:"submit"})},setupFiltersViewObservers:function(){return this.observes(this.filtersView,this.searchInputView,{"filter:selected":"update"})},setupSearchAppViewObservers:function(){return this.observes(this,this.searchInputView,{click:"focus"})},setupTracking:function(){return this.observes(this.searchPanelView,this.mixpanelTracker,{"select:viewSoftware":"trackViewSoftware","select:viewTagGallery":"trackViewTagGallery","select:suggestion":"trackSuggestion"}),this.observes(this.searchInputView,this.mixpanelTracker,{"track:query":"trackAutocompletion"})},onClick:function(t){return this.trigger("click",t)},search:function(t){return t=_.extend(this.searchInputView.serializedData(),t||{}),this.trackFullPageSearch(t),this.viewAllResults(t)},viewAllResults:function(t){return setTimeout(function(){var e,n;return n=$.param(t),n&&(n="?"+n),(e=t.tag_id)?(delete t.tag_id,window.location="/software/built-with/"+e+n):window.location="/software/search"+n},200)},trackFullPageSearch:function(t){return this.mixpanelTracker.trackFullPageSearch({query:t.query})},observes:function(t,e,n){return _.each(n,function(n){return function(i,r){return n.listenTo(t,r,_.bind(e[i],e))}}(this))}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.Software=Backbone.Model.extend({fallbackThumbnail:"/assets/defaults/thumbnail-placeholder-8c916ef4da99a222ce6ece077c71c7e282f071f830747b2abb5718018cbfa699.gif",visibleTagCount:4,memberList:function(){return this.shortList(this.members(),1,", ")},members:function(){return this.get("members")||[]},photo:function(){return this.get("photo")||this.fallbackThumbnail},viewAttributes:function(){return _.extend(this.toJSON(),{members:this.memberList(),photo:this.photo()})},shortList:function(t,e,n){var i,r,o;return null==n&&(n=", "),t.length>0?(r=t.length-e,t=t.slice(0,e),i="",r>0&&(o=1===r?"":"s",i=" &amp; "+r+" other"+o),t.join(n)+i):""}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.Tag=Backbone.Model.extend()}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.Suggestion=Backbone.Model.extend()}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.Filter=Backbone.Model.extend()}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SoftwareResults=Backbone.Collection.extend({url:"/software/search",model:t.Software,perPage:6,parse:function(t){return this.totalCount=t.total_count,t.software},more:function(){return parseInt(this.totalCount)>this.perPage},remainingCount:function(){return this.totalCount-this.perPage}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.TagResults=Backbone.Collection.extend({url:"/tags",model:t.Tag,parse:function(t,e){return null==e&&(e={}),t.tags}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.SuggestionResults=Backbone.Collection.extend({model:t.Suggestion,suggestions:[{query:"is:featured",description:"Staff Picks",icon:"heart"},{query:"@me",description:"My software projects",icon:"user",user:!0},{query:"@following is:trending",description:"Trending software from people I'm following",icon:"users",user:!0},{query:"is:winner has:video",description:"Most recent challenge winners, with demo videos",icon:"star"}],visibleSuggestions:function(){return t.app.userSignedIn?this.suggestions:_.reject(this.suggestions,function(t){return t.user})},loadSuggestions:function(){return this.reset(this.visibleSuggestions())}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.Filters=Backbone.Collection.extend({model:t.Filter,filters:[{description:"My projects",query:"@me",classes:"user",user:!0},{description:"My friends' projects",query:"@following",classes:"user",user:!0},{description:"Tag",query:"#",classes:"tag"},{description:"Staff Picks",query:"is:featured",classes:"is"},{description:"Winners only",query:"is:winner",classes:"is"},{description:"With demo videos",query:"has:video",classes:"has"},{description:"With a gallery",query:"has:image",classes:"has"}],visibleFilters:function(){return t.app.userSignedIn?this.filters:_.reject(this.filters,function(t){return t.user})},load:function(){return this.reset(this.visibleFilters())}})}.call(this),function(){var t;t=this.CP.Home.SoftwareSearch,t.MixpanelTracker=function(){function e(){}return e.trackViewSoftware=function(e,n){return null==n&&(n=$.noop),(new t.MixpanelTracker).trackViewSoftware(e,n)},e.prototype.trackViewSoftware=function(t,e){return null==e&&(e=$.noop),_.extend(t,{"thumbnail displayed on":"search bar"}),window.mixpanel.track("Software Detail Page",t,e)},e.trackViewTagGallery=function(e,n){return null==n&&(n=$.noop),(new t.MixpanelTracker).trackViewTagGallery(e,n)},e.prototype.trackSuggestion=function(){return window.mixpanel.track("Follow Search suggestion")},e.prototype.trackViewTagGallery=function(t,e){return null==e&&(e=$.noop),_.extend(t,{"Tag displayed on":"search bar"}),window.mixpanel.track("Tag Gallery",t,e)},e.prototype.trackAutocompletion=function(t){return t.query?this.trackSearchEvent("autocompletion",t):void 0},e.prototype.trackFullPageSearch=function(t){return this.trackSearchEvent("view all results",t)},e.prototype.trackSearchEvent=function(t,e){return null==e&&(e={}),window.mixpanel.track("search bar",_.extend({},e,{step:t}))},e}()}.call(this),function(){}.call(this),function(){var t,e,n,i,r,o,s;s=function(t){var e,n;return n=$.Deferred(),e=$("<img />"),e.on("load",n.resolve),e.on("error",n.reject),e.prop("src",t),n.promise()},t=Backbone.View.extend({el:"[data-thumbnail=errors]",attributes:{"class":"software-form-thumbnail-errors","data-thumbnail":"errors"},renderErrors:function(t){return this.$el.append($("<li/>").text(t))},empty:function(){return this.$el.empty()},render:function(t){return this.empty(),this.renderErrors(t)}}),o=Backbone.View.extend({el:'[data-thumbnail="image-preview"]',initialize:function(e){return this.options=e,this.$softwareThumbnailInput=$("#software-thumbnail-file-input"),this.$thumbnailImage=this.$('[data-thumbnail="image"]'),this.errorView=new t,this.setupUploader(),this.listenToEvents()},listenToEvents:function(){return this.on("thumbnail:removing:true",this.startChanging,this),this.on("thumbnail:removing:false",this.doneChanging,this),this.on("thumbnail:removed",this.resetToDefaultThumbnail,this)},setupUploader:function(){return this.$softwareThumbnailInput.fileupload({type:"POST",dataType:"json",url:this.postUrl(),dropZone:this.options.app.el,formData:null,start:$.proxy(this.start,this),add:$.proxy(this.add,this),done:$.proxy(this.done,this),fail:$.proxy(this.fail,this),pasteZone:null})},start:function(){return this.errorView.empty()},add:function(t,e){return this.startSpin(),this.trigger("thumbnail:uploading"),this.startChanging(),e.submit()},hasError:function(t){var e;return!!(null!=(e=t.photo)?e.errors:void 0)},done:function(t,e){var n,i,r,o;return r=e.result,this.hasError(r)?this.fail(t,r):(i=r.photo,n=i.links,o=n["photo.show_url"],this.retrievePhoto(1e3,o))},retrievePhoto:function(t,e){return $.get(e,function(t){return function(e){return t.showNewThumbnail(e),t.trigger("thumbnail:added")}}(this)).fail(function(n){return function(){return setTimeout(function(){return n.retrievePhoto(t+1e3,e)},t)}}(this))},resetToDefaultThumbnail:function(){return this.showNewThumbnail(this.$thumbnailImage.data("thumbnailFallback"))},showNewThumbnail:function(t){return s(t).then(function(e){return function(){return e.$thumbnailImage.attr({src:t}),e.always()}}(this))},always:function(){return this.endSpin(),this.doneChanging()},startChanging:function(){return this.$thumbnailImage.addClass("software-thumbnail-removing")},doneChanging:function(){return this.$thumbnailImage.removeClass("software-thumbnail-removing")},fail:function(t,e){return this.errorView.render(e.photo.errors),this.always()},startSpin:function(){return null==this.spinner&&(this.spinner=new Spinner({lines:11,length:32,width:10,radius:30,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,hwaccel:!0,className:"spinner",zIndex:2e9,top:"50%",left:"50%"})),this.spinner.spin(this.$thumbnailImage.parent()[0])},endSpin:function(){var t;return null!=(t=this.spinner)?t.stop():void 0},postUrl:function(){return this.$softwareThumbnailInput.data("photoUploadAction")}}),r=Backbone.View.extend({el:'[data-thumbnail="remove"]',events:{'change [data-thumbnail="remove-checkbox"]':"toggleRemovingClass",'change [data-thumbnail="remove-checkbox"]':"switchMessages"},initialize:function(){return this.$keepingMessage=this.$el.find('[data-thumbnail="keeping-message"]'),this.$removingMessage=this.$el.find('[data-thumbnail="removing-message"]'),this.$checkbox=this.$el.find('[data-thumbnail="remove-checkbox"]'),this.listenToEvents()},listenToEvents:function(){return this.on("thumbnail:uploading",this.uncheckRemove,this)},isRemoving:function(){return this.$checkbox.prop("checked")},switchMessages:function(){return this.$keepingMessage.toggle(!this.isRemoving()),this.$removingMessage.toggle(this.isRemoving()),this.toggleRemovingClass()},toggleRemovingClass:function(){return this.trigger("change")},uncheckRemove:function(){return this.$checkbox.prop("checked",!1),this.$checkbox.change()}}),e=Backbone.View.extend({el:'[data-thumbnail="remove"]',events:{"click .software-thumbnail-remove":"removeThumbnail"},isRemoving:function(){return!0},removeThumbnail:function(){var t;if(confirm(this.$(".software-thumbnail-remove-option").data("confirmMessage")))return this.trigger("change"),t=$.ajax({type:"POST",url:this.$(".software-thumbnail-remove").data("url"),data:{_method:"delete"}}),t.then(function(t){return function(e){return t.trigger("thumbnail:removed")}}(this))}}),i=Backbone.View.extend({el:"[data-thumbnail=attributes]",initialize:function(){var t,e,n,i;return t=this.$el.find("[data-thumbnail=name]"),i=this.$el.find("[data-thumbnail=tagline]"),e=$("form [data-attribute=title]"),n=$("form [data-attribute=tagline]"),e.on("keyup change",function(n){return function(n){return t.text(e.val())}}(this)),n.on("keyup change",function(t){return function(t){return i.text(n.val())}}(this))}}),n=Backbone.View.extend({el:"[data-thumbnail=container]",initialize:function(t){var n;return null==t&&(t={}),this.thumbnailAttributes=new i({app:this}),n=t.live?e:r,this.thumbnailRemover=new n({app:this}),this.thumbnailImage=new o({app:this}),this.listenToEvents()},listenToEvents:function(){return this.listenTo(this.thumbnailRemover,{change:this.dispatchRemovingIntent,"thumbnail:removed":this.onThumbnailRemoved}),this.listenTo(this.thumbnailImage,{"thumbnail:added":this.onThumbnailAdded,"thumbnail:uploading":this.dispatchUploadingIntent})},dispatchRemovingIntent:function(){return this.thumbnailImage.trigger("thumbnail:removing:"+this.thumbnailRemover.isRemoving())},onThumbnailRemoved:function(){return this.thumbnailImage.trigger("thumbnail:removed"),this.$el.attr("data-thumbnail-presence",!1)},onThumbnailAdded:function(){return this.$el.attr("data-thumbnail-presence",!0)},dispatchUploadingIntent:function(){return this.thumbnailRemover.trigger("thumbnail:uploading")}}),this.CP.Home.softwareFormLiveThumbnail=function(t){return null==t&&(t={}),new n(t)}}.call(this),function(){var t;t=function(){function t(t){this.$urls=$(t),this.$form=this.$urls.closest("form")}return t.prototype.setup=function(){return this.hideRemoveUrlButton(),this.setupCocoonEvents(),this.setupOnSubmitEvent(),this},t.prototype.setupCocoonEvents=function(){return this.$urls.on("cocoon:after-insert",function(t){return function(e,n){return t.removeRequiredUrlError(),t.showRemoveUrlButton()}}(this)),this.$urls.on("cocoon:after-remove",function(t){return function(e,n){return t.hideRemoveUrlButton()}}(this))},t.prototype.setupOnSubmitEvent=function(){return this.$form.on("submit",function(t){return function(e){return $.each(t.$nestedUrlsFields(),function(t,e){var n;return n=$(e),n.find("input.url").val()?void 0:n.find("input[type=hidden]").val(!0)})}}(this))},t.prototype.removeRequiredUrlError=function(){return this.$urls.closest(".fieldWithErrors").removeClass("fieldWithErrors").find("> .errors").remove()},t.prototype.hideRemoveUrlButton=function(){return this.urlCount()<=1?this.$urls.addClass("immutable"):void 0},t.prototype.showRemoveUrlButton=function(){return this.urlCount()>1?this.$urls.removeClass("immutable"):void 0},t.prototype.urlCount=function(){return this.$nestedUrlsFields().length},t.prototype.$nestedUrlsFields=function(){return this.$urls.find("> .nested-fields:visible")},t.setup=function(e){return new t(e).setup()},t}(),this.CP.Home.SoftwareFormUrls=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.enhanceLink=e(this.enhanceLink,this),this.$links=$(t).find("a")}return t.prototype.supportedSites=[{domain:"github.com",icon:"ss-social ss-octocat",text:"GitHub Repo"},{domain:"itunes.apple.com",icon:"ss-social-regular ss-apple",text:"App Store"},{domain:"play.google.com",icon:"ss-social-regular ss-android",text:"Google Play Store"},{domain:"dribbble.com",icon:"ss-social-regular ss-dribbble",text:"Dribbble"},{domain:"behance.net",icon:"ss-social-regular ss-behance",text:"Behance"},{domain:"windows.microsoft.com",icon:"ss-social-regular ss-microsoft",text:"Windows Store"}],t.prototype.enhance=function(){return $.each(this.$links,this.enhanceLink)},t.prototype.enhanceLink=function(t,e){var n,i,r;return n=$(e),r=n.attr("href"),(i=this.findSupportedSiteByDomain(this.domain(r)))?n.find("span").text(i.text).end().find("i").removeClass("ss-link").addClass(i.icon):void 0},t.prototype.findSupportedSiteByDomain=function(t){var e;if(t)return e=$.grep(this.supportedSites,function(e,n){return t.match(e.domain)}),e[0]},t.prototype.domain=function(t){var e,n;return n=t.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i),e=n&&n[1]},t}(),this.CP.Home.SoftwareLinks=t}.call(this),function(){var t,e,n,i=[].slice;t=function(t){return"number"!=typeof t?"":t>=1e9?(t/1e9).toFixed(2)+" GB":t>=1e6?(t/1e6).toFixed(2)+" MB":t>=1e3?(t/1e3).toFixed(2)+" KB":t+" B"},n={fileSize:t},e=function(){var t,e,r;return r=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],e=n[r]||function(){throw r+" not defined in $.formatNumber"}(),e.apply(null,t)},$.extend(!0,{formatNumber:e})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t,n,i,r){this.$uploader=t,this.$container=n,this.maxSize=i,this.acceptedTypes=r,this.doneSuccessfully=e(this.doneSuccessfully,this),this.doneWithErrors=e(this.doneWithErrors,this),this.fileFromData=e(this.fileFromData,this),this.deleteFile=e(this.deleteFile,this),this.fail=e(this.fail,this),this.done=e(this.done,this),this.always=e(this.always,this),this.add=e(this.add,this),this.setupDropZone=e(this.setupDropZone,this),this.setupBindings=e(this.setupBindings,this),this.setupUploader=e(this.setupUploader,this),this.setup=e(this.setup,this),this.setVariables()}return t.prototype.formData=[{name:"authenticity_token",value:$('meta[name="csrf-token"]').attr("content")}],t.prototype.classForImage="panel",t.prototype.path="/photos",t.prototype.objectName="submission",t.prototype.setVariables=function(){return this.$dropzone=this.$container.find("[data-image-gallery-dropzone]"),this.$fileInput=this.$container.find("[data-image-gallery-choose-file]"),this.$files=this.$container.find("[data-image-gallery-list]")},t.prototype.setup=function(){return this.$uploader.hide(),this.setupUploader(),this.setupBindings(),this.setupDropZone()},t.prototype.setupUploader=function(){return this.$uploader.fileupload({add:this.add,always:this.always,done:this.done,dropZone:this.$container,pasteZone:null,fail:this.fail,fileInput:this.$fileInput,formData:this.formData,type:"POST",url:this.path})},t.prototype.setupBindings=function(){return this.$container.on("click","a[data-method='delete']",this.deleteFile)},t.prototype.setupDropZone=function(){var t;return $(document).bind("drop dragover",function(t){return function(e){return t.$dropzone.hide(),e.preventDefault()}}(this)),t=0,$(document).on("dragover",function(e){return function(n){return e.$dropzone.show(),window.clearTimeout(t)}}(this)),$(document).on("dragleave",function(e){return function(n){return window.clearTimeout(t),t=window.setTimeout(function(){return e.$dropzone.hide()},85)}}(this))},t.prototype.add=function(t,e){var n,i,r;return n=e.files[0],i=this.newFileEntry(n),this.broadcast("file:adding"),e.context=i.appendTo(this.$files),r=e.submit(),i.on("click","a",function(){return i.hasClass("working")?r.abort():void 0})},t.prototype.always=function(t,e){var n;return n=e.context,n.removeClass("working")},t.prototype.done=function(t,e){var n,i;return i=this.fileFromData(e),n=e.context,this.updateTemplate(n,i),n.find('input[type="hidden"]').attr("value",i.id),i.errors?this.doneWithErrors(n,i):this.doneSuccessfully(n,i)},t.prototype.fail=function(t,e){var n,i,r,o;return r=e.files[0].size>this.maxSize,o=$.inArray(e.files[0].type,this.acceptedTypes)<0,i=r?"Must be "+this.maxSize/1e6+" MB max file size":o?"Must be valid format":"Canceled upload",n=$("<strong/>").html(" &mdash; <span>"+i+"</span>"),this.handleError(e.context,"canceled",n)},t.prototype.deleteFile=function(t){var e,n;return t.preventDefault(),n=$(t.currentTarget),e=n.parent("li"),e.addClass("deleting"),this.broadcast("file:removing"),$.ajax({url:n.attr("href"),type:n.data("method"),dataType:"json",success:function(t){return function(n){return t.fileWasDeleted(e)}}(this),error:function(t){return function(n,i,r){return e.removeClass("deleting"),t.broadcast("file:remove:error")}}(this)}),!1},t.prototype.fileFromData=function(t){var e;if(typeof t.result===Object)return t.result.photo;e=t.result;try{e=$(e).text()}catch(n){}return t.result=JSON.parse(e),t.result.photo},t.prototype.doneWithErrors=function(t,e){var n;return n=this.fileErrorText(e),this.handleError(t,"error",n),this.broadcast("file:add:error")},t.prototype.doneSuccessfully=function(t,e){var n,i;return n="ss-icon ss-delete",i=$("<a class='"+n+"' href='"+e.delete_url+"' data-method='delete'></a>"),t.find("a").remove(),t.append(i),this.broadcast("file:added")},t.prototype.handleError=function(t,e,n){return t.addClass(e),this.appendErrorText(t,n),t.find("a").click(function(){return t.fadeOut("medium")}),t.find("input").remove()},t.prototype.broadcast=function(t){return"undefined"!=typeof Backbone&&null!==Backbone?Backbone.Radio.channel("softwareForm").trigger(t):void 0},t.setup=function(t,e,n,i){return null==n&&(n=5e6),null==i&&(i=["image/jpeg","image/jpg","image/pjpeg","image/png","image/x-png","image/gif"]),new this(t,e,n,i).setup()},t.prototype.newFileEntry=function(t){return $('<li class="'+this.classForImage+' working">\n  <input name="'+this.objectName+'[photo_ids][]" type="hidden">\n  <strong>'+t.name+"</strong>\n  (<span>"+$.formatNumber("fileSize",t.size)+'</span>)\n  <a class="ss-icon ss-delete"></a>\n  <img src="/assets/challenges/indicator-ajax-spinner.gif" class="loading" />\n</li>')},t.prototype.updateTemplate=function(t,e){return t.attr("data-id","ids_"+e.id),t.find("span").text(e.size),t.find("input").attr("value",e.id),t.find('input[type="hidden"]').attr("value",e.id)},t.prototype.fileWasDeleted=function(t){return t.fadeOut("medium"),this.broadcast("file:removed")},t.prototype.fileErrorText=function(t){return $("<span/>").text(t.errors)},t.prototype.appendErrorText=function(t,e){return t.append(e)},t}(),this.CP.MultiplePhotoUploader=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(){return this.always=e(this.always,this),this.add=e(this.add,this),this.doneSuccessfully=e(this.doneSuccessfully,this),this.setupUploader=e(this.setupUploader,this),i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.objectName="software",i.prototype.path=function(){return this.$uploader.attr("action")},i.prototype.$mainForm=function(){return this.$container.closest("form")},i.prototype.setupUploader=function(){return this.$uploader.fileupload({add:this.add,always:this.always,done:this.done,dropZone:this.$container,pasteZone:null,fail:this.fail,fileInput:this.$fileInput,formData:this.$uploader.serializeArray(),type:"POST",url:this.path()})},i.prototype.newFileEntry=function(t){var e,n;return n=window.URL.createObjectURL(t),e=$($("label.choose_files").data("fields")),e.find("img.software_photo_image").attr("src",n),e.find(".software_photos_caption input"),e.find("input.string.optional").attr("disabled",""),e.addClass("working")},i.prototype.updateTemplate=function(t,e){var n,i,r;return t.attr("data-id","ids_"+e.id),r=(new Date).getTime(),n=$("label.choose_files").data("id"),i=new RegExp(n,"g"),t.html(t.html().replace(i,r)),t.find('input[type="hidden"]').attr("value",e.id)},i.prototype.fileWasDeleted=function(t){return i.__super__.fileWasDeleted.call(this,t),t.remove()},i.prototype.fileErrorText=function(t){return $('<span class="message"/>').text(t.errors)},i.prototype.doneSuccessfully=function(t,e){var n;return i.__super__.doneSuccessfully.call(this,t,e),n=t.find("input.string.optional"),n.removeAttr("disabled"),n.focus(),n.characterCounter({limit:140})},i.prototype.appendErrorText=function(t,e){return t.find(".input.software_photos_caption").append(e)},i.prototype.add=function(t,e){return this.$mainForm().find("[type='submit']").prop("disabled",!0),i.__super__.add.call(this,t,e)},i.prototype.always=function(t,e){var n;return i.__super__.always.call(this,t,e),n=this.$container.find(".working"),0===n.length?this.$mainForm().find("[type='submit']").prop("disabled",!1):void 0},i}(CP.MultiplePhotoUploader),this.CP.Home.SoftwarePhotoUploader=t}.call(this),function(){var t;t=function(){function t(t){this.$inputFields=$(t)}return t.prototype.setup=function(){return this.setupVideoUrlTip()},t.prototype.setupVideoUrlTip=function(){return this.$inputFields.on("keyup change","input.url",function(t){return function(e){var n;return n=e.target.value,t.isVideoUrl(n)?t.showVideoErrorMessage(e.target):t.hideVideoErrorMessage(e.target)}}(this))},t.prototype.isVideoUrl=function(t){return this.isYoutubeUrl(t)||this.isVimeoUrl(t)||this.isYoukuUrl(t)},t.prototype.isYoutubeUrl=function(t){var e;return e=/youtu\.be|youtube\.com/,e.test(t)},t.prototype.isVimeoUrl=function(t){var e;return e=/vimeo\.com/,e.test(t)},t.prototype.isYoukuUrl=function(t){var e;return e=/youku\.com/,e.test(t)},t.prototype.showVideoErrorMessage=function(t){var e,n,i;return i=$(t).parent(),e='put video links in the "Video" field below',n=i.find("span.errors"),i.addClass("fieldWithErrors"),n.length>0?n.text(e).show():i.append("<span class='errors'>"+e+"</span>")},t.prototype.hideVideoErrorMessage=function(t){var e;return e=$(t).parent(),e.removeClass("fieldWithErrors"),e.find("span.errors").hide()},t.setup=function(e){return new t(e).setup()},t}(),this.CP.Home.VideoUrlValidator=t}.call(this),function(){var t;t=function(){function t(t){this.eventData=t,this.trackFormView(),this.trackFormSubmission(),this.trackCancelClick()}return t.prototype.trackFormView=function(){return CP.MixpanelProxy.track("Viewed Edit Project",this.eventData)},t.prototype.trackFormSubmission=function(){return CP.MixpanelProxy.track_forms("form.edit_software","Submitted 'Continue your submission'",this.eventData)},t.prototype.trackCancelClick=function(){return CP.MixpanelProxy.track_links("#cancel-link","Cancelled 'Continue your submission'",this.eventData)},t}(),this.CP.Home.SoftwareFormTracker=t}.call(this),function(){var t;t=function(){function t(t,e){this.options=e,this.$form=$(t),this.setupCharacterCounters(),this.setupEditableTemplate()}return t.prototype.setupCharacterCounters=function(){return this.$form.find("#software_name").defaultedCharacterCounter({limit:this.options.title_max_length}),this.$form.find("#software_tagline").defaultedCharacterCounter({limit:this.options.tagline_max_length}),this.$form.find(".software_photos_caption input").characterCounter({limit:this.options.caption_max_length})},t.prototype.setupEditableTemplate=function(){var t;return t=$("[data-editable-templates]"),t.on("focusin",function(t){return function(e){var n;return n=$(e.target),""===$.trim(n.val())?(n.val(t.editableTemplate(n)),n.trigger("change")):void 0}}(this)),t.on("focusout",function(t){return function(e){var n,i,r,o,s,a;for(n=$(e.target),s=[0,1],a=[],i=0,r=s.length;r>i;i++)o=s[i],n.val()===t.editableTemplate(n,o)?(n.val(""),a.push(n.trigger("change"))):a.push(void 0);return a}}(this))},t.prototype.editableTemplate=function(t,e){return null==e&&(e=null),e||(e=1!==this.software_members_count()?1:0),this.templates(t)[e]},t.prototype.templates=function(t){return t.data("editableTemplates")},t.prototype.software_members_count=function(){return $(".software-members-list li").length},t.setup=function(e,n){return new t(e,n)},t}(),this.CP.Home.SoftwareForm=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.$dropDown=t,this.onChange=e(this.onChange,this),this.$dropDown.on("change",this.onChange)}return t.prototype.onChange=function(){return window.location=this.$dropDown.find(":selected").data("uri")},t}(),this.CP.SoftwareSortDropdown=t}.call(this),function(){var t;t=function(){function t(t){this.options=t,this.highlightLikedSoftware(),this.highlightSoftwareCommentedOn()}return t.prototype.highlightSoftwareCommentedOn=function(){return $.getJSON(this.softwareCommentedOnUrl(),{software_ids:this.softwareIds()},function(t){return function(e){return t.highlightCounts(e,"[data-count=comment]")}}(this))},t.prototype.highlightLikedSoftware=function(){return $.getJSON(this.likedSoftwareUrl(),{software_ids:this.softwareIds()},function(t){return function(e){return t.highlightCounts(e,"[data-count=like]")}}(this))},t.prototype.highlightCounts=function(t,e){return $.each(t,function(t,n){var i;return i=$("[data-software-id="+n.id+"]").find(e),i.addClass("highlight")})},t.prototype.softwareIds=function(){return $.map(this.thumbnails(),function(t,e){return $(t).data("software-id")})},t.prototype.thumbnails=function(){return this._thumbnails||(this._thumbnails=$(this.options.thumbnailSelector))},t.prototype.likedSoftwareUrl=function(){return this.options.likedSoftwareUrl},t.prototype.softwareCommentedOnUrl=function(){return this.options.softwareCommentedOnUrl},t}(),this.CP.Home.SoftwareThumbnails=t}.call(this),function(){var t;t=function(){function t(){}return t.prototype.setup=function(){return $("#software-comment-button").on("click",this.scrollTo)},t.prototype.scrollTo=function(t){var e;return e=$("#updates"),$("html,body").animate({scrollTop:e.offset().top})},t.setup=function(){return(new t).setup()},t}(),this.CP.Home.SoftwareCommentButton=t}.call(this),function(){var t;t=function(){function t(){this.setupModal(),this.bindTeamUpRequestButtons()}return t.prototype.bindTeamUpRequestButtons=function(){return this.$teamUpRequestButtons=$("[data-team-up-request-button]:not([disabled])"),this.$teamUpRequestButtons.on("click",function(t){return function(e){var n,i;return e.preventDefault(),n=$(e.currentTarget),i=n.data("buttonParticipantId"),t.$modal.data("participantId")===i?t.openModal():t.loadModal(n.data("url")).then(function(e){return t.setParticipantIdOnModal(i),
t.openModal(e)})}}(this)),$("body").on("click","[data-registrations='cancel']",function(t){return function(e){return e.preventDefault(),t.closeModal()}}(this)),$("body").on("teamUpFormRendered",function(t){return function(){return t.$form().removeAttr("data-remote")}}(this))},t.prototype.loadModal=function(t){return $.ajax({url:t,dataType:"html",xhrFields:{withCredentials:!0},crossDomain:!1})},t.prototype.openModal=function(t){return null==t&&(t=null),t&&(t&&this.$modal.html(t),this.setupCounter(),this.$modal.on("submit","form",function(t){return function(e){return e.preventDefault(),e.stopImmediatePropagation(),t.postForm().done(function(){return t.$form().find(".errors").length?void 0:(t.closeModal(),t.disableButton())})}}(this))),this.$modal.foundation("reveal","open")},t.prototype.closeModal=function(){return this.$modal.foundation("reveal","close")},t.prototype.disableButton=function(){var t;return t=this.$modal.data("participantId"),$("[data-button-participant-id='"+t+"']").attr("disabled","disabled").text("Team-up request sent")},t.prototype.$form=function(){return this.$modal.find("form")},t.prototype.postForm=function(){return this.$form().find(".errors").remove(),$.ajax({url:this.$form().attr("action"),data:this.$form().serialize(),type:"POST",dataType:"script",xhrFields:{withCredentials:!0},crossDomain:!1})},t.prototype.setParticipantIdOnModal=function(t){return this.$modal.attr("data-participant-id",t).data("participantId",t)},t.prototype.setupCounter=function(){var t;return t=this.$form().find("textarea"),t.characterCounter({limit:t.data("counterLength"),counterFormat:t.data("counterFormat"),counterCssClass:t.data("counterCssClass"),counterWrapper:t.data("counterWrapper")})},t.prototype.setupModal=function(){return this.$modal=$("[data-team-up-request-modal]")},t}(),this.CP.Home.TeamUpRequests=t}.call(this),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function n(n,o,a){function l(t,e,i){var r,o="$()."+n+'("'+e+'")';return t.each(function(t,l){var c=a.data(l,n);if(!c)return void s(n+" not initialized. Cannot call methods, i.e. "+o);var u=c[e];if(!u||"_"==e.charAt(0))return void s(o+" is not a valid method");var h=u.apply(c,i);r=void 0===r?h:r}),void 0!==r?r:t}function c(t,e){t.each(function(t,i){var r=a.data(i,n);r?(r.option(e),r._init()):(r=new o(i,e),a.data(i,n,r))})}a=a||e||t.jQuery,a&&(o.prototype.option||(o.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[n]=function(t){if("string"==typeof t){var e=r.call(arguments,1);return l(this,t,e)}return c(this,t),this},i(a))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var r=Array.prototype.slice,o=t.console,s="undefined"==typeof o?function(){}:function(t){o.error(t)};return i(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},i=n[t]=n[t]||{};return i[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],r=0;r<n.length;r++){var o=n[r],s=i&&i[o];s&&(this.off(t,o),delete i[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n],r=i+"MatchesSelector";if(t[r])return r}}();return function(e,n){return e[t](n)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var n={};n.extend=function(t,e){for(var n in e)t[n]=e[n];return t},n.modulo=function(t,e){return(t%e+e)%e};var i=Array.prototype.slice;n.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?i.call(t):[t]},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var r=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!i)return void r.push(t);e(t,i)&&r.push(t);for(var n=t.querySelectorAll(i),o=0;o<n.length;o++)r.push(n[o])}}),r},n.debounceMethod=function(t,e,n){n=n||100;var i=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments,o=this;this[r]=setTimeout(function(){i.apply(o,e),delete o[r]},n)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var r=t.console;return n.htmlInit=function(e,i){n.docReady(function(){var o=n.toDashed(i),s="data-"+o,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+o),c=n.makeArray(a).concat(n.makeArray(l)),u=s+"-options",h=t.jQuery;c.forEach(function(t){var n,o=t.getAttribute(s)||t.getAttribute(u);try{n=o&&JSON.parse(o)}catch(a){return void(r&&r.error("Error parsing "+s+" on "+t.className+": "+a))}var l=new e(t,n);h&&h.data(t,i,l)})})},n}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(n,i){return e(t,n,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("fizzy-ui-utils")):t.InfiniteScroll=e(t,t.EvEmitter,t.fizzyUIUtils)}(window,function(t,e,n){function i(t,e){var s=n.getQueryElement(t);if(!s)return void console.error("Bad element for InfiniteScroll: "+(s||t));if(t=s,t.infiniteScrollGUID){var a=o[t.infiniteScrollGUID];return a.option(e),a}this.element=t,this.options=n.extend({},i.defaults),this.option(e),r&&(this.$element=r(this.element)),this.create()}var r=t.jQuery,o={};i.defaults={},i.create={},i.destroy={};var s=i.prototype;n.extend(s,e.prototype);var a=0;s.create=function(){var t=this.guid=++a;this.element.infiniteScrollGUID=t,o[t]=this,this.pageIndex=1,this.loadCount=0,this.updateGetPath();var e=this.getPath&&this.getPath();if(!e)return void console.error("Disabling InfiniteScroll");this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit();for(var n in i.create)i.create[n].call(this)},s.option=function(t){n.extend(this.options,t)},s.callOnInit=function(){var t=this.options.onInit;t&&t.call(this,this)},s.dispatchEvent=function(t,e,n){this.log(t,n);var i=e?[e].concat(n):n;if(this.emitEvent(t,i),r&&this.$element){t+=".infiniteScroll";var o=t;if(e){var s=r.Event(e);s.type=t,o=s}this.$element.trigger(o,n)}};var l={initialized:function(t){return"on "+t},request:function(t){return"URL: "+t},load:function(t,e){return(t.title||"")+". URL: "+e},error:function(t,e){return t+". URL: "+e},append:function(t,e,n){return n.length+" items. URL: "+e},last:function(t,e){return"URL: "+e},history:function(t,e){return"URL: "+e},pageIndex:function(t,e){return"current page determined to be: "+t+" from "+e}};s.log=function(t,e){if(this.options.debug){var n="[InfiniteScroll] "+t,i=l[t];i&&(n+=". "+i.apply(this,e)),console.log(n)}},s.updateMeasurements=function(){this.windowHeight=t.innerHeight;var e=this.element.getBoundingClientRect();this.top=e.top+t.pageYOffset},s.updateScroller=function(){var e=this.options.elementScroll;if(!e)return void(this.scroller=t);if(this.scroller=e===!0?this.element:n.getQueryElement(e),!this.scroller)throw"Unable to find elementScroll: "+e},s.updateGetPath=function(){var t=this.options.path;if(!t)return void console.error("InfiniteScroll path option required. Set as: "+t);var e=typeof t;if("function"==e)return void(this.getPath=t);var n="string"==e&&t.match("{{#}}");return n?void this.updateGetPathTemplate(t):void this.updateGetPathSelector(t)},s.updateGetPathTemplate=function(t){this.getPath=function(){var e=this.pageIndex+1;return t.replace("{{#}}",e)}.bind(this);var e=t.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),n=new RegExp(e),i=location.href.match(n);i&&(this.pageIndex=parseInt(i[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))};var c=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/];return s.updateGetPathSelector=function(t){var e=document.querySelector(t);if(!e)return void console.error("Bad InfiniteScroll path option. Next link not found: "+t);for(var n,i,r=e.getAttribute("href"),o=0;r&&o<c.length;o++){i=c[o];var s=r.match(i);if(s){n=s.slice(1);break}}return n?(this.isPathSelector=!0,this.getPath=function(){var t=this.pageIndex+1;return n[0]+t+n[2]}.bind(this),this.pageIndex=parseInt(n[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+r)},s.updateGetAbsolutePath=function(){var t=this.getPath(),e=t.match(/^http/)||t.match(/^\//);if(e)return void(this.getAbsolutePath=this.getPath);var n=location.pathname,i=t.match(/^\?/);if(i)return void(this.getAbsolutePath=function(){return n+this.getPath()});var r=n.substring(0,n.lastIndexOf("/"));this.getAbsolutePath=function(){return r+"/"+this.getPath()}},i.create.hideNav=function(){var t=n.getQueryElement(this.options.hideNav);t&&(t.style.display="none",this.nav=t)},i.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},s.destroy=function(){this.allOff();for(var t in i.destroy)i.destroy[t].call(this);delete this.element.infiniteScrollGUID,delete o[this.guid],r&&this.$element&&r.removeData(this.element,"infiniteScroll")},i.throttle=function(t,e){e=e||200;var n,i;return function(){var r=+new Date,o=arguments,s=function(){n=r,t.apply(this,o)}.bind(this);n&&n+e>r?(clearTimeout(i),i=setTimeout(s,e)):s()}},i.data=function(t){t=n.getQueryElement(t);var e=t&&t.infiniteScrollGUID;return e&&o[e]},i.setJQuery=function(t){r=t},n.htmlInit(i,"infinite-scroll"),s._init=function(){},r&&r.bridget&&r.bridget("infiniteScroll",i),i}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core")):e(t,t.InfiniteScroll)}(window,function(t,e){function n(t){for(var e=document.createDocumentFragment(),n=0;t&&n<t.length;n++)e.appendChild(t[n]);return e}function i(t){for(var e=t.querySelectorAll("script"),n=0;n<e.length;n++){var i=e[n],o=document.createElement("script");r(i,o),o.innerHTML=i.innerHTML,i.parentNode.replaceChild(o,i)}}function r(t,e){for(var n=t.attributes,i=0;i<n.length;i++){var r=n[i];e.setAttribute(r.name,r.value)}}function o(t,e,n,i,r){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType=e||"",o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.onload=function(){if(200==o.status)n(o.response);else if(204==o.status)r(o.response);else{var t=new Error(o.statusText);i(t)}},o.onerror=function(){var e=new Error("Network error requesting "+t);i(e)},o.send()}var s=e.prototype;return e.defaults.loadOnScroll=!0,e.defaults.checkLastPage=!0,e.defaults.responseType="document",e.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},s.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},s.loadNextPage=function(){if(!this.isLoading&&this.canLoad){var t=this.getAbsolutePath();this.isLoading=!0;var e=function(e){this.onPageLoad(e,t)}.bind(this),n=function(e){this.onPageError(e,t)}.bind(this),i=function(e){this.lastPageReached(e,t)}.bind(this);o(t,this.options.responseType,e,n,i),this.dispatchEvent("request",null,[t])}},s.onPageLoad=function(t,e){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[t,e]),this.appendNextPage(t,e),t},s.appendNextPage=function(t,e){var i=this.options.append,r="document"==this.options.responseType;if(r&&i){var o=t.querySelectorAll(i),s=n(o),a=function(){this.appendItems(o,s),this.isLoading=!1,this.dispatchEvent("append",null,[t,e,o])}.bind(this);this.options.outlayer?this.appendOutlayerItems(s,a):a()}},s.appendItems=function(t,e){t&&t.length&&(e=e||n(t),i(e),this.element.appendChild(e))},s.appendOutlayerItems=function(n,i){var r=e.imagesLoaded||t.imagesLoaded;return r?void r(n,i):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},s.onAppendOutlayer=function(t,e,n){this.options.outlayer.appended(n)},s.checkLastPage=function(t,e){var n=this.options.checkLastPage;if(n){var i=this.options.path;if("function"==typeof i){var r=this.getPath();if(!r)return void this.lastPageReached(t,e)}var o;if("string"==typeof n?o=n:this.isPathSelector&&(o=i),o&&t.querySelector){var s=t.querySelector(o);s||this.lastPageReached(t,e)}}},s.lastPageReached=function(t,e){this.canLoad=!1,this.dispatchEvent("last",null,[t,e])},s.onPageError=function(t,e){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[t,e]),t},e.create.prefill=function(){if(this.options.prefill){var t=this.options.append;if(!t)return void console.error("append option required for prefill. Set as :"+t);this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()}},s.prefill=function(){var t=this.getPrefillDistance();this.isPrefilling=t>=0,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},s.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},s.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(n,i){return e(t,n,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;return e.defaults.scrollThreshold=400,e.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var t=this.options.scrollThreshold,e=t||0===t;e&&this.enableScrollWatch()},e.destroy.scrollWatch=function(){this.disableScrollWatch()},i.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},i.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},i.bindScrollWatchEvents=function(e){var n=e?"addEventListener":"removeEventListener";this.scroller[n]("scroll",this.pageScrollHandler),t[n]("resize",this.resizeHandler)},i.onPageScroll=e.throttle(function(){var t=this.getBottomDistance();t<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),i.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},i.getWindowBottomDistance=function(){var e=this.top+this.element.clientHeight,n=t.pageYOffset+this.windowHeight;return e-n},i.getElementBottomDistance=function(){var t=this.scroller.scrollHeight,e=this.scroller.scrollTop+this.scroller.clientHeight;return t-e},i.onResize=function(){this.updateMeasurements()},n.debounceMethod(e,"onResize",150),e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(n,i){return e(t,n,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;e.defaults.history="replace";var r=document.createElement("a");return e.create.history=function(){if(this.options.history){r.href=this.getAbsolutePath();var t=r.origin||r.protocol+"//"+r.host,e=t==location.origin;return e?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+r.origin+" on "+location.origin+" . History behavior disabled.")}},i.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},i.bindHistoryAppendEvents=function(e){var n=e?"addEventListener":"removeEventListener";this.scroller[n]("scroll",this.scrollHistoryHandler),t[n]("unload",this.unloadHandler)},i.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},e.destroy.history=i.destroyHistory=function(){var t=this.options.history&&this.options.append;t&&this.bindHistoryAppendEvents(!1)},i.onAppendHistory=function(t,e,n){if(n&&n.length){var i=n[0],o=this.getElementScrollY(i);r.href=e,this.scrollPages.push({top:o,path:r.href,title:t.title})}},i.getElementScrollY=function(t){return this.options.elementScroll?this.getElementElementScrollY(t):this.getElementWindowScrollY(t)},i.getElementWindowScrollY=function(e){var n=e.getBoundingClientRect();return n.top+t.pageYOffset},i.getElementElementScrollY=function(t){return t.offsetTop-this.top},i.onScrollHistory=function(){for(var t,e,n=this.getScrollViewY(),i=0;i<this.scrollPages.length;i++){var r=this.scrollPages[i];if(r.top>=n)break;t=i,e=r}t!=this.scrollPageIndex&&(this.scrollPageIndex=t,this.setHistory(e.title,e.path))},n.debounceMethod(e,"onScrollHistory",150),i.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:t.pageYOffset+this.windowHeight/2},i.setHistory=function(t,e){var n=this.options.history,i=n&&history[n+"State"];i&&(history[n+"State"](null,t,e),this.options.historyTitle&&(document.title=t),this.dispatchEvent("history",null,[t,e]))},i.onUnload=function(){var e=this.scrollPageIndex;if(0!==e){var n=this.scrollPages[e],i=t.pageYOffset-n.top+this.top;this.destroyHistory(),scrollTo(0,i)}},i.onPageLoadHistory=function(t,e){this.setHistory(t.title,e)},e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(n,i){return e(t,n,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,n){function i(t,e){this.element=t,this.infScroll=e,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),e.on("request",this.disable.bind(this)),e.on("load",this.enable.bind(this)),e.on("error",this.hide.bind(this)),e.on("last",this.hide.bind(this))}return e.create.button=function(){var t=n.getQueryElement(this.options.button);return t?void(this.button=new i(t,this)):void 0},e.destroy.button=function(){this.button&&this.button.destroy()},i.prototype.onClick=function(t){t.preventDefault(),this.infScroll.loadNextPage()},i.prototype.enable=function(){this.element.removeAttribute("disabled")},i.prototype.disable=function(){this.element.disabled="disabled"},i.prototype.hide=function(){this.element.style.display="none"},i.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},e.Button=i,e}),function(t,e){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(n,i){return e(t,n,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("./core"),require("fizzy-ui-utils")):e(t,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,n){function i(t){o(t,"none")}function r(t){o(t,"block")}function o(t,e){t&&(t.style.display=e)}var s=e.prototype;return e.create.status=function(){var t=n.getQueryElement(this.options.status);t&&(this.statusElement=t,this.statusEventElements={request:t.querySelector(".infinite-scroll-request"),error:t.querySelector(".infinite-scroll-error"),last:t.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(t){var e=this.options.append?"append":"load";this[t](e,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(t){r(this.statusElement),this.hideStatusEventElements();var e=this.statusEventElements[t];r(e)},s.hideAllStatus=function(){i(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var t in this.statusEventElements){var e=this.statusEventElements[t];i(e)}},e}),function(t,e){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}(window,function(t){return t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function n(t,e){for(var n in e)t[n]=e[n];return t}function i(t){if(Array.isArray(t))return t;var e="object"==typeof t&&"number"==typeof t.length;return e?c.call(t):[t]}function r(t,e,o){if(!(this instanceof r))return new r(t,e,o);var s=t;return"string"==typeof t&&(s=document.querySelectorAll(t)),s?(this.elements=i(s),this.options=n({},this.options),"function"==typeof e?o=e:n(this.options,e),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(s||t))}function o(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,l=t.console,c=Array.prototype.slice;r.prototype=Object.create(e.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var s=o[i];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var r=i&&i[2];r&&this.addBackground(r,t),i=n.exec(e.backgroundImage)}},r.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var n=new s(t,e);this.images.push(n)},r.prototype.check=function(){function t(t,n,i){setTimeout(function(){e.progress(t,n,i)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},r.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(o.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(a=e,a.fn.imagesLoaded=function(t,e){var n=new r(this,t,e);return n.jqDeferred.promise(a(this))})},r.makeJQueryPlugin(),r}),function(){var t;t=function(){function t(){this.$openModalLink=$("[data-likes-modal=open]"),this.$modal=$("[data-likes-modal=modal]"),this.setup()}return t.prototype.setup=function(){return this.$openModalLink.on("click",function(t){return function(e){return e.preventDefault(),t.fetchLikes().then(function(e){var n;return t.openModal(e),n="[data-role=pagination] .next_page:not(.unavailable) a",0!==$(n).length?$("[data-likes-list]").infiniteScroll({hideNav:"[data-role=pagination]",path:n,append:"[data-likes-list] .like-row",elementScroll:"[data-likes-modal='modal']",history:!1}):void 0})}}(this))},t.prototype.fetchLikes=function(){return $.get(this.$openModalLink.attr("href"))},t.prototype.openModal=function(t){return this.$modal.html(t).foundation("reveal","open")},t}(),this.CP.Home.LikesModal=t}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=function(){function t(t){var n;this.$gallery=t,this.rightArrow=e(this.rightArrow,this),this.leftArrow=e(this.leftArrow,this),this.bindNavigation=e(this.bindNavigation,this),this.unbindNavigation=e(this.unbindNavigation,this),this.keyMap={37:this.leftArrow,39:this.rightArrow},this.$window=$(window),this.keys=Object.keys(this.keyMap),this.bindNavigation(),n=$("input, textarea"),n.on("focus",this.unbindNavigation),n.on("blur",this.bindNavigation)}return t.setup=function(t){return new this($(t))},t.prototype.unbindNavigation=function(){return this.$window.off("keyup.imageGalleryNavigation")},t.prototype.bindNavigation=function(){return this.$window.on("keyup.imageGalleryNavigation",function(t){return function(e){var i;return i=e.which.toString(),n.call(t.keys,i)>=0?t.keyMap[i]():void 0}}(this))},t.prototype.leftArrow=function(){return this.navigate(".orbit-prev")},t.prototype.rightArrow=function(){return this.navigate(".orbit-next")},t.prototype.navigate=function(t){return this.$gallery.find(t).click()},t}(),this.CP.Home.ArrowKeyGalleryNavigation=t}.call(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),h=i(u),d=n(3),p=i(d),f=n(4),m=i(f),g=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return s(e,t),c(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===l(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=m["default"](t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new h["default"]({action:this.action(e),target:this.target(e),text:this.text(e),
container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return a("action",t)}},{key:"defaultTarget",value:function(t){var e=a("target",t);return e?document.querySelector(e):void 0}},{key:"defaultText",value:function(t){return a("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(p["default"]);t.exports=g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),l=i(a),c=function(){function t(e){r(this,t),this.resolveOptions(e),this.initSelection()}return s(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=l["default"](this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=l["default"](this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=c},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(t),i.removeAllRanges(),i.addRange(r),e=i.toString()}return e}t.exports=n},function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;r>i;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;s>o;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return r(t,e,n);if(a.nodeList(t))return o(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return l(document.body,t,e,n)}var a=n(5),l=n(6);t.exports=i},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e,n){function i(t,e,n,i,r){var s=o.apply(this,arguments);return t.addEventListener(n,s,r),{destroy:function(){t.removeEventListener(n,s,r)}}}function r(t,e,n,r,o){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return i(t,e,n,r,o)}))}function o(t,e,n,i){return function(n){n.delegateTarget=s(n.target,e),n.delegateTarget&&i.call(t,n)}}var s=n(7);t.exports=r},function(t,e){function n(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=n}])}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.lightbox=e(t.jQuery)}(this,function(t){function e(e){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(e)}return e.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},e.prototype.option=function(e){t.extend(this.options,e)},e.prototype.imageCountLabel=function(t,e){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,e)},e.prototype.init=function(){var e=this;t(document).ready(function(){e.enable(),e.build()})},e.prototype.enable=function(){var e=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(n){return e.start(t(n.currentTarget)),!1})},e.prototype.build=function(){if(!(t("#lightbox").length>0)){var e=this;t('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" aria-label="Previous image" href="" ></a><a class="lb-next" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return e.end(),!1}),this.$lightbox.hide().on("click",function(n){"lightbox"===t(n.target).attr("id")&&e.end()}),this.$outerContainer.on("click",function(n){return"lightbox"===t(n.target).attr("id")&&e.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===e.currentImageIndex?e.changeImage(e.album.length-1):e.changeImage(e.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return e.currentImageIndex===e.album.length-1?e.changeImage(0):e.changeImage(e.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(t){3===t.which&&(e.$nav.css("pointer-events","none"),e.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(e),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return e.end(),!1})}},e.prototype.start=function(e){function n(t){i.album.push({alt:t.attr("data-alt"),link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var i=this,r=t(window);r.on("resize",t.proxy(this.sizeOverlay,this)),this.sizeOverlay(),this.album=[];var o,s=0,a=e.attr("data-lightbox");if(a){o=t(e.prop("tagName")+'[data-lightbox="'+a+'"]');for(var l=0;l<o.length;l=++l)n(t(o[l])),o[l]===e[0]&&(s=l)}else if("lightbox"===e.attr("rel"))n(e);else{o=t(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var c=0;c<o.length;c=++c)n(t(o[c])),o[c]===e[0]&&(s=c)}var u=r.scrollTop()+this.options.positionFromTop,h=r.scrollLeft();this.$lightbox.css({top:u+"px",left:h+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&t("body").addClass("lb-disable-scrolling"),this.changeImage(s)},e.prototype.changeImage=function(e){var n=this,i=this.album[e].link,r=i.split(".").slice(-1)[0],o=this.$lightbox.find(".lb-image");this.disableKeyboardNav(),this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var s=new Image;s.onload=function(){var a,l,c,u,h,d,p;o.attr({alt:n.album[e].alt,src:i}),a=t(s),o.width(s.width),o.height(s.height),p=t(window).width(),d=t(window).height(),h=p-n.containerPadding.left-n.containerPadding.right-n.imageBorderWidth.left-n.imageBorderWidth.right-20,u=d-n.containerPadding.top-n.containerPadding.bottom-n.imageBorderWidth.top-n.imageBorderWidth.bottom-n.options.positionFromTop-70,"svg"===r&&(0===s.width||0===s.height)&&(o.width(h),o.height(u)),n.options.fitImagesInViewport?(n.options.maxWidth&&n.options.maxWidth<h&&(h=n.options.maxWidth),n.options.maxHeight&&n.options.maxHeight<u&&(u=n.options.maxHeight)):(h=n.options.maxWidth||s.width||h,u=n.options.maxHeight||s.height||u),(s.width>h||s.height>u)&&(s.width/h>s.height/u?(c=h,l=parseInt(s.height/(s.width/c),10),o.width(c),o.height(l)):(l=u,c=parseInt(s.width/(s.height/l),10),o.width(c),o.height(l))),n.sizeContainer(o.width(),o.height())},s.src=this.album[e].link,this.currentImageIndex=e},e.prototype.sizeOverlay=function(){var e=this;setTimeout(function(){e.$overlay.width(t(document).width()).height(t(document).height())},0)},e.prototype.sizeContainer=function(t,e){function n(){i.$lightbox.find(".lb-dataContainer").width(s),i.$lightbox.find(".lb-prevLink").height(a),i.$lightbox.find(".lb-nextLink").height(a),i.$overlay.focus(),i.showImage()}var i=this,r=this.$outerContainer.outerWidth(),o=this.$outerContainer.outerHeight(),s=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,a=e+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;r!==s||o!==a?this.$outerContainer.animate({width:s,height:a},this.options.resizeDuration,"swing",function(){n()}):n()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var t=this;if("undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var e=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?e.text(this.album[this.currentImageIndex].title):e.html(this.album[this.currentImageIndex].title),e.fadeIn("fast")}if(this.album.length>1&&this.options.showImageNumberLabel){var n=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(n).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return t.sizeOverlay()})},e.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var e=new Image;e.src=this.album[this.currentImageIndex-1].link}},e.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",t.proxy(this.keyboardAction,this)),this.$overlay.on("keyup.keyboard",t.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard"),this.$overlay.off(".keyboard")},e.prototype.keyboardAction=function(t){var e=27,n=37,i=39,r=t.keyCode;r===e?(t.stopPropagation(),this.end()):r===n?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):r===i&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),this.options.disableScrolling&&t("body").removeClass("lb-disable-scrolling")},new e}),function(){CP.Home.highlight_achievement=function(){var t;return t=$(window.location.hash),t.is("[data-user-achievement-tile]")?t.addClass("highlighted"):void 0}}.call(this),function(){var t;t=function(){function t(t){this.progressUrl=t.progressUrl}return t.prototype.displayProgress=function(){return $.when(this.getAchievements()).then(function(t){return function(e){var n,i,r,o,s;for(o=e.achievements,s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(t.displayAchievementProgress(n));return s}}(this))},t.prototype.displayAchievementProgress=function(t){var e,n,i;return n=t.achievement_id,this.$progress=$("#achievement_"+n).find("[data-progression]"),t.reached_max_level?(this.updateProgressWithTemplate($("[data-max-level-template]")),void this.$progress.show()):(i=parseInt(t.progress),isNaN(i)||0>=i?void 0:(e=this.$progress.is("[data-achieved='true']")?$("[data-more-to-level-up-template]"):$("[data-more-to-achieve-template]"),this.updateProgressWithTemplate(e),this.$progress.find("[data-amount]").text(i),this.$progress.show()))},t.prototype.updateProgressWithTemplate=function(t){var e;return e=_.template(t.html()),this.$progress.html(e())},t.prototype.getAchievements=function(){return $.get(this.progressUrl)},t}(),this.CP.Home.AchievementsProgress=t}.call(this),function(){var t,e,n,i,r,o=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function e(e){this.fail=o(this.fail,this),this.always=o(this.always,this),this.done=o(this.done,this),this.add=o(this.add,this),this.settings=_.extend({container:"[data-image-gallery-container]",fileInput:"input:file",fileList:"[data-image-gallery-list]",url:null,formData:{authenticity_token:$('meta[name="csrf-token"]').attr("content")},maxFileSize:5e6,Model:n,AttachmentView:t},e),this.$container=$(this.settings.container),this.$fileInput=$(this.settings.fileInput),this.$fileList=$(this.settings.fileList),this.renderAttachedPhoto(this.$fileList.data("photo")),this.url=this.settings.url||this.$fileInput.data("photoUploadAction"),this.$fileInput.fileupload({add:this.add,always:this.always,done:this.done,dropZone:this.$container,pasteZone:null,fail:this.fail,formData:this.settings.formData,dataType:"json",type:"POST",url:this.url})}return e.prototype.renderAttachedPhoto=function(t){var e,n;if(null!=t)return e=new this.settings.Model(t),n=new this.settings.AttachmentView({model:e}),n.render(),this.$fileList.html(n.$el),n},e.prototype.add=function(t,e){var n,r,o,s,a;return r=e.files[0],n=i(r,{isUploading:!0}),s=this.renderAttachedPhoto(n),e.context=s.model,r.size>this.settings.maxFileSize?(o=s.model,void o.set({isUploading:!1,uploadError:"Image size is too big. Please choose an image under 5 MB"})):(a=e.submit(),s.on("attachment:upload:abort",function(){return a.abort()}))},e.prototype.done=function(t,e){var n,i,o;return o=e.context,i=r(e.result),n=_.extend(i,{isUploading:!1}),n.errors?o.set(_.extend(n,{uploadError:n.errors})):o.set(_.extend(n,{isUploaded:!0}))},e.prototype.always=function(t,e){var n;return n=e.context,n.get("isUploading")?n.set("isUploading",!1):void 0},e.prototype.fail=function(t,e){var n;return n=e.context,n.set({wasCanceled:!0})},e.setup=function(t){return new this(t)},e}(),i=function(t,e){return null==e&&(e={}),_.extend({name:t.name,size:$.formatNumber("fileSize",t.size),type:t.type},e)},r=function(t){return function(t){if("object"==typeof t)return t.photo;try{t=$(t).text()}catch(e){}return t=JSON.parse(t),t.photo}}(this),n=Backbone.Model.extend({initialize:function(){return this.set("displayName",$.truncate(this.get("name"),20,{omission:"[\u2026]",separator:".",extension:!0}))},defaults:{id:null,name:null,size:null,type:null,displayName:null,uploadError:!1,isUploading:!1,isUploaded:!1,wasCanceled:!1}}),t=Backbone.View.extend({initialize:function(){return _.bindAll(this,"render"),this.model.bind("change",this.render)},template:JST["home/templates/user_stylesheets/attached_photo"],render:function(){return this.$el.toggleClass("working",this.model.get("isUploading")).toggleClass("canceled",this.model.get("wasCanceled")).toggleClass("error",this.model.get("uploadError")),this.$el.html(this.template(this.model.toJSON())),this.addPhoto(),this},attributes:{"class":"photo-item panel"},abortUpload:function(){return this.trigger("attachment:upload:abort")},removePhoto:function(t){return this.$el.trigger("attachment:photo:remove"),this.remove()},addPhoto:function(){return this.$el.trigger("attachment:photo:add")},events:{"click .abort":"abortUpload","click .remove":"removePhoto"}}),this.CP.Home.BackgroundImageUploader=e}.call(this),function(){var t;t=function(){function t(t,e,n){this.submittedChallenges=t,this.winningChallenges=e,this.draftedChallenges=n}return t.prototype.setup=function(){return this.submittedChallenges.forEach(function(t){return function(e){return t.submittedBadge(e)}}(this)),this.winningChallenges.forEach(function(t){return function(e){return t.winnerBadge(e)}}(this)),this.draftedChallenges.forEach(function(t){return function(e){return t.draftBadge(e)}}(this))},t.prototype.submittedBadge=function(t){return this.addToContent(t,'<span class="participation-badge submitted"><i class="fa fa-check"></i> Submitted</span>')},t.prototype.winnerBadge=function(t){return this.addToContent(t,'<span class="participation-badge winner"><i class="fa fa-trophy"></i> Winner</span>')},t.prototype.draftBadge=function(t){return this.addToContent(t,'<span class="participation-badge draft"><i class="fas fa-drafting-compass"></i> Draft submission</span>')},t.prototype.addToContent=function(t,e){return $(".challenge-listing[data-id='"+t+"']").find(".content").append(e)},t}(),CP.Home.ChallengeBadges=t}.call(this),function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,v,b,y,w,S,x,k=[].slice,C=function(t,e){return function(){return t.apply(e,arguments)}};u=function(t){var e;return e=$.extend({container:"#container",targetClass:"edit-stylesheet-form-target",form:"form",cancelLinkTo:"a.cancel",backgroundColorInput:"input[name*='background_color']",submitButton:"input:submit",linkTo:"a.remote",backgroundColorPreview:".user-background-color",backgroundImagePreview:".user-background-image",fileInputLabel:".fileinput-button label"},t),o(e),w(e),m(e)},c=["stylesheet:init","stylesheet:get:start","stylesheet:get:finish","stylesheet:cancel","stylesheet:change","stylesheet:sync","stylesheet:saved","stylesheet:error"],w=function(t,e){return t.attributes||(t.attributes={}),e||(e={}),t.attributes.background_color=e.background_color||$(t.backgroundColorPreview).css("background-color"),t.attributes.background_image=e.background_image||$(t.backgroundImagePreview).css("background-image")},o=function(t){var e;return e=$("<div>",{"class":t.targetClass}).prependTo(t.container),t.target=e},x=[],m=function(n){var i,o,u,h;return n.observer=p(n),u=$(n.linkTo),h=$(n.target),i=$(n.backgroundColorPreview),o=$(n.backgroundImagePreview),u.on("click",d(n)),h.on("click",n.cancelLinkTo,s(n)),h.on("change keyup",n.backgroundColorInput,a(n)),h.on("click",n.submitButton,S(n)),$(document.body).on(c.join(" "),function(){var t,e;return e=arguments[0],t=2<=arguments.length?k.call(arguments,1):[],e.target===this?n.observer.trigger(e.type,t):void 0}),h.on("stylesheet:init",function(){var e;return(e=$(this).data()).spinner||(e.spinner=new t(this,{color:"#999"}))}),h.on("stylesheet:saved",function(t,e){return t.target===this?($(this).data("spinner").stop(),w(n,e),l.call(this)):void 0}),h.on("stylesheet:get:finish",function(){return r.setup(".simple-color-picker"),$("[data-image-gallery-container]").length?(e.setup({container:"[data-image-gallery-container]"}),b(n)):void 0}),h.on("stylesheet:cancel",function(t){return t.target===this?(n.observer.trigger("stylesheet:change",n.attributes),l.call(this)):void 0}),h.on("stylesheet:error",function(t,e){var i,r,o,s;if(t.target===this){$(this).data("spinner").stop(),s=[];for(i in e)o=e[i],r="<span class='error'>"+[o].join(", ")+"</span>",s.push(y(n,i,r));return s}}),h.on("stylesheet:change",function(t,e){var i,r,o;if(t.target===this){r=[];for(i in e)o=e[i],r.push(y(n,i));return r}}),h.on("attachment:photo:remove",function(t,e){return n.removePhotoField&&n.removePhotoField.trigger("attachment:photo:remove"),n.observer.trigger("stylesheet:change",{background_image:"none"}),$(this).find(n.fileInputLabel).text("Choose photo")}),h.on("attachment:photo:add",function(t,e){return n.removePhotoField&&n.removePhotoField.trigger("attachment:photo:add"),$(this).find(n.fileInputLabel).text("Change photo")}),h.on("fileuploadsend",function(t,e){var i;return i=e.files[0],_.defer(function(){var t;return t=function(t){var e;return e=t.toDataURL(),n.observer.trigger("stylesheet:change",{background_image:"url("+e+")"})},window.loadImage(i,t,{maxwidth:1200,cover:!0,canvas:!0})})}),h.on("stylesheet:sync",function(){return $(this).data("spinner").spin()}),u.on("stylesheet:init stylesheet:saved stylesheet:cancel",function(e){var n;return e.preventDefault(),(n=$(this).data()).spinner||(n.spinner=new t(this,{color:"#F0F0F0",length:5,width:3,radius:5,left:"-18px",top:"17px"})),$(this).addClass("visible").removeClass("disabled")}),u.on("stylesheet:get:start",function(t){return $(this).addClass("disabled"),$(this).data("spinner").spin()}),u.on("stylesheet:get:finish",function(){return $(this).removeClass("visible"),$(this).data("spinner").stop()}),i.on("stylesheet:change",function(t,e){return e&&e.background_color?$(this).css({"background-color":e.background_color}):void 0}),o.on("stylesheet:change",function(t,e){return e&&e.background_image?$(this).css({"background-image":e.background_image}):void 0}),n.observer.trigger("stylesheet:init")},h=function(t){return $.ajax({url:$(t.linkTo).attr("href"),dataType:"html",data:{layout:!1}})},v=function(t,e){return $(this).slideUp(function(){return $(this).html(t).slideDown(function(){return e(),$(this).css("overflow","")})})},l=function(){return _(x).each(function(t){return t.remove()}),$(this).slideUp(function(){return $(this).empty()})},d=function(t){return function(e){var n;return e.preventDefault(),t.observer.trigger("stylesheet:get:start"),n=h(t),n.done(function(e){return v.call($(t.target),e,function(){return t.observer.trigger("stylesheet:get:finish")})}),n.error(function(e,n,i){var r;return r="<p>We are currently experiencing issues with Portfolio Customization, please try again shortly.</p>",v.call($(t.target),r,function(){return t.observer.trigger("stylesheet:get:finish")}),g("Error",i)})}},S=function(t){return function(e){return t.observer.trigger("stylesheet:sync")}},s=function(t){return function(e){return e.preventDefault(),t.observer.trigger("stylesheet:cancel")}},a=function(t){return function(e){var n;return e.preventDefault(),n=$(this).val(),f($(this).val())?t.observer.trigger("stylesheet:change",{background_color:$(this).val()}):t.observer.trigger("stylesheet:error",{background_color:"must be a valid hex color"})}},f=function(t){return t.match(/^#([0-9a-f]{6}|[0-9a-f]{3})$/i)},y=function(t,e,n){var i;return i=$(t.target).find("input[name*="+e+"]").parent(),i.find(".error").remove(),n?i.append(n):void 0},b=function(t){var e;return e=new i,t.removePhotoField=e,$(t.target).find(t.form).append(e.render().el)},p=function(t){var e;return e=new n(c),e.observe(t.target,t.linkTo,t.backgroundColorPreview,t.backgroundImagePreview,t.backgroundColorInput),e},g=function(){var t;return t=1<=arguments.length?k.call(arguments,0):[],window.debug?console.log.apply(console,t):void 0},t=function(){function t(t,e){this.el=t,this.options=e}return t.prototype.stop=function(){return this.spinner?this.spinner.stop():void 0},t.prototype.spin=function(){return this.spinner||(this.spinner=new Spinner(this.options)),this.spinner.spin(this.el)},t}(),n=function(){function t(t){this.notify=C(this.notify,this),_.extend(this,Backbone.Events),this.registry=[],this.events=[],this.listenFor(t)}return t.prototype.observe=function(){var t;return t=1<=arguments.length?k.call(arguments,0):[],_(t).each(function(t){return function(e){return t.registry.push(e)}}(this))},t.prototype.listenFor=function(t){return this.events=this.events.concat(t),_(t).each(function(t){return function(e){return t.on(e,function(n){return t.notify(e,n)},t)}}(this))},t.prototype.notify=function(t,e){return _(this.registry).each(function(n){return function(n){return $(n).trigger(t,e)}}(this))},t}(),i=Backbone.View.extend({initialize:function(){return _.bindAll(this,"yes","no"),this.on("attachment:photo:remove",this.yes),this.on("attachment:photo:add",this.no)},render:function(){var t;return t=_.template($("#removing-photo-field").html()),this.$el.html(t()),this},events:{"attachment:photo:remove":"yes","attachment:photo:add":"no"},yes:function(){return this.$el.find("input").val("yes")},no:function(){return this.$el.find("input").val("no")}}),r=this.CP.SimpleColorPicker,e=this.CP.Home.BackgroundImageUploader,this.CP.Home.editStylesheetAction=u}.call(this),function(){CP.Home.toggleExpandable=function(){return $(".expandable").each(function(){var t,e,n;return e=$(this),n=e.find(".expandable-toggle"),t=e.find(".expandable-content"),n.on("click",function(e){return e.preventDefault(),t.slideToggle("fast",function(){return n.toggleClass("expandable-close",t.is(":visible"))})})})}}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n=[].slice;t=function(){function t(t){this.$base=t,this.dismiss=e(this.dismiss,this),this.setListeners()}return t.prototype.cookie_key="platform.notifications.follow.dismissed",t.prototype.domain="devpost.com",t.prototype.setListeners=function(){return this.$base.on("click",'[data-follow-alert="close"]',this.dismiss)},t.prototype.dismiss=function(t){return t.preventDefault(),this.persist(),this.close()},t.prototype.persist=function(){return $.cookie(this.cookie_key,"dismissed",{expires:30,domain:this.domain,path:"/"})},t.prototype.wasDismissed=function(){return!!$.cookie(this.cookie_key)},t.prototype.close=function(){return this.$base.slideUp(function(t){return function(){return t.$base.remove()}}(this))},t.setup=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,t,function(){})},t}(),this.CP.Home.FollowBanner=t}.call(this),function(){var t;t=function(){function t(){this.buttonWrapperSelector="[data-follow-request-actions]",this.userCardSelector=".block-wrapper-link",this.$buttons=$("[data-follow-request-button]"),this.$followerCount=$("#portfolio-navigation [data-followers-tab] .totals"),this.setup()}return t.prototype.setup=function(){return this.$buttons.on("click",function(t){return function(e){var n;return e.preventDefault(),n=$(e.currentTarget),$.post(n.data("action")).done(function(e){return t.onDone(e,n)}).fail(function(e){return t.onFail(e,n)})}}(this))},t.prototype.onDone=function(t,e){var n;return n=e.closest(this.buttonWrapperSelector),n.html($("<p class='small success'>"+t.message+"</p>")),this.$followerCount.text(t.followers_count)},t.prototype.onFail=function(t,e){return alert("An error occured. Reload the page and try again!")},t}(),this.CP.Home.FollowRequests=t}.call(this),function(){var t;t=function(){function t(t){this.hiddenSoftwareIds=t}return t.prototype.setup=function(){return this.hiddenSoftwareIds.forEach(function(t){return function(e){return t.addFlag(e)}}(this))},t.prototype.addFlag=function(t){return $("#software_"+t+".software-entry").append('<div class="entry-state"><p class="small bold all-caps hidden">Hidden</p></div>')},t}(),CP.Home.HiddenBannerUtility=t}.call(this),function(){var t,e,n,i,r=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty,a=[].slice;t=function(){function t(t){null==t&&(t={}),this.options=$.extend({},this["default"],t),this.deferred=$.Deferred(this.options.beforeStart),
this.saveLike()}return t.prototype["default"]={dataType:"JSON",beforeStart:$.noop},t.prototype.saveLike=function(){return this.xhr=$.ajax({url:this.options.url,type:this.options.method,dataType:this.options.dataType,beforeSend:this.options.beforeStart})},t.prototype.promise=function(){return this.xhr.promise()},t.likePromise=function(e){var n;return n=new t(e),n.promise()},t}(),e=function(){function t(){this.likeCallbacks=$.Callbacks(),this.unlikeCallbacks=$.Callbacks(),this.beforeStartCallbacks=$.Callbacks(),this.finishCallbacks=$.Callbacks(),this.errorCallbacks=$.Callbacks(),this.successCallbacks=$.Callbacks()}return t.prototype.onLike=function(t){return this.likeCallbacks.add(t)},t.prototype.onUnlike=function(t){return this.unlikeCallbacks.add(t)},t.prototype.onError=function(t){return this.errorCallbacks.add(t)},t.prototype.onSuccess=function(t){return this.successCallbacks.add(t)},t.prototype.onFinish=function(t){return this.finishCallbacks.add(t)},t.prototype.beforeStart=function(t){return this.beforeStartCallbacks.add(t)},t}(),n=function(e){function n(t){this.$link=t,this.fireActionCallbacks=r(this.fireActionCallbacks,this),this.fireWithThis=r(this.fireWithThis,this),n.__super__.constructor.call(this)}return o(n,e),n.prototype.likeOrUnlike=function(){var e;return e=t.likePromise({beforeStart:this.beforeStartCallbacks.fire,url:this.$link.attr("href"),method:this.$link.data("method")}),e.done(this.fireActionCallbacks),e.fail(this.fireWithThis(this.errorCallbacks)),e.always(this.fireWithThis(this.finishCallbacks)),this},n.prototype.beforeStart=function(t){return this.beforeStartCallbacks.add($.proxy(t,this))},n.prototype.fireWithThis=function(t){var e;return e=this,function(){var n;return n=1<=arguments.length?a.call(arguments,0):[],t.fireWith(e,n)}},n.prototype.isLiking=function(){var t;return"POST"===(null!=(t=this.$link.data("method"))?t.toUpperCase():void 0)},n.prototype.isUnliking=function(){var t;return"DELETE"===(null!=(t=this.$link.data("method"))?t.toUpperCase():void 0)},n.prototype.fireActionCallbacks=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],this.isLiking()&&this.likeCallbacks.fireWith(this,t),this.isUnliking()&&this.unlikeCallbacks.fireWith(this,t),this.successCallbacks.fireWith(this,t)},n}(e),i=function(t){function e(){this.onClick=r(this.onClick,this),e.__super__.constructor.call(this),this.setListeners()}return o(e,t),e.containerSelector='[data-like="base"]',e.likeButtonSelectors="[data-like=like-button], [data-like=unlike-button]",e.prototype.setListeners=function(){return $("body").on("click",e.likeButtonSelectors,this.onClick)},e.prototype.onClick=function(t){var e,i;return e=$(t.currentTarget),i=new n(e),i.onLike(this.likeCallbacks.fire),i.onUnlike(this.unlikeCallbacks.fire),i.onFinish(this.finishCallbacks.fire),i.onError(this.errorCallbacks.fire),i.onSuccess(this.successCallbacks.fire),i.beforeStart(this.beforeStartCallbacks.fire),i.likeOrUnlike(),!1},e}(e),CP.Home.likeWidget=function(){var t;return t=new i,t.beforeStart(function(){return this.$link.addClass("disabled")}),t.onFinish(function(){return this.$link.removeClass("disabled")}),t.onSuccess(function(t){return $(i.containerSelector).replaceWith(t.html)}),t.onLike(function(t){return null!=t.event_title?mixpanel.track(t.event_title,t.event_properties):void 0}),t}()}.call(this),function(){var t,e,n,i,r,o,s,a,l,c;a={},t=Backbone.View.extend({tagName:"div",id:"star-error-modal",className:"reveal-modal tiny",template:JST["home/templates/software/portfolios/starring_error"],initialize:function(){return this.errorCount=0},errorJSON:function(t){return{errorCount:this.errorCount,errorMessages:t}},render:function(t){return this.errorCount+=1,this.$el.html(this.template(this.errorJSON(t))),$("body").append(this.$el),this.$el.foundation("reveal","open")}}),n=Backbone.View.extend({tagName:"i",attributes:{"data-options":"disable-for-touch:true"},refreshTipZone:function(){var t;return t=Foundation.libs.tooltips.getTip(this.$el),null!=t?(t.remove(),this.$el.data("selector",null)):void 0},addTip:function(){var t;return this.refreshTipZone(),t=a.tipText(this),null!=t?this.$el.attr({title:t,"data-tooltip":""}):(this.$el.removeAttr("title"),this.$el.removeAttr("data-tooltip"))},create:function(){return this.render(),$("#software_"+this.model.get("softwareId")).append(this.$el)},render:function(){return this.addTip(),this.$el.attr("class",null),this.$el.attr("class",this.starClasses())},starClasses:function(){return["ss-icon","ss-star","software-thumbnail-star","tip-top",this.model.statusClass()].join(" ")}}),e=Backbone.Model.extend({defaults:{isStarred:!1,isProcessing:!1},statusClass:function(){var t;return t=[],t.push(this.isStarred()?"software-thumbnail-starred":"software-thumbnail-not-starred"),this.isProcessing()&&t.push("software-thumbnail-processing"),t.join(" ")},star:function(){return this.set("isStarred",!0)},unstar:function(){return this.set("isStarred",!1)},toggleStar:function(){return this.set("isStarred",!this.get("isStarred"))},isStarred:function(){return this.get("isStarred")},isProcessing:function(){return this.get("isProcessing")},toggleAndPersist:function(){return this.isProcessing()?void 0:(this.startProcessing(),this.isStarred()?this.persistUnstar():this.persistStar())},persistOperation:function(t){var e;return e=$.ajax({type:t,url:this.starUrl()}),e.then($.proxy(this.updateStarCount,this)),e.fail($.proxy(this.handleError,this)),e.always($.proxy(this.stopProcessing,this)),e},persistStar:function(){return this.persistOperation("post").then($.proxy(this.star,this))},persistUnstar:function(){return this.persistOperation("delete").then($.proxy(this.unstar,this))},updateStarCount:function(t){return a.updateStarredIds(t.stars)},startProcessing:function(){return this.set("isProcessing",!0)},stopProcessing:function(){return window.setTimeout(function(t){return function(){return t.set("isProcessing",!1)}}(this),500)},handleError:function(t,e,n){var i;return i=$.parseJSON(t.responseText),this.renderError(i.messages)},renderError:function(e){return null==this.errorView&&(this.errorView=new t),this.errorView.render(e)},starUrl:function(){return this.get("softwareUrl")+"/star"}}),s=Backbone.Collection.extend({model:e}),r=n.extend({events:{click:"toggleStar",mouseup:"stopImmediatePropagation"},initialize:function(t){var e;return this.listenTo(this.model,"change",this.render),e=$("#software_"+this.model.get("softwareId")).closest(".block-wrapper-link"),this.model.set("softwareUrl",e.attr("href"))},toggleStar:function(t){return this.stopImmediatePropagation(t),this.model.toggleAndPersist()},stopImmediatePropagation:function(t){return t.stopImmediatePropagation(),t.preventDefault()}}),o=Backbone.View.extend({el:"#software-entries",initialize:function(t){return a=this,this.userUrl=t.userUrl,this.userName=t.userName,this.fetchStars()},tipText:function(){return"featured by "+this.userName},fetchStars:function(){return $.getJSON(this.userUrl).then(this.showStars)},showStars:function(t){var i,r,o,s,a,l,c;for(l=t.stars,o=[],i=0,r=l.length;r>i;i++)s=l[i],a=new e({softwareId:s,isStarred:!0}),c=new n({model:a}),o.push(c.create());return o}}),i=Backbone.View.extend({el:"#software-entries",initialize:function(t){return a=this,this.userUrl=t.userUrl,this.stars=new s,this.buildStars(),this.fetchStars()},fetchStars:function(){return $.getJSON(this.userUrl).then($.proxy(this.makeThemShine,this))},buildStars:function(){var t;return t=this,$("[data-software-id]").each(function(){var n,i,o,s;return n=$(this),i=n.data("softwareId"),o=new e({softwareId:i}),s=new r({model:o}),t.stars.add(o),s.create()})},tipText:function(t){return t.model.isStarred()?"Click to unstar":"Star your favorite projects (up to 4) to feature them at the top of your Portfolio."},starsCount:function(){return this.starredIds.length},makeThemShine:function(t){var e,n,i,r,o,s;for(this.updateStarredIds(t.stars),r=this.starredIds,o=[],e=0,i=r.length;i>e;e++)n=r[e],s=this.stars.findWhere({softwareId:n}),o.push(s.star());return o},updateStarredIds:function(t){return this.starredIds=t}}),l=function(t){return new i(t)},c=function(t){return new o(t)},CP.Home.PortfolioStars={starred:c,starrable:l}}.call(this),function(){var t;t=function(){function t(){this.$gifs=$("a[data-gif-player]"),this.$gifs.on("click",this.toggleGif),$(".gif-play").on("click",function(t){return $(t.currentTarget).siblings("a[data-gif-player]").trigger("click")}),this.preload()}return t.prototype.preload=function(){var t;return t=[],this.$gifs.each(function(e,n){return t[e]=new Image,t[e].src=$(n).attr("data-full-gif")})},t.prototype.toggleGif=function(t){var e,n,i,r,o,s,a;return t.preventDefault(),e=$(t.currentTarget),n=e.find("img"),r=n.attr("src"),a=r.split("."),i=a[a.length-1],"gif"!==i?(o=n.height(),s=e.attr("href"),n.attr("src",s),e.data("still",r),e.siblings(".gif-tag").addClass("playing"),e.siblings(".gif-play").hide(),n.height(o)):(n.attr("src",e.data("still")),e.siblings(".gif-tag").removeClass("playing"),e.siblings(".gif-play").show(),n.height(""))},t}(),CP.GifPlayer=t}.call(this),function(){var t;t=function(){function t(){}return t.setup=function(){var t;return t=$("#gallery ul[data-slick]"),t.on("init",function(t,e){return $(t.target).find(".slick-slide").each(function(t,e){var n;return n=$(e).find("[data-lightbox]"),n.attr("data-lightbox",n.data("lightbox")+"-"+t)})}),t.slick({dots:!0,adaptiveHeight:!0,prevArrow:"<button type='button' class='slick-prev'><i class='fas fa-chevron-left'></i></button>",nextArrow:"<button type='button' class='slick-next'><i class='fas fa-chevron-right'></i></button>"})},t}(),CP.Carousel=t}.call(this),function(t){var e=0,n=function(){return(new Date).getTime()+e++},i=function(t){return"["+t+"]$1"},r=function(t){return"_"+t+"_$1"},o=function(e,n,i){return e?"function"==typeof e?(n&&console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."),e(i)):"string"==typeof e?n?i[n](e):"this"==e?i:t(e):void 0:i.parent()};t(document).on("click",".add_fields",function(e){e.preventDefault(),e.stopPropagation();var s=t(this),a=s.data("association"),l=s.data("associations"),c=s.data("association-insertion-template"),u=s.data("association-insertion-method")||s.data("association-insertion-position")||"before",h=s.data("association-insertion-node"),d=s.data("association-insertion-traversal"),p=parseInt(s.data("count"),10),f=new RegExp("\\[new_"+a+"\\](.*?\\s)","g"),m=new RegExp("_new_"+a+"_(\\w*)","g"),g=n(),v=c.replace(f,i(g)),b=[],y=e;for(v==c&&(f=new RegExp("\\[new_"+l+"\\](.*?\\s)","g"),m=new RegExp("_new_"+l+"_(\\w*)","g"),v=c.replace(f,i(g))),v=v.replace(m,r(g)),b=[v],p=isNaN(p)?1:Math.max(p,1),p-=1;p;)g=n(),v=c.replace(f,i(g)),v=v.replace(m,r(g)),b.push(v),p-=1;var w=o(h,d,s);w&&0!=w.length||console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."),t.each(b,function(e,n){var i=t(n),r=jQuery.Event("cocoon:before-insert");if(w.trigger(r,[i,y]),!r.isDefaultPrevented()){w[u](i);w.trigger("cocoon:after-insert",[i,y])}})}),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var n=t(this),i=n.data("wrapper-class")||"nested-fields",r=n.closest("."+i),o=r.parent(),s=e;e.preventDefault(),e.stopPropagation();var a=jQuery.Event("cocoon:before-remove");if(o.trigger(a,[r,s]),!a.isDefaultPrevented()){var l=o.data("remove-timeout")||0;setTimeout(function(){n.hasClass("dynamic")?r.detach():(n.prev("input[type=hidden]").val("1"),r.hide()),o.trigger("cocoon:after-remove",[r,s])},l)}}),t(document).on("ready page:load turbolinks:load",function(){t(".remove_fields.existing.destroyed").each(function(e,n){var i=t(this),r=i.data("wrapper-class")||"nested-fields";i.closest("."+r).hide()})})}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t.returnExportsGlobal=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){"use strict";var e,n,i,r,o,s,a,l,c,u,h;u="caret",e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(t){return this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=a.selection.createRange(),t=a.body.createTextRange(),t.moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,n;return(n=this.range())?(t=n.cloneRange(),t.selectNodeContents(this.domInputor),t.setEnd(n.endContainer,n.endOffset),e=t.toString().length,t.detach(),e):a.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return t=a.selection.createRange().duplicate(),t.moveStart("character",-1),e=t.getBoundingClientRect(),{height:e.bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(e){var n,i,r,o,s;return c.getSelection&&(r=this.range())?(r.endOffset-1>0&&r.endContainer===!this.domInputor&&(n=r.cloneRange(),n.setStart(r.endContainer,r.endOffset-1),n.setEnd(r.endContainer,r.endOffset),o=n.getBoundingClientRect(),i={height:o.height,left:o.left+o.width,top:o.top},n.detach()),i&&0!==(null!=i?i.height:void 0)||(n=r.cloneRange(),s=t(a.createTextNode("|")),n.insertNode(s[0]),n.selectNode(s[0]),o=n.getBoundingClientRect(),i={height:o.height,left:o.left,top:o.top},s.remove(),n.detach())):a.selection&&(i=this.getOldIEOffset()),i&&(i.top+=t(c).scrollTop(),i.left+=t(c).scrollLeft()),i},e.prototype.range=function(){var t;if(c.getSelection)return t=c.getSelection(),t.rangeCount>0?t.getRangeAt(0):null},e}(),n=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,n,i,r,o,s;return e=this.domInputor,o=a.selection.createRange(),r=0,o&&o.parentElement()===e&&(i=e.value.replace(/\r\n/g,"\n"),n=i.length,s=e.createTextRange(),s.moveToBookmark(o.getBookmark()),t=e.createTextRange(),t.collapse(!1),r=s.compareEndPoints("StartToEnd",t)>-1?n:-s.moveStart("character",-n)),r},e.prototype.getPos=function(){return a.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,n;return e=this.domInputor,a.selection?(n=e.createTextRange(),n.move("character",t),n.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e,n,i,r;return n=this.domInputor.createTextRange(),t||(t=this.getPos()),n.move("character",t),i=n.boundingLeft,r=n.boundingTop,e=n.boundingHeight,{left:i,top:r,height:e}},e.prototype.getOffset=function(e){var n,i,r;return n=this.$inputor,a.selection?(i=this.getIEOffset(e),i.top+=t(c).scrollTop()+n.scrollTop(),i.left+=t(c).scrollLeft()+n.scrollLeft(),i):(i=n.offset(),r=this.getPosition(e),i={left:i.left+r.left-n.scrollLeft(),top:i.top+r.top-n.scrollTop(),height:r.height})},e.prototype.getPosition=function(t){var e,n,r,o,s,a,l;return e=this.$inputor,o=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),l=e.val().slice(0,t),r=e.val().slice(t),s="<span style='position: relative; display: inline;'>"+o(l)+"</span>",s+="<span id='caret' style='position: relative; display: inline;'>|</span>",s+="<span style='position: relative; display: inline;'>"+o(r)+"</span>",a=new i(e),n=a.create(s).rect()},e.prototype.getIEPosition=function(t){var e,n,i,r,o;return i=this.getIEOffset(t),n=this.$inputor.offset(),r=i.left-n.left,o=i.top-n.top,e=i.height,{left:r,top:o,height:e}},e}(),i=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,n=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,function(t,i){return e[i]=n.$inputor.css(i)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,n;return t=this.$mirror.find("#caret"),e=t.position(),n={left:e.left,top:e.top,height:t.height()},this.$mirror.remove(),n},e}(),r={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},s={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return a.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){var e;return e=this.getOffset(t)}},a=null,c=null,l=null,h=function(t){var e;return(e=null!=t?t.iframe:void 0)?(l=e,c=e.contentWindow,a=e.contentDocument||c.document):(l=void 0,c=window,a=document)},o=function(t){var e;a=t[0].ownerDocument,c=a.defaultView||a.parentWindow;try{return l=c.frameElement}catch(n){e=n}},t.fn.caret=function(i,o,a){var l;return s[i]?(t.isPlainObject(o)?(h(o),o=void 0):h(a),l=r.contentEditable(this)?new e(this):new n(this),s[i].apply(l,[o])):t.error("Method "+i+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=n,t.fn.caret.Utils=r,t.fn.caret.apis=s}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e,n,i,r,o,s,a,l,c,u,h=[].slice,d=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;e=t,i=function(){function t(t){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=e(t),this.setupRootElement(),this.listen()}return t.prototype.createContainer=function(t){var n;return null!=(n=this.$el)&&n.remove(),e(t.body).append(this.$el=e("<div class='atwho-container'></div>"))},t.prototype.setupRootElement=function(t,n){var i;if(null==n&&(n=!1),t)this.window=t.contentWindow,this.document=t.contentDocument||this.window.document,this.iframe=t;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(r){if(i=r,this.iframe=null,e.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+i)}}return this.createContainer((this.iframeAsRoot=n)?this.document:document)},t.prototype.controller=function(t){var e,n,i,r;if(this.aliasMaps[t])n=this.controllers[this.aliasMaps[t]];else{r=this.controllers;for(i in r)if(e=r[i],i===t){n=e;break}}return n?n:this.controllers[this.currentFlag]},t.prototype.setContextFor=function(t){return this.currentFlag=t,this},t.prototype.reg=function(t,e){var n,i;return i=(n=this.controllers)[t]||(n[t]=this.$inputor.is("[contentEditable]")?new s(this,t):new c(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),i.init(e),this},t.prototype.listen=function(){return this.$inputor.on("compositionstart",function(t){return function(e){var n;return null!=(n=t.controller())&&n.view.hide(),t.isComposing=!0}}(this)).on("compositionend",function(t){return function(e){return t.isComposing=!1}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("blur.atwhoInner",function(t){return function(e){var n;return(n=t.controller())?(n.expectedQueryCBId=null,n.view.hide(e,n.getOpt("displayTimeout"))):void 0}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this)).on("scroll.atwhoInner",function(t){return function(){var e;return e=t.$inputor.scrollTop(),function(n){var i,r;return i=n.target.scrollTop,e!==i&&null!=(r=t.controller())&&r.view.hide(n),e=i,!0}}}(this)())},t.prototype.shutdown=function(){var t,e,n;n=this.controllers;for(t in n)e=n[t],e.destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},t.prototype.dispatch=function(t){var e,n,i,r;i=this.controllers,r=[];for(e in i)n=i[e],r.push(n.lookUp(t));return r},t.prototype.onKeyup=function(t){var n;switch(t.keyCode){case a.ESC:t.preventDefault(),null!=(n=this.controller())&&n.view.hide();break;case a.DOWN:case a.UP:case a.CTRL:e.noop();break;case a.P:case a.N:t.ctrlKey||this.dispatch(t);break;default:this.dispatch(t)}},t.prototype.onKeydown=function(t){var n,i;if(i=null!=(n=this.controller())?n.view:void 0,i&&i.visible())switch(t.keyCode){case a.ESC:t.preventDefault(),i.hide(t);break;case a.UP:t.preventDefault(),i.prev();break;case a.DOWN:t.preventDefault(),i.next();break;case a.P:if(!t.ctrlKey)return;t.preventDefault(),i.prev();break;case a.N:if(!t.ctrlKey)return;t.preventDefault(),i.next();break;case a.TAB:case a.ENTER:case a.SPACE:if(!i.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&t.keyCode===a.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&t.keyCode===a.TAB)return;i.highlighted()?(t.preventDefault(),i.choose(t)):i.hide(t);break;default:e.noop()}},t}(),r=function(){function t(t,n){this.app=t,this.at=n,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=e("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=e("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new l(this),this.view=new u(this)}return t.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},t.prototype.init=function(t){return this.setting=e.extend({},this.setting||e.fn.atwho["default"],t),this.view.init(),this.model.reload(this.setting.data)},t.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},t.prototype.callDefault=function(){var t,n,i;i=arguments[0],t=2<=arguments.length?h.call(arguments,1):[];try{return o[i].apply(this,t)}catch(r){return n=r,e.error(n+" Or maybe At.js doesn't have function "+i)}},t.prototype.trigger=function(t,e){var n,i;return null==e&&(e=[]),e.push(this),n=this.getOpt("alias"),i=n?t+"-"+n+".atwho":t+".atwho",this.$inputor.trigger(i,e)},t.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||o[t]},t.prototype.getOpt=function(t,e){var n;try{return this.setting[t]}catch(i){return n=i,null}},t.prototype.insertContentFor=function(t){var n,i;return i=this.getOpt("insertTpl"),n=e.extend({},t.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,i,n,"onInsert")},t.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},t.arrayToDefaultHash=function(t){var n,i,r,o;if(!e.isArray(t))return t;for(o=[],n=0,r=t.length;r>n;n++)i=t[n],e.isPlainObject(i)?o.push(i):o.push({name:i});return o},t.prototype.lookUp=function(t){var e,n;return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(n=this.getOpt("delay"))?this._delayLookUp(e,n):this._lookUp(e),e):(this.expectedQueryCBId=null,e)},t.prototype._delayLookUp=function(t,e){var n,i;return n=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=n),i=e-(n-this.previousCallTime),i>0&&e>i?(this.previousCallTime=n,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout(function(e){return function(){return e.previousCallTime=0,e.delayedCallTimeout=null,e._lookUp(t)}}(this),e)):(this._stopDelayedCall(),this.previousCallTime!==n&&(this.previousCallTime=0),this._lookUp(t))},t.prototype._stopDelayedCall=function(){return this.delayedCallTimeout?(clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null):void 0},t.prototype._generateQueryCBId=function(){return{}},t.prototype._lookUp=function(t){var n;return n=function(t,e){return t===this.expectedQueryCBId?e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide():void 0},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(t.text,e.proxy(n,this,this.expectedQueryCBId))},t}(),c=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return d(n,t),n.prototype.catchQuery=function(){var t,e,n,i,r,o;return e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),o=e.slice(0,t),i=this.callbacks("matcher").call(this,this.at,o,this.getOpt("startWithSpace")),"string"==typeof i&&i.length<=this.getOpt("maxLen",20)?(r=t-i.length,n=r+i.length,this.pos=r,i={text:i,headPos:r,endPos:n},this.trigger("matched",[this.at,i.text])):(i=null,this.view.hide()),this.query=i},n.prototype.rect=function(){var t,n,i;if(t=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(n=e(this.app.iframe).offset(),t.left+=n.left,t.top+=n.top),i=this.app.document.selection?0:2,{left:t.left,top:t.top,bottom:t.top+t.height+i}},n.prototype.insert=function(t,e){var n,i,r,o,s;return n=this.$inputor,i=n.val(),r=i.slice(0,Math.max(this.query.headPos-this.at.length,0)),o=""===(o=this.getOpt("suffix"))?o:o||" ",t+=o,s=""+r+t+i.slice(this.query.endPos||0),n.val(s),n.caret("pos",r.length+t.length,{iframe:this.app.iframe}),n.is(":focus")||n.focus(),n.change()},n}(r),s=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return d(n,t),n.prototype._getRange=function(){var t;return t=this.app.window.getSelection(),t.rangeCount>0?t.getRangeAt(0):void 0},n.prototype._setRange=function(t,n,i){return null==i&&(i=this._getRange()),i?(n=e(n)[0],"after"===t?(i.setEndAfter(n),i.setStartAfter(n)):(i.setEndBefore(n),i.setStartBefore(n)),i.collapse(!1),this._clearRange(i)):void 0},n.prototype._clearRange=function(t){var e;return null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed?(e.removeAllRanges(),e.addRange(t)):void 0},n.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===a.RIGHT||e===a.LEFT||e===a.UP||e===a.DOWN},n.prototype._unwrap=function(t){var n;return t=e(t).unwrap().get(0),(n=t.nextSibling)&&n.nodeValue&&(t.nodeValue+=n.nodeValue,e(n).remove()),t},n.prototype.catchQuery=function(t){var n,i,r,o,s,l,c,u,h,d;if(!this.app.isComposing&&(d=this._getRange())){if(t.which===a.CTRL?this.ctrl_pressed=!0:t.which===a.A?null==this.ctrl_pressed&&(this.ctrl_a_pressed=!0):(delete this.ctrl_a_pressed,delete this.ctrl_pressed),t.which===a.ENTER)return(i=e(d.startContainer).closest(".atwho-query")).contents().unwrap(),i.is(":empty")&&i.remove(),(i=e(".atwho-query",this.app.document)).text(i.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(e(d.startContainer).is(this.$inputor))return void this._clearRange();t.which===a.BACKSPACE&&d.startContainer.nodeType===document.ELEMENT_NODE&&(u=d.startOffset-1)>=0?(r=d.cloneRange(),r.setStart(d.startContainer,u),e(r.cloneContents()).contents().last().is(".atwho-inserted")&&(s=e(d.startContainer).contents().get(u),this._setRange("after",e(s).contents().last()))):t.which===a.LEFT&&d.startContainer.nodeType===document.TEXT_NODE&&(n=e(d.startContainer.previousSibling),n.is(".atwho-inserted")&&0===d.startOffset&&this._setRange("after",n.contents().last()))}return e(d.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(i=e(".atwho-query",this.app.document)).length>0&&i.is(":empty")&&0===i.text().length&&i.remove(),this._movingEvent(t)||i.removeClass("atwho-inserted"),r=d.cloneRange(),r.setStart(d.startContainer,0),c=this.callbacks("matcher").call(this,this.at,r.toString(),this.getOpt("startWithSpace")),0===i.length&&"string"==typeof c&&(o=d.startOffset-this.at.length-c.length)>=0&&(d.setStart(d.startContainer,o),i=e("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),d.surroundContents(i.get(0)),l=i.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(d.setStart(l,l.length),d.setEnd(l,l.length),this._clearRange(d)):this._setRange("after",l,d)),"string"==typeof c&&c.length<=this.getOpt("maxLen",20)?(h={text:c,el:i},this.trigger("matched",[this.at,h.text]),this.query=h):(this.view.hide(),this.query={el:i},i.text().indexOf(this.at)>=0&&(this._movingEvent(t)&&i.hasClass("atwho-inserted")?i.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,i)&&this._setRange("after",this._unwrap(i.text(i.text()).contents().first()))),null)}},n.prototype.rect=function(){var t,n,i;return i=this.query.el.offset(),this.app.iframe&&!this.app.iframeAsRoot&&(n=(t=e(this.app.iframe)).offset(),i.left+=n.left-this.$inputor.scrollLeft(),i.top+=n.top-this.$inputor.scrollTop()),i.bottom=i.top+this.query.el.height(),i},n.prototype.insert=function(t,e){var n,i,r;return i=""===(i=this.getOpt("suffix"))?i:i||"\xa0",this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t),(n=this._getRange())&&(n.setEndAfter(this.query.el[0]),n.collapse(!1),n.insertNode(r=this.app.document.createTextNode(i)),this._setRange("after",r,n)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},n}(r),l=function(){function t(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return t.prototype.destroy=function(){return this.storage.data(this.at,null)},t.prototype.saved=function(){return this.fetch()>0},t.prototype.query=function(t,e){var n,i,r;return i=this.fetch(),r=this.context.getOpt("searchKey"),i=this.context.callbacks("filter").call(this.context,t,i,r)||[],n=this.context.callbacks("remoteFilter"),i.length>0||!n&&0===i.length?e(i):n.call(this.context,t,e)},t.prototype.fetch=function(){return this.storage.data(this.at)||[]},t.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},t.prototype.load=function(t){return!this.saved()&&t?this._load(t):void 0},t.prototype.reload=function(t){return this._load(t)},t.prototype._load=function(t){return"string"==typeof t?e.ajax(t,{dataType:"json"}).done(function(t){return function(e){return t.save(e)}}(this)):this.save(t)},t}(),u=function(){function t(t){this.context=t,this.$el=e("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return t.prototype.init=function(){var t;return t=this.context.getOpt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+t})},t.prototype.destroy=function(){return this.$el.remove()},t.prototype.bindEvent=function(){var t;return t=this.$el.find("ul"),t.on("mouseenter.atwho-view","li",function(n){return t.find(".cur").removeClass("cur"),e(n.currentTarget).addClass("cur")}).on("click.atwho-view","li",function(n){return function(i){return t.find(".cur").removeClass("cur"),e(i.currentTarget).addClass("cur"),n.choose(i),i.preventDefault()}}(this))},t.prototype.visible=function(){return this.$el.is(":visible")},t.prototype.highlighted=function(){return this.$el.find(".cur").length>0},t.prototype.choose=function(t){var e,n;return(e=this.$el.find(".cur")).length&&(n=this.context.insertContentFor(e),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,n,e),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix")?this.stopShowing=!0:void 0},t.prototype.reposition=function(t){var n,i,r,o;return n=this.context.app.iframeAsRoot?this.context.app.window:window,t.bottom+this.$el.height()-e(n).scrollTop()>e(n).height()&&(t.bottom=t.top-this.$el.height()),t.left>(r=e(n).width()-this.$el.width()-5)&&(t.left=r),i={left:t.left,top:t.bottom},null!=(o=this.context.callbacks("beforeReposition"))&&o.call(this.context,i),this.$el.offset(i),this.context.trigger("reposition",[i])},t.prototype.next=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.next(),e.length||(e=this.$el.find("li:first")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.prev=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.prev(),e.length||(e=this.$el.find("li:last")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()));
},t.prototype.scrollTop=function(t){var e;return e=this.context.getOpt("scrollDuration"),e?this.$el.animate({scrollTop:t},e):this.$el.scrollTop(t)},t.prototype.show=function(){var t;return this.stopShowing?void(this.stopShowing=!1):(this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0)},t.prototype.hide=function(t,e){var n;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(n=function(t){return function(){return t.hide()}}(this),clearTimeout(this.timeoutID),this.timeoutID=setTimeout(n,e))},t.prototype.render=function(t){var n,i,r,o,s,a,l;if(!(e.isArray(t)&&t.length>0))return void this.hide();for(this.$el.find("ul").empty(),i=this.$el.find("ul"),l=this.context.getOpt("displayTpl"),r=0,s=t.length;s>r;r++)o=t[r],o=e.extend({},o,{"atwho-at":this.context.at}),a=this.context.callbacks("tplEval").call(this.context,l,o,"onDisplay"),n=e(this.context.callbacks("highlighter").call(this.context,a,this.context.query.text)),n.data("item-data",o),i.append(n);return this.show(),this.context.getOpt("highlightFirst")?i.find("li:first").addClass("cur"):void 0},t}(),a={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},o={beforeSave:function(t){return r.arrayToDefaultHash(t)},matcher:function(t,e,n,i){var r,o,s,a,l;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(t="(?:^|\\s)"+t),r=decodeURI("%C3%80"),o=decodeURI("%C3%BF"),l=i?" ":"",a=new RegExp(t+"([A-Za-z"+r+"-"+o+"0-9_"+l+".+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi"),s=a.exec(e),s?s[2]||s[1]:null},filter:function(t,e,n){var i,r,o,s;for(i=[],r=0,s=e.length;s>r;r++)o=e[r],~new String(o[n]).toLowerCase().indexOf(t.toLowerCase())&&i.push(o);return i},remoteFilter:null,sorter:function(t,e,n){var i,r,o,s;if(!t)return e;for(i=[],r=0,s=e.length;s>r;r++)o=e[r],o.atwho_order=new String(o[n]).toLowerCase().indexOf(t.toLowerCase()),o.atwho_order>-1&&i.push(o);return i.sort(function(t,e){return t.atwho_order-e.atwho_order})},tplEval:function(t,e){var n,i;i=t;try{return"string"!=typeof t&&(i=t(e)),i.replace(/\$\{([^\}]*)\}/g,function(t,n,i){return e[n]})}catch(r){return n=r,""}},highlighter:function(t,e){var n;return e?(n=new RegExp(">\\s*(\\w*?)("+e.replace("+","\\+")+")(\\w*)\\s*<","ig"),t.replace(n,function(t,e,n,i){return"> "+e+"<strong>"+n+"</strong>"+i+" <"})):t},beforeInsert:function(t,e){return t},beforeReposition:function(t){return t},afterMatchFailed:function(t,e){}},n={load:function(t,e){var n;return(n=this.controller(t))?n.model.load(e):void 0},isSelecting:function(){var t;return null!=(t=this.controller())?t.view.visible():void 0},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;return(t=this.controller())?t.view.reposition(t.rect()):void 0},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},e.fn.atwho=function(t){var r,o;return r=arguments,o=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var s,a;return(a=(s=e(this)).data("atwho"))||s.data("atwho",a=new i(this)),"object"!=typeof t&&t?n[t]&&a?o=n[t].apply(a,Array.prototype.slice.call(r,1)):e.error("Method "+t+" does not exist on jQuery.atwho"):a.reg(t.at,t)}),null!=o?o:this},e.fn.atwho["default"]={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",callbacks:o,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150},e.fn.atwho.debug=!1}),function(t,e,n){function i(t){return t}function r(t){return decodeURIComponent(t.replace(o," "))}var o=/\+/g,s=t.cookie=function(o,a,l){if(a!==n){if(l=t.extend({},s.defaults,l),null===a&&(l.expires=-1),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setDate(u.getDate()+c)}return a=s.json?JSON.stringify(a):String(a),e.cookie=[encodeURIComponent(o),"=",s.raw?a:encodeURIComponent(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=s.raw?i:r,d=e.cookie.split("; "),p=0,f=d.length;f>p;p++){var m=d[p].split("=");if(h(m.shift())===o){var g=h(m.join("="));return s.json?JSON.parse(g):g}}return null};s.defaults={},t.removeCookie=function(e,n){return null!==t.cookie(e)?(t.cookie(e,null,n),!0):!1}}(jQuery,document),function(t){t.fn.characterCounter=function(e){function n(n){$input=t(n),$counter=t("<"+e.counterWrapper+' class="'+e.counterCssClass+'"></'+e.counterWrapper+">"),$input.after($counter),$input.data("counter",$counter)}function i(t){return e.counterFormat.replace(/%1/,t)}function r(n){var r=t(n),s=r.val().length,a=e.limit-s,l=o(r);0>a?(l.addClass(e.counterExceededCssClass),e.exceeded=!0,e.onExceed(s)):e.exceeded&&(l.removeClass(e.counterExceededCssClass),e.onDeceed(s),e.exceeded=!1),l.html(i(a))}function o(t){return t.data("counter")||t.next("."+e.counterCssClass)}function s(e){t(e).bind("keyup",function(){r(e)}).bind("paste",function(){var t=this;setTimeout(function(){r(t)},0)})}var a={exceeded:!1,limit:150,counterWrapper:"span",counterCssClass:"counter",counterFormat:"%1",counterExceededCssClass:"exceeded",onExceed:function(t){},onDeceed:function(t){}},e=t.extend(a,e);return this.each(function(){n(this),s(this),r(this)})}}(jQuery),function(){var t,e,n;n=function(n,i,r){var o,s;return null==r&&(r={}),null==n?n:n.length>i?(o=e(n,r),s=t(n,i-o.length,r),""+n.substring(0,s)+o):n},t=function(t,e,n){var i,r;return n.separator?(i=t.lastIndexOf(n.separator,e),r=i>0?i:e):e},e=function(t,e){var n,i,r;return r=e.omission||"\u2026",e.separator&&e.extension&&(i=t.lastIndexOf(e.separator),n=i>0?t.substring(i):"",r+=n),r},$.extend(!0,{truncate:n})}.call(this),function(){var t;null==(t=this.CP).IE&&(t.IE={})}.call(this),Function("/*@cc_on return /^10/.test(@_jscript_version) @*/")()&&$(document.body).removeClass("placeholder").addClass("no-placeholder"),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){var e=n(this);return isNaN(e.datetime)||t(this).text(i(e.datetime)),this}function n(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:o.datetime(e)});var n=t.trim(e.text());!(n.length>0)||o.isTime(e)&&e.attr("title")||e.attr("title",n)}return e.data("timeago")}function i(t){return o.inWords(r(t))}function r(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return i(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var o=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function n(n,r){var o=t.isFunction(n)?n(r,e):n,s=i.numbers&&i.numbers[r]||r;return o.replace(/%d/i,s)}var i=this.settings.strings,r=i.prefixAgo,o=i.suffixAgo;this.settings.allowFuture&&0>e&&(r=i.prefixFromNow,o=i.suffixFromNow);var s=Math.abs(e)/1e3,a=s/60,l=a/60,c=l/24,u=c/365,h=45>s&&n(i.seconds,Math.round(s))||90>s&&n(i.minute,1)||45>a&&n(i.minutes,Math.round(a))||90>a&&n(i.hour,1)||24>l&&n(i.hours,Math.round(l))||42>l&&n(i.day,1)||30>c&&n(i.days,Math.round(c))||45>c&&n(i.month,1)||365>c&&n(i.months,Math.round(c/30))||1.5>u&&n(i.year,1)||n(i.years,Math.round(u)),d=i.wordSeparator||"";return void 0===i.wordSeparator&&(d=" "),t.trim([r,h,o].join(d))},parse:function(e){var n=t.trim(e);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},datetime:function(e){var n=o.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return o.parse(n)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}}),t.fn.timeago=function(){var t=this;t.each(e);var n=o.settings;return n.refreshMillis>0&&setInterval(function(){t.each(e)},n.refreshMillis),t},document.createElement("abbr"),document.createElement("time")}),function(){$.extend(!0,$.timeago,{settings:{strings:{minute:"1 minute"}}}),$.timeago.inWords=$.proxy(function(t){var e,n,i,r,o,s,a,l,c,u,h,d;return l=this.settings.strings,o=l.prefixAgo,u=l.suffixAgo,this.settings.allowFuture&&0>t&&(o=l.prefixFromNow,u=l.suffixFromNow),s=Math.abs(t)/1e3,i=Math.round(s/60),n=Math.round(i/60),e=Math.round(i/1440),r=Math.round(i/43200),d=e/365,c=function(e,n){var i,r;return i=$.isFunction(e)?e(n,t):e,r=l.numbers&&l.numbers[n]||n,i.replace(/%d/i,r)},h=1>i&&c(l.seconds,Math.round(s))||2>i&&c(l.minute,1)||45>i&&c(l.minutes,Math.round(i))||90>i&&c(l.hour,1)||24>n&&c(l.hours,Math.round(n))||42>n&&c(l.day,1)||60>e&&c(l.days,Math.round(e))||365>e&&c(l.months,r)||1.5>d&&c(l.year,1)||c(l.years,Math.round(d)),a=l.wordSeparator||"",void 0===l.wordSeparator&&(a=" "),$.trim([o,h,u].join(a))},$.timeago)}.call(this),function(){var t;t=function(){function t(t){this.$base=$(t),this.bindContentReady(),$.extend(!0,$.timeago.settings,{allowFuture:!0,strings:{suffixFromNow:null}})}return t.prototype.bindContentReady=function(){return this.$base.on("historic.contentReady",function(t){return function(){return t.timeago()}}(this))},t.prototype.contentReady=function(){return this.$base.trigger("historic.contentReady")},t.prototype.timeago=function(){return this.$base.find("time.timeago").timeago()},t.setup=function(t){var e;return e=new this(t),e.contentReady()},t}(),this.CP.Historic=t}.call(this),function(){var t,e=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.timeago=function(){var t;return t=$.extend(!0,{},$.timeago.settings),$.extend(!0,$.timeago.settings,{allowFuture:!0,strings:{suffixFromNow:null}}),n.__super__.timeago.call(this),$.timeago.settings=t},n}(this.CP.Historic),this.CP.Home.ChallengeListing=t}.call(this),!function(t){"use strict";var e=function(t){this.defined="undefined"!=typeof localStorage};e.prototype={constructor:e,get:function(t,e){return localStorage.getItem(t)?localStorage.getItem(t):"undefined"!=typeof e?e:null},has:function(t){return localStorage.getItem(t)?!0:!1},set:function(t,e,n){return"string"==typeof e&&(""===e?this.destroy(t):localStorage.setItem(t,e)),"function"==typeof n?n():!0},destroy:function(t,e){return localStorage.removeItem(t),"function"==typeof e?e():!0},clean:function(t){for(var e=localStorage.length-1;e>=0;e--)"undefined"==typeof Array.indexOf&&-1!==localStorage.key(e).indexOf("garlic:")&&localStorage.removeItem(localStorage.key(e));return"function"==typeof t?t():!0},clear:function(t){return localStorage.clear(),"function"==typeof t?t():!0}};var n=function(t,e,n){this.init("garlic",t,e,n)};n.prototype={constructor:n,init:function(e,n,i,r){this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.storage=i,this.path=this.options.getPath(this.$element)||this.getPath(),this.parentForm=this.$element.closest("form"),this.$element.addClass("garlic-auto-save"),this.expiresFlag=this.options.expires?(this.$element.data("expires")?this.path:this.getPath(this.parentForm))+"_flag":!1,this.$element.on(this.options.events.join("."+this.type+" "),!1,t.proxy(this.persist,this)),this.options.destroy&&t(this.parentForm).on("submit reset",!1,t.proxy(this.destroy,this)),this.retrieve()},getOptions:function(e){return t.extend({},t.fn[this.type].defaults,e,this.$element.data())},persist:function(){this.val!==this.getVal()&&(this.val=this.getVal(),this.options.expires&&this.storage.set(this.expiresFlag,((new Date).getTime()+1e3*this.options.expires).toString()),this.storage.set(this.path,this.getVal()))},getVal:function(){return this.$element.is("input[type=checkbox]")?this.$element.prop("checked")?"checked":"unchecked":this.$element.val()},retrieve:function(){if(this.storage.has(this.path)){if(this.options.expires){var t=(new Date).getTime();if(this.storage.get(this.expiresFlag)<t.toString())return void this.storage.destroy(this.path);this.$element.attr("expires-in",Math.floor((parseInt(this.storage.get(this.expiresFlag))-t)/1e3))}var e=this.storage.get(this.path);return this.options.conflictManager.enabled&&this.detectConflict()?this.conflictManager():this.$element.is("input[type=radio], input[type=checkbox]")?"checked"===e||this.$element.val()===e?this.$element.attr("checked",!0):void("unchecked"===e&&this.$element.attr("checked",!1)):(this.$element.val(e),void this.options.onRetrieve(this.$element,e))}},detectConflict:function(){var e=this;if(this.$element.is("input[type=checkbox], input[type=radio]"))return!1;if(this.$element.val()&&this.storage.get(this.path)!==this.$element.val()){if(this.$element.is("select")){var n=!1;return this.$element.find("option").each(function(){return 0!==t(this).index()&&t(this).attr("selected")&&t(this).val()!==e.storage.get(this.path)?void(n=!0):void 0}),n}return!0}return!1},conflictManager:function(){return"function"!=typeof this.options.conflictManager.onConflictDetected||this.options.conflictManager.onConflictDetected(this.$element,this.storage.get(this.path))?(this.options.conflictManager.garlicPriority?(this.$element.data("swap-data",this.$element.val()),this.$element.data("swap-state","garlic"),this.$element.val(this.storage.get(this.path))):(this.$element.data("swap-data",this.storage.get(this.path)),this.$element.data("swap-state","default")),this.swapHandler(),this.$element.addClass("garlic-conflict-detected"),void this.$element.closest("input[type=submit]").attr("disabled",!0)):!1},swapHandler:function(){var e=t(this.options.conflictManager.template);this.$element.after(e.text(this.options.conflictManager.message)),e.on("click",!1,t.proxy(this.swap,this))},swap:function(){var e=this.$element.data("swap-data");this.$element.data("swap-state","garlic"===this.$element.data("swap-state")?"default":"garlic"),this.$element.data("swap-data",this.$element.val()),t(this.$element).val(e)},destroy:function(){this.storage.destroy(this.path)},remove:function(){return this.remove(),this.$element.is("input[type=radio], input[type=checkbox]")?void t(this.$element).prop("checked",!1):void this.$element.val("")},getPath:function(e){if("undefined"==typeof e&&(e=this.$element),this.options.getPath(e))return this.options.getPath(e);if(1!=e.length)return!1;for(var n="",i=e.is("input[type=checkbox]"),r=e;r.length;){var o=r[0],s=o.nodeName;if(!s)break;s=s.toLowerCase();var a=r.parent(),l=a.children(s);if(t(o).is("form, input, select, textarea")||i){if(s+=t(o).attr("name")?"."+t(o).attr("name"):"",l.length>1&&!t(o).is("input[type=radio]")&&(s+=":eq("+l.index(o)+")"),n=s+(n?">"+n:""),"form"==o.nodeName.toLowerCase())break;r=a}else r=a}return"garlic:"+document.domain+(this.options.domain?"*":window.location.pathname)+">"+n},getStorage:function(){return this.storage}},t.fn.garlic=function(i,r){function o(e){var r=t(e),o=r.data("garlic"),l=t.extend({},s,r.data());if(("undefined"==typeof l.storage||l.storage)&&"password"!==t(e).attr("type"))return o||r.data("garlic",o=new n(e,a,l)),"string"==typeof i&&"function"==typeof o[i]?o[i]():void 0}var s=t.extend(!0,{},t.fn.garlic.defaults,i,this.data()),a=new e,l=!1;return a.defined?(this.each(function(){t(this).is("form")?t(this).find(s.inputs).each(function(){l=o(t(this))}):t(this).is(s.inputs)&&(l=o(t(this)))}),"function"==typeof r?r():l):!1},t.fn.garlic.Constructor=n,t.fn.garlic.defaults={destroy:!0,inputs:"input, textarea, select",events:["DOMAttrModified","textInput","input","change","click","keypress","paste","focus"],domain:!1,expires:!1,conflictManager:{enabled:!1,garlicPriority:!0,template:'<span class="garlic-swap"></span>',message:"This is your saved data. Click here to see default one",onConflictDetected:function(t,e){return!0}},getPath:function(t){},onRetrieve:function(t,e){}},t(window).on("load",function(){t('[data-persist="garlic"]').each(function(){t(this).garlic()})})}(window.jQuery||window.Zepto),function(){$.fn.autosize=function(){var t,e;return e=this.prop("offsetHeight")-this.prop("clientHeight"),t=this.outerHeight(),this.on("input",function(n){return function(){return n.css("height","auto").css({height:_.max([n.prop("scrollHeight")+e,t])})}}(this)).removeAttr("data-autoresize")}}.call(this),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var n,i=document.createElement(t||"div");for(n in e)i[n]=e[n];return i}function e(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function n(t,e,n,i){var r=["opacity",e,~~(100*t),n,i].join("-"),o=.01+n/i*100,s=Math.max(1-(1-t)/e*(100-o),t),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[r]||(d.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+s+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",d.cssRules.length),h[r]=1),r}function i(t,e){var n,i,r=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<u.length;i++)if(n=u[i]+e,void 0!==r[n])return n;return void 0!==r[e]?e:void 0}function r(t,e){for(var n in e)t.style[i(t,n)||n]=e[n];return t}function o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)void 0===t[i]&&(t[i]=n[i])}return t}function s(t,e){return"string"==typeof t?t:t[e%t.length]}function a(t){this.opts=o(t||{},a.defaults,p)}function l(){function n(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}d.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,i){function o(){return r(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(t,a,l){e(d,e(r(o(),{rotation:360/i.lines*t+"deg",left:~~a}),e(r(n("roundrect",{arcsize:i.corners}),{width:c,height:i.width,left:i.radius,top:-i.width>>1,filter:l}),n("fill",{color:s(i.color,t),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,c=i.length+i.width,u=2*c,h=2*-(i.width+i.length)+"px",d=r(o(),{position:"absolute",top:h,left:h});if(i.shadow)for(l=1;l<=i.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)a(l);return e(t,d)},a.prototype.opacity=function(t,e,n,i){var r=t.firstChild;i=i.shadow&&i.lines||0,r&&e+i<r.childNodes.length&&(r=r.childNodes[e+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}}var c,u=["webkit","Moz","ms","O"],h={},d=function(){var n=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},o(a.prototype,{spin:function(e){this.stop();var n=this,i=n.opts,o=n.el=r(t(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});i.radius+i.length+i.width;if(r(o,{left:i.left,top:i.top}),e&&e.insertBefore(o,e.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!c){var s,a=0,l=(i.lines-1)*(1-i.direction)/2,u=i.fps,h=u/i.speed,d=(1-i.opacity)/(h*i.trail/100),p=h/i.lines;!function f(){a++;for(var t=0;t<i.lines;t++)s=Math.max(1-(a+(i.lines-t)*p)%h*d,i.opacity),n.opacity(o,t*i.direction+l,s,i);n.timeout=n.el&&setTimeout(f,~~(1e3/u))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(i,o){function a(e,n){return r(t(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*u+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var l,u=0,h=(o.lines-1)*(1-o.direction)/2;u<o.lines;u++)l=r(t(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,h+u*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&e(l,r(a("#000","0 0 4px #000"),{top:"2px"})),e(i,e(l,a(s(o.color,u),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var f=r(t("group"),{behavior:"url(#default#VML)"});return!i(f,"transform")&&f.adj?l():c=i(f,"animation"),a});